{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "set_script", "args": ["(xor\n (seq\n  (seq\n   (seq\n    (seq\n     (seq\n      (call %init_peer_id% (\"getDataSrv\" \"-relay-\") [] -relay-)\n      (call %init_peer_id% (\"getDataSrv\" \"spell_id\") [] -spell_id-arg-)\n     )\n     (call %init_peer_id% (\"getDataSrv\" \"chain\") [] -chain-arg-)\n    )\n    (call %init_peer_id% (\"getDataSrv\" \"worker_settings\") [] -worker_settings-arg-)\n   )\n   (new $latest\n    (seq\n     (seq\n      (seq\n       (call %init_peer_id% (\"chain_connector\" \"latest_block_number\") [-chain-arg-.$.api_endpoint] ret)\n       (new -if-else-error-\n        (new -else-error-\n         (new -if-error-\n          (xor\n           (match ret.$.success true\n            (ap ret.$.number_hex $latest)\n           )\n           (seq\n            (ap :error: -if-error-)\n            (xor\n             (match :error:.$.error_code 10001\n              (seq\n               (seq\n                (seq\n                 (new $array-inline\n                  (seq\n                   (seq\n                    (ap \"error retrieving latest block number\" $array-inline)\n                    (ap ret.$.error $array-inline)\n                   )\n                   (canon %init_peer_id% $array-inline  #array-inline-0)\n                  )\n                 )\n                 (par\n                  (call %init_peer_id% (\"run-console\" \"print\") [\"decider\" #array-inline-0])\n                  (null)\n                 )\n                )\n                (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-0] ret-0)\n               )\n               (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-0] ret-1)\n              )\n             )\n             (seq\n              (seq\n               (ap :error: -else-error-)\n               (xor\n                (match :error:.$.error_code 10001\n                 (ap -if-error- -if-else-error-)\n                )\n                (ap -else-error- -if-else-error-)\n               )\n              )\n              (fail -if-else-error-)\n             )\n            )\n           )\n          )\n         )\n        )\n       )\n      )\n      (canon %init_peer_id% $latest  #-latest-fix-0)\n     )\n     (ap #-latest-fix-0 -latest-flat-0)\n    )\n   )\n  )\n  (new -if-error-\n   (xor\n    (mismatch -latest-flat-0 []\n     (seq\n      (seq\n       (seq\n        (seq\n         (seq\n          (seq\n           (seq\n            (new $joined_deals-0\n             (seq\n              (seq\n               (seq\n                (seq\n                 (call %init_peer_id% (-spell_id-arg- \"list_get_strings\") [\"joined_deals\"] ret-2)\n                 (xor\n                  (match ret-2.$.success true\n                   (ap false not)\n                  )\n                  (ap true not)\n                 )\n                )\n                (new -if-else-error-\n                 (new -else-error-\n                  (new -if-error-\n                   (xor\n                    (match not true\n                     (seq\n                      (seq\n                       (seq\n                        (new $array-inline-1\n                         (seq\n                          (seq\n                           (ap \"can't restrive joined deals\" $array-inline-1)\n                           (ap ret-2.$.error $array-inline-1)\n                          )\n                          (canon %init_peer_id% $array-inline-1  #array-inline-1-0)\n                         )\n                        )\n                        (par\n                         (call %init_peer_id% (\"run-console\" \"print\") [\"decider\" #array-inline-1-0])\n                         (null)\n                        )\n                       )\n                       (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-1-0] ret-3)\n                      )\n                      (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-3] ret-4)\n                     )\n                    )\n                    (seq\n                     (ap :error: -if-error-)\n                     (xor\n                      (match :error:.$.error_code 10001\n                       (fold ret-2.$.value joined_deal_str-0\n                        (seq\n                         (xor\n                          (seq\n                           (call %init_peer_id% (\"json\" \"parse\") [joined_deal_str-0] ret-5)\n                           (ap ret-5 $joined_deals-0)\n                          )\n                          (seq\n                           (seq\n                            (seq\n                             (new $array-inline-2\n                              (seq\n                               (seq\n                                (seq\n                                 (ap \"error parsing JoinedDeal\" $array-inline-2)\n                                 (ap joined_deal_str-0 $array-inline-2)\n                                )\n                                (ap :error: $array-inline-2)\n                               )\n                               (canon %init_peer_id% $array-inline-2  #array-inline-2-0)\n                              )\n                             )\n                             (par\n                              (call %init_peer_id% (\"run-console\" \"print\") [\"decider\" #array-inline-2-0])\n                              (null)\n                             )\n                            )\n                            (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-2-0] ret-6)\n                           )\n                           (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-6] ret-7)\n                          )\n                         )\n                         (next joined_deal_str-0)\n                        )\n                       )\n                      )\n                      (seq\n                       (seq\n                        (ap :error: -else-error-)\n                        (xor\n                         (match :error:.$.error_code 10001\n                          (ap -if-error- -if-else-error-)\n                         )\n                         (ap -else-error- -if-else-error-)\n                        )\n                       )\n                       (fail -if-else-error-)\n                      )\n                     )\n                    )\n                   )\n                  )\n                 )\n                )\n               )\n               (canon %init_peer_id% $joined_deals-0  #-joined_deals-fix-0)\n              )\n              (ap #-joined_deals-fix-0 -joined_deals-flat-0)\n             )\n            )\n            (xor\n             (seq\n              (new $left-0\n               (seq\n                (seq\n                 (seq\n                  (seq\n                   (seq\n                    (seq\n                     (seq\n                      (seq\n                       (seq\n                        (seq\n                         (seq\n                          (new $result\n                           (seq\n                            (seq\n                             (seq\n                              (seq\n                               (call %init_peer_id% (-spell_id-arg- \"get_string\") [\"last_seen_block\"] ret-8)\n                               (xor\n                                (match ret-8.$.success true\n                                 (ap false not-0)\n                                )\n                                (ap true not-0)\n                               )\n                              )\n                              (new -if-else-error-\n                               (new -else-error-\n                                (new -if-error-\n                                 (xor\n                                  (match not-0 true\n                                   (seq\n                                    (seq\n                                     (seq\n                                      (new $array-inline-3\n                                       (seq\n                                        (seq\n                                         (seq\n                                          (ap \"get_string failed\" $array-inline-3)\n                                          (ap \"last_seen_block\" $array-inline-3)\n                                         )\n                                         (ap ret-8.$.error $array-inline-3)\n                                        )\n                                        (canon %init_peer_id% $array-inline-3  #array-inline-3-0)\n                                       )\n                                      )\n                                      (par\n                                       (call %init_peer_id% (\"run-console\" \"print\") [\"decider\" #array-inline-3-0])\n                                       (null)\n                                      )\n                                     )\n                                     (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-3-0] ret-9)\n                                    )\n                                    (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-9] ret-10)\n                                   )\n                                  )\n                                  (seq\n                                   (ap :error: -if-error-)\n                                   (xor\n                                    (match :error:.$.error_code 10001\n                                     (seq\n                                      (xor\n                                       (match ret-8.$.absent true\n                                        (ap false not-1)\n                                       )\n                                       (ap true not-1)\n                                      )\n                                      (new -if-error-\n                                       (xor\n                                        (match not-1 true\n                                         (ap ret-8.$.value $result)\n                                        )\n                                        (seq\n                                         (ap :error: -if-error-)\n                                         (xor\n                                          (match :error:.$.error_code 10001\n                                           (null)\n                                          )\n                                          (fail -if-error-)\n                                         )\n                                        )\n                                       )\n                                      )\n                                     )\n                                    )\n                                    (seq\n                                     (seq\n                                      (ap :error: -else-error-)\n                                      (xor\n                                       (match :error:.$.error_code 10001\n                                        (ap -if-error- -if-else-error-)\n                                       )\n                                       (ap -else-error- -if-else-error-)\n                                      )\n                                     )\n                                     (fail -if-else-error-)\n                                    )\n                                   )\n                                  )\n                                 )\n                                )\n                               )\n                              )\n                             )\n                             (canon %init_peer_id% $result  #-result-fix-0)\n                            )\n                            (ap #-result-fix-0 -result-flat-0)\n                           )\n                          )\n                          (new $array-inline-4\n                           (seq\n                            (seq\n                             (ap \"maybe_last_seen is\" $array-inline-4)\n                             (ap -result-flat-0 $array-inline-4)\n                            )\n                            (canon %init_peer_id% $array-inline-4  #array-inline-4-0)\n                           )\n                          )\n                         )\n                         (par\n                          (call %init_peer_id% (\"run-console\" \"print\") [\"decider\" #array-inline-4-0])\n                          (null)\n                         )\n                        )\n                        (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-4-0] ret-11)\n                       )\n                       (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-11] ret-12)\n                      )\n                      (new -if-else-error-\n                       (new -else-error-\n                        (new -if-error-\n                         (xor\n                          (match -result-flat-0 []\n                           (seq\n                            (seq\n                             (seq\n                              (seq\n                               (seq\n                                (seq\n                                 (new $left-1\n                                  (seq\n                                   (seq\n                                    (seq\n                                     (new $from_block-1\n                                      (seq\n                                       (seq\n                                        (new $result-0\n                                         (seq\n                                          (seq\n                                           (seq\n                                            (seq\n                                             (call %init_peer_id% (-spell_id-arg- \"get_string\") [\"from_block\"] ret-13)\n                                             (xor\n                                              (match ret-13.$.success true\n                                               (ap false not-2)\n                                              )\n                                              (ap true not-2)\n                                             )\n                                            )\n                                            (new -if-else-error-\n                                             (new -else-error-\n                                              (new -if-error-\n                                               (xor\n                                                (match not-2 true\n                                                 (seq\n                                                  (seq\n                                                   (seq\n                                                    (new $array-inline-5\n                                                     (seq\n                                                      (seq\n                                                       (seq\n                                                        (ap \"get_string failed\" $array-inline-5)\n                                                        (ap \"from_block\" $array-inline-5)\n                                                       )\n                                                       (ap ret-13.$.error $array-inline-5)\n                                                      )\n                                                      (canon %init_peer_id% $array-inline-5  #array-inline-5-0)\n                                                     )\n                                                    )\n                                                    (par\n                                                     (call %init_peer_id% (\"run-console\" \"print\") [\"decider\" #array-inline-5-0])\n                                                     (null)\n                                                    )\n                                                   )\n                                                   (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-5-0] ret-14)\n                                                  )\n                                                  (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-14] ret-15)\n                                                 )\n                                                )\n                                                (seq\n                                                 (ap :error: -if-error-)\n                                                 (xor\n                                                  (match :error:.$.error_code 10001\n                                                   (seq\n                                                    (xor\n                                                     (match ret-13.$.absent true\n                                                      (ap false not-3)\n                                                     )\n                                                     (ap true not-3)\n                                                    )\n                                                    (new -if-error-\n                                                     (xor\n                                                      (match not-3 true\n                                                       (ap ret-13.$.value $result-0)\n                                                      )\n                                                      (seq\n                                                       (ap :error: -if-error-)\n                                                       (xor\n                                                        (match :error:.$.error_code 10001\n                                                         (null)\n                                                        )\n                                                        (fail -if-error-)\n                                                       )\n                                                      )\n                                                     )\n                                                    )\n                                                   )\n                                                  )\n                                                  (seq\n                                                   (seq\n                                                    (ap :error: -else-error-)\n                                                    (xor\n                                                     (match :error:.$.error_code 10001\n                                                      (ap -if-error- -if-else-error-)\n                                                     )\n                                                     (ap -else-error- -if-else-error-)\n                                                    )\n                                                   )\n                                                   (fail -if-else-error-)\n                                                  )\n                                                 )\n                                                )\n                                               )\n                                              )\n                                             )\n                                            )\n                                           )\n                                           (canon %init_peer_id% $result-0  #-result-fix-0-0)\n                                          )\n                                          (ap #-result-fix-0-0 -result-flat-0-0)\n                                         )\n                                        )\n                                        (new -if-else-error-\n                                         (new -else-error-\n                                          (new -if-error-\n                                           (xor\n                                            (match -result-flat-0-0 []\n                                             (ap \"latest\" $from_block-1)\n                                            )\n                                            (seq\n                                             (ap :error: -if-error-)\n                                             (xor\n                                              (match :error:.$.error_code 10001\n                                               (seq\n                                                (call %init_peer_id% (\"json\" \"parse\") [-result-flat-0-0.$.[0]] ret-16)\n                                                (ap ret-16 $from_block-1)\n                                               )\n                                              )\n                                              (seq\n                                               (seq\n                                                (ap :error: -else-error-)\n                                                (xor\n                                                 (match :error:.$.error_code 10001\n                                                  (ap -if-error- -if-else-error-)\n                                                 )\n                                                 (ap -else-error- -if-else-error-)\n                                                )\n                                               )\n                                               (fail -if-else-error-)\n                                              )\n                                             )\n                                            )\n                                           )\n                                          )\n                                         )\n                                        )\n                                       )\n                                       (new $from_block-1_test\n                                        (seq\n                                         (seq\n                                          (fold $from_block-1 from_block-1_fold_var\n                                           (seq\n                                            (seq\n                                             (ap from_block-1_fold_var $from_block-1_test)\n                                             (canon %init_peer_id% $from_block-1_test  #from_block-1_iter_canon)\n                                            )\n                                            (xor\n                                             (match #from_block-1_iter_canon.length 1\n                                              (null)\n                                             )\n                                             (next from_block-1_fold_var)\n                                            )\n                                           )\n                                           (never)\n                                          )\n                                          (canon %init_peer_id% $from_block-1_test  #from_block-1_result_canon)\n                                         )\n                                         (ap #from_block-1_result_canon from_block-1_gate)\n                                        )\n                                       )\n                                      )\n                                     )\n                                     (new -if-else-error-\n                                      (new -else-error-\n                                       (new -if-error-\n                                        (xor\n                                         (match from_block-1_gate.$.[0] \"latest\"\n                                          (seq\n                                           (new $latest-1\n                                            (seq\n                                             (seq\n                                              (seq\n                                               (call %init_peer_id% (\"chain_connector\" \"latest_block_number\") [-chain-arg-.$.api_endpoint] ret-17)\n                                               (new -if-else-error-\n                                                (new -else-error-\n                                                 (new -if-error-\n                                                  (xor\n                                                   (match ret-17.$.success true\n                                                    (ap ret-17.$.number_hex $latest-1)\n                                                   )\n                                                   (seq\n                                                    (ap :error: -if-error-)\n                                                    (xor\n                                                     (match :error:.$.error_code 10001\n                                                      (seq\n                                                       (seq\n                                                        (seq\n                                                         (new $array-inline-6\n                                                          (seq\n                                                           (seq\n                                                            (ap \"error retrieving latest block number\" $array-inline-6)\n                                                            (ap ret-17.$.error $array-inline-6)\n                                                           )\n                                                           (canon %init_peer_id% $array-inline-6  #array-inline-6-0)\n                                                          )\n                                                         )\n                                                         (par\n                                                          (call %init_peer_id% (\"run-console\" \"print\") [\"decider\" #array-inline-6-0])\n                                                          (null)\n                                                         )\n                                                        )\n                                                        (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-6-0] ret-18)\n                                                       )\n                                                       (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-18] ret-19)\n                                                      )\n                                                     )\n                                                     (seq\n                                                      (seq\n                                                       (ap :error: -else-error-)\n                                                       (xor\n                                                        (match :error:.$.error_code 10001\n                                                         (ap -if-error- -if-else-error-)\n                                                        )\n                                                        (ap -else-error- -if-else-error-)\n                                                       )\n                                                      )\n                                                      (fail -if-else-error-)\n                                                     )\n                                                    )\n                                                   )\n                                                  )\n                                                 )\n                                                )\n                                               )\n                                              )\n                                              (canon %init_peer_id% $latest-1  #-latest-fix-0-0)\n                                             )\n                                             (ap #-latest-fix-0-0 -latest-flat-0-0)\n                                            )\n                                           )\n                                           (new -if-error-\n                                            (xor\n                                             (mismatch -latest-flat-0-0 []\n                                              (ap -latest-flat-0-0.$.[0] $left-1)\n                                             )\n                                             (seq\n                                              (ap :error: -if-error-)\n                                              (xor\n                                               (match :error:.$.error_code 10002\n                                                (null)\n                                               )\n                                               (fail -if-error-)\n                                              )\n                                             )\n                                            )\n                                           )\n                                          )\n                                         )\n                                         (seq\n                                          (ap :error: -if-error-)\n                                          (xor\n                                           (match :error:.$.error_code 10001\n                                            (new -if-else-error-\n                                             (new -else-error-\n                                              (new -if-error-\n                                               (xor\n                                                (match from_block-1_gate.$.[0] \"earliest\"\n                                                 (ap \"0x0\" $left-1)\n                                                )\n                                                (seq\n                                                 (ap :error: -if-error-)\n                                                 (xor\n                                                  (match :error:.$.error_code 10001\n                                                   (ap from_block-1_gate.$.[0] $left-1)\n                                                  )\n                                                  (seq\n                                                   (seq\n                                                    (ap :error: -else-error-)\n                                                    (xor\n                                                     (match :error:.$.error_code 10001\n                                                      (ap -if-error- -if-else-error-)\n                                                     )\n                                                     (ap -else-error- -if-else-error-)\n                                                    )\n                                                   )\n                                                   (fail -if-else-error-)\n                                                  )\n                                                 )\n                                                )\n                                               )\n                                              )\n                                             )\n                                            )\n                                           )\n                                           (seq\n                                            (seq\n                                             (ap :error: -else-error-)\n                                             (xor\n                                              (match :error:.$.error_code 10001\n                                               (ap -if-error- -if-else-error-)\n                                              )\n                                              (ap -else-error- -if-else-error-)\n                                             )\n                                            )\n                                            (fail -if-else-error-)\n                                           )\n                                          )\n                                         )\n                                        )\n                                       )\n                                      )\n                                     )\n                                    )\n                                    (canon %init_peer_id% $left-1  #-left-fix-0-0)\n                                   )\n                                   (ap #-left-fix-0-0 -left-flat-0-0)\n                                  )\n                                 )\n                                 (new $array-inline-7\n                                  (seq\n                                   (seq\n                                    (ap \"init: will set last seen to\" $array-inline-7)\n                                    (ap -left-flat-0-0 $array-inline-7)\n                                   )\n                                   (canon %init_peer_id% $array-inline-7  #array-inline-7-0)\n                                  )\n                                 )\n                                )\n                                (par\n                                 (call %init_peer_id% (\"run-console\" \"print\") [\"decider\" #array-inline-7-0])\n                                 (null)\n                                )\n                               )\n                               (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-7-0] ret-20)\n                              )\n                              (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-20] ret-21)\n                             )\n                             (new -if-error-\n                              (xor\n                               (mismatch -left-flat-0-0 []\n                                (seq\n                                 (seq\n                                  (seq\n                                   (seq\n                                    (new $array-inline-8\n                                     (seq\n                                      (seq\n                                       (ap \"will set last seen to\" $array-inline-8)\n                                       (ap -left-flat-0-0.$.[0] $array-inline-8)\n                                      )\n                                      (canon %init_peer_id% $array-inline-8  #array-inline-8-0)\n                                     )\n                                    )\n                                    (par\n                                     (call %init_peer_id% (\"run-console\" \"print\") [\"decider\" #array-inline-8-0])\n                                     (null)\n                                    )\n                                   )\n                                   (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-8-0] ret-22)\n                                  )\n                                  (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-22] ret-23)\n                                 )\n                                 (xor\n                                  (seq\n                                   (call %init_peer_id% (-spell_id-arg- \"set_string\") [\"last_seen_block\" -left-flat-0-0.$.[0]] ret-24)\n                                   (new -if-else-error-\n                                    (new -else-error-\n                                     (new -if-error-\n                                      (xor\n                                       (match ret-24.$.success true\n                                        (seq\n                                         (seq\n                                          (seq\n                                           (new $array-inline-9\n                                            (seq\n                                             (seq\n                                              (ap \"saved last seen\" $array-inline-9)\n                                              (ap -left-flat-0-0.$.[0] $array-inline-9)\n                                             )\n                                             (canon %init_peer_id% $array-inline-9  #array-inline-9-0)\n                                            )\n                                           )\n                                           (par\n                                            (call %init_peer_id% (\"run-console\" \"print\") [\"decider\" #array-inline-9-0])\n                                            (null)\n                                           )\n                                          )\n                                          (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-9-0] ret-25)\n                                         )\n                                         (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-25] ret-26)\n                                        )\n                                       )\n                                       (seq\n                                        (ap :error: -if-error-)\n                                        (xor\n                                         (match :error:.$.error_code 10001\n                                          (seq\n                                           (seq\n                                            (seq\n                                             (new $array-inline-10\n                                              (seq\n                                               (seq\n                                                (ap \"error saving last_seen_block\" $array-inline-10)\n                                                (ap ret-24.$.error $array-inline-10)\n                                               )\n                                               (canon %init_peer_id% $array-inline-10  #array-inline-10-0)\n                                              )\n                                             )\n                                             (par\n                                              (call %init_peer_id% (\"run-console\" \"print\") [\"decider\" #array-inline-10-0])\n                                              (null)\n                                             )\n                                            )\n                                            (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-10-0] ret-27)\n                                           )\n                                           (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-27] ret-28)\n                                          )\n                                         )\n                                         (seq\n                                          (seq\n                                           (ap :error: -else-error-)\n                                           (xor\n                                            (match :error:.$.error_code 10001\n                                             (ap -if-error- -if-else-error-)\n                                            )\n                                            (ap -else-error- -if-else-error-)\n                                           )\n                                          )\n                                          (fail -if-else-error-)\n                                         )\n                                        )\n                                       )\n                                      )\n                                     )\n                                    )\n                                   )\n                                  )\n                                  (seq\n                                   (seq\n                                    (seq\n                                     (new $array-inline-11\n                                      (seq\n                                       (seq\n                                        (ap \"error saving last_seen_block\" $array-inline-11)\n                                        (ap :error: $array-inline-11)\n                                       )\n                                       (canon %init_peer_id% $array-inline-11  #array-inline-11-0)\n                                      )\n                                     )\n                                     (par\n                                      (call %init_peer_id% (\"run-console\" \"print\") [\"decider\" #array-inline-11-0])\n                                      (null)\n                                     )\n                                    )\n                                    (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-11-0] ret-29)\n                                   )\n                                   (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-29] ret-30)\n                                  )\n                                 )\n                                )\n                               )\n                               (seq\n                                (ap :error: -if-error-)\n                                (xor\n                                 (match :error:.$.error_code 10002\n                                  (null)\n                                 )\n                                 (fail -if-error-)\n                                )\n                               )\n                              )\n                             )\n                            )\n                            (new -if-error-\n                             (xor\n                              (mismatch -left-flat-0-0 []\n                               (ap -left-flat-0-0.$.[0] $left-0)\n                              )\n                              (seq\n                               (ap :error: -if-error-)\n                               (xor\n                                (match :error:.$.error_code 10002\n                                 (null)\n                                )\n                                (fail -if-error-)\n                               )\n                              )\n                             )\n                            )\n                           )\n                          )\n                          (seq\n                           (ap :error: -if-error-)\n                           (xor\n                            (match :error:.$.error_code 10001\n                             (seq\n                              (seq\n                               (seq\n                                (seq\n                                 (call %init_peer_id% (\"chain_connector\" \"hex_add\") [-result-flat-0.$.[0] 1] ret-31)\n                                 (xor\n                                  (match ret-31.$.success true\n                                   (ap false not-4)\n                                  )\n                                  (ap true not-4)\n                                 )\n                                )\n                                (new -if-error-\n                                 (xor\n                                  (match not-4 true\n                                   (seq\n                                    (seq\n                                     (seq\n                                      (new $array-inline-12\n                                       (seq\n                                        (seq\n                                         (seq\n                                          (ap \"hex_add failed\" $array-inline-12)\n                                          (ap -result-flat-0.$.[0] $array-inline-12)\n                                         )\n                                         (ap 1 $array-inline-12)\n                                        )\n                                        (canon %init_peer_id% $array-inline-12  #array-inline-12-0)\n                                       )\n                                      )\n                                      (par\n                                       (call %init_peer_id% (\"run-console\" \"print\") [\"decider\" #array-inline-12-0])\n                                       (null)\n                                      )\n                                     )\n                                     (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-12-0] ret-32)\n                                    )\n                                    (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-32] ret-33)\n                                   )\n                                  )\n                                  (seq\n                                   (ap :error: -if-error-)\n                                   (xor\n                                    (match :error:.$.error_code 10001\n                                     (null)\n                                    )\n                                    (fail -if-error-)\n                                   )\n                                  )\n                                 )\n                                )\n                               )\n                               (ap ret-31.$.hex ret-31_flat)\n                              )\n                              (new -if-else-error-\n                               (new -else-error-\n                                (new -if-error-\n                                 (xor\n                                  (mismatch ret-31_flat []\n                                   (ap ret-31_flat.$.[0] $left-0)\n                                  )\n                                  (seq\n                                   (ap :error: -if-error-)\n                                   (xor\n                                    (match :error:.$.error_code 10002\n                                     (ap -result-flat-0.$.[0] $left-0)\n                                    )\n                                    (seq\n                                     (seq\n                                      (ap :error: -else-error-)\n                                      (xor\n                                       (match :error:.$.error_code 10001\n                                        (ap -if-error- -if-else-error-)\n                                       )\n                                       (ap -else-error- -if-else-error-)\n                                      )\n                                     )\n                                     (fail -if-else-error-)\n                                    )\n                                   )\n                                  )\n                                 )\n                                )\n                               )\n                              )\n                             )\n                            )\n                            (seq\n                             (seq\n                              (ap :error: -else-error-)\n                              (xor\n                               (match :error:.$.error_code 10001\n                                (ap -if-error- -if-else-error-)\n                               )\n                               (ap -else-error- -if-else-error-)\n                              )\n                             )\n                             (fail -if-else-error-)\n                            )\n                           )\n                          )\n                         )\n                        )\n                       )\n                      )\n                     )\n                     (new $array-inline-13\n                      (seq\n                       (seq\n                        (seq\n                         (ap \"left boundary will be\" $array-inline-13)\n                         (canon %init_peer_id% $left-0  #push-to-stream-521)\n                        )\n                        (ap #push-to-stream-521 $array-inline-13)\n                       )\n                       (canon %init_peer_id% $array-inline-13  #array-inline-13-0)\n                      )\n                     )\n                    )\n                    (par\n                     (call %init_peer_id% (\"run-console\" \"print\") [\"decider\" #array-inline-13-0])\n                     (null)\n                    )\n                   )\n                   (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-13-0] ret-34)\n                  )\n                  (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-34] ret-35)\n                 )\n                 (canon %init_peer_id% $left-0  #-left-fix-0)\n                )\n                (ap #-left-fix-0 -left-flat-0)\n               )\n              )\n              (new -if-else-error-\n               (new -else-error-\n                (new -if-error-\n                 (xor\n                  (mismatch -left-flat-0 []\n                   (seq\n                    (new $poll-0\n                     (seq\n                      (seq\n                       (seq\n                        (seq\n                         (call %init_peer_id% (\"chain_connector\" \"poll_deal_matches\") [-chain-arg- -left-flat-0.$.[0]] ret-36)\n                         (xor\n                          (match ret-36.$.success true\n                           (ap false not-5)\n                          )\n                          (ap true not-5)\n                         )\n                        )\n                        (new -if-else-error-\n                         (new -else-error-\n                          (new -if-error-\n                           (xor\n                            (match not-5 true\n                             (seq\n                              (seq\n                               (seq\n                                (new $array-inline-14\n                                 (seq\n                                  (seq\n                                   (ap \"error polling deal created events\" $array-inline-14)\n                                   (ap ret-36.$.error $array-inline-14)\n                                  )\n                                  (canon %init_peer_id% $array-inline-14  #array-inline-14-0)\n                                 )\n                                )\n                                (par\n                                 (call %init_peer_id% (\"run-console\" \"print\") [\"decider\" #array-inline-14-0])\n                                 (null)\n                                )\n                               )\n                               (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-14-0] ret-37)\n                              )\n                              (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-37] ret-38)\n                             )\n                            )\n                            (seq\n                             (ap :error: -if-error-)\n                             (xor\n                              (match :error:.$.error_code 10001\n                               (seq\n                                (seq\n                                 (seq\n                                  (seq\n                                   (seq\n                                    (seq\n                                     (ap ret-36.$.logs ret-36_flat)\n                                     (new $array-inline-15\n                                      (seq\n                                       (seq\n                                        (seq\n                                         (seq\n                                          (seq\n                                           (seq\n                                            (ap ret-36_flat ret-36_flat_to_functor)\n                                            (ap ret-36_flat_to_functor.length ret-36_flat_length)\n                                           )\n                                           (ap \"new deals from poll:\" $array-inline-15)\n                                          )\n                                          (ap ret-36_flat_length $array-inline-15)\n                                         )\n                                         (ap \"from block:\" $array-inline-15)\n                                        )\n                                        (ap -left-flat-0.$.[0] $array-inline-15)\n                                       )\n                                       (canon %init_peer_id% $array-inline-15  #array-inline-15-0)\n                                      )\n                                     )\n                                    )\n                                    (par\n                                     (call %init_peer_id% (\"run-console\" \"print\") [\"decider\" #array-inline-15-0])\n                                     (null)\n                                    )\n                                   )\n                                   (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-15-0] ret-39)\n                                  )\n                                  (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-39] ret-40)\n                                 )\n                                 (new %Poll_obj_map\n                                  (seq\n                                   (seq\n                                    (ap (\"logs\" ret-36_flat) %Poll_obj_map)\n                                    (ap (\"right_boundary\" ret-36.$.right_boundary) %Poll_obj_map)\n                                   )\n                                   (canon %init_peer_id% %Poll_obj_map  Poll_obj)\n                                  )\n                                 )\n                                )\n                                (ap Poll_obj $poll-0)\n                               )\n                              )\n                              (seq\n                               (seq\n                                (ap :error: -else-error-)\n                                (xor\n                                 (match :error:.$.error_code 10001\n                                  (ap -if-error- -if-else-error-)\n                                 )\n                                 (ap -else-error- -if-else-error-)\n                                )\n                               )\n                               (fail -if-else-error-)\n                              )\n                             )\n                            )\n                           )\n                          )\n                         )\n                        )\n                       )\n                       (canon %init_peer_id% $poll-0  #-poll-fix-0)\n                      )\n                      (ap #-poll-fix-0 -poll-flat-0)\n                     )\n                    )\n                    (new -if-error-\n                     (xor\n                      (mismatch -poll-flat-0 []\n                       (seq\n                        (seq\n                         (seq\n                          (seq\n                           (seq\n                            (seq\n                             (seq\n                              (seq\n                               (seq\n                                (seq\n                                 (new $new\n                                  (seq\n                                   (seq\n                                    (fold -poll-flat-0.$.[0].logs match-0\n                                     (seq\n                                      (new $joined\n                                       (seq\n                                        (seq\n                                         (seq\n                                          (seq\n                                           (seq\n                                            (ap match-0.$.info match-0_flat)\n                                            (ap match-0_flat.$.deal_id match-0_flat_flat)\n                                           )\n                                           (new $created\n                                            (seq\n                                             (seq\n                                              (call %init_peer_id% (\"worker\" \"get_worker_id\") [match-0_flat_flat] ret-41)\n                                              (new -if-else-error-\n                                               (new -else-error-\n                                                (new -if-error-\n                                                 (xor\n                                                  (mismatch ret-41 []\n                                                   (ap true $created)\n                                                  )\n                                                  (seq\n                                                   (ap :error: -if-error-)\n                                                   (xor\n                                                    (match :error:.$.error_code 10002\n                                                     (ap false $created)\n                                                    )\n                                                    (seq\n                                                     (seq\n                                                      (ap :error: -else-error-)\n                                                      (xor\n                                                       (match :error:.$.error_code 10001\n                                                        (ap -if-error- -if-else-error-)\n                                                       )\n                                                       (ap -else-error- -if-else-error-)\n                                                      )\n                                                     )\n                                                     (fail -if-else-error-)\n                                                    )\n                                                   )\n                                                  )\n                                                 )\n                                                )\n                                               )\n                                              )\n                                             )\n                                             (new $created_test\n                                              (seq\n                                               (seq\n                                                (fold $created created_fold_var\n                                                 (seq\n                                                  (seq\n                                                   (ap created_fold_var $created_test)\n                                                   (canon %init_peer_id% $created_test  #created_iter_canon)\n                                                  )\n                                                  (xor\n                                                   (match #created_iter_canon.length 1\n                                                    (null)\n                                                   )\n                                                   (next created_fold_var)\n                                                  )\n                                                 )\n                                                 (never)\n                                                )\n                                                (canon %init_peer_id% $created_test  #created_result_canon)\n                                               )\n                                               (ap #created_result_canon created_gate)\n                                              )\n                                             )\n                                            )\n                                           )\n                                          )\n                                          (new -if-error-\n                                           (xor\n                                            (match created_gate.$.[0] true\n                                             (fold -joined_deals-flat-0 deal-0\n                                              (seq\n                                               (new -if-error-\n                                                (xor\n                                                 (match match-0_flat_flat deal-0.$.deal_id\n                                                  (ap true $joined)\n                                                 )\n                                                 (seq\n                                                  (ap :error: -if-error-)\n                                                  (xor\n                                                   (match :error:.$.error_code 10001\n                                                    (null)\n                                                   )\n                                                   (fail -if-error-)\n                                                  )\n                                                 )\n                                                )\n                                               )\n                                               (next deal-0)\n                                              )\n                                             )\n                                            )\n                                            (seq\n                                             (ap :error: -if-error-)\n                                             (xor\n                                              (match :error:.$.error_code 10001\n                                               (null)\n                                              )\n                                              (fail -if-error-)\n                                             )\n                                            )\n                                           )\n                                          )\n                                         )\n                                         (canon %init_peer_id% $joined  #joined_canon)\n                                        )\n                                        (new -if-else-error-\n                                         (new -else-error-\n                                          (new -if-error-\n                                           (xor\n                                            (match #joined_canon []\n                                             (ap match-0 $new)\n                                            )\n                                            (seq\n                                             (ap :error: -if-error-)\n                                             (xor\n                                              (match :error:.$.error_code 10001\n                                               (seq\n                                                (seq\n                                                 (seq\n                                                  (seq\n                                                   (call %init_peer_id% (\"op\" \"concat_strings\") [\"decider deal_id=\" match-0_flat_flat \": \"] ret-42)\n                                                   (par\n                                                    (call %init_peer_id% (\"run-console\" \"print\") [ret-42 \"deal is already joined\"])\n                                                    (null)\n                                                   )\n                                                  )\n                                                  (call %init_peer_id% (\"json\" \"stringify\") [\"deal is already joined\"] ret-43)\n                                                 )\n                                                 (call %init_peer_id% (\"op\" \"concat_strings\") [ret-42 ret-43] ret-44)\n                                                )\n                                                (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-44] ret-45)\n                                               )\n                                              )\n                                              (seq\n                                               (seq\n                                                (ap :error: -else-error-)\n                                                (xor\n                                                 (match :error:.$.error_code 10001\n                                                  (ap -if-error- -if-else-error-)\n                                                 )\n                                                 (ap -else-error- -if-else-error-)\n                                                )\n                                               )\n                                               (fail -if-else-error-)\n                                              )\n                                             )\n                                            )\n                                           )\n                                          )\n                                         )\n                                        )\n                                       )\n                                      )\n                                      (next match-0)\n                                     )\n                                    )\n                                    (canon %init_peer_id% $new  #-new-fix-0)\n                                   )\n                                   (ap #-new-fix-0 -new-flat-0)\n                                  )\n                                 )\n                                 (new $deal_ids\n                                  (seq\n                                   (seq\n                                    (fold -new-flat-0 log-16-0\n                                     (seq\n                                      (seq\n                                       (seq\n                                        (seq\n                                         (ap log-16-0.$.info log-16-0_flat)\n                                         (ap log-16-0_flat.$.deal_id log-16-0_flat_flat)\n                                        )\n                                        (new $error-0\n                                         (new $worker_id-0\n                                          (seq\n                                           (seq\n                                            (seq\n                                             (seq\n                                              (seq\n                                               (seq\n                                                (seq\n                                                 (seq\n                                                  (seq\n                                                   (seq\n                                                    (new $array-inline-16\n                                                     (seq\n                                                      (seq\n                                                       (ap \"joining a deal from_block\" $array-inline-16)\n                                                       (ap log-16-0.$.block_number $array-inline-16)\n                                                      )\n                                                      (canon %init_peer_id% $array-inline-16  #array-inline-16-0)\n                                                     )\n                                                    )\n                                                    (call %init_peer_id% (\"op\" \"concat_strings\") [\"decider deal_id=\" log-16-0_flat_flat \": \"] ret-46)\n                                                   )\n                                                   (par\n                                                    (call %init_peer_id% (\"run-console\" \"print\") [ret-46 #array-inline-16-0])\n                                                    (null)\n                                                   )\n                                                  )\n                                                  (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-16-0] ret-47)\n                                                 )\n                                                 (call %init_peer_id% (\"op\" \"concat_strings\") [ret-46 ret-47] ret-48)\n                                                )\n                                                (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-48] ret-49)\n                                               )\n                                               (xor\n                                                (seq\n                                                 (new $worker_id-1\n                                                  (seq\n                                                   (seq\n                                                    (seq\n                                                     (call %init_peer_id% (\"worker\" \"get_worker_id\") [log-16-0_flat_flat] ret-50)\n                                                     (new -if-else-error-\n                                                      (new -else-error-\n                                                       (new -if-error-\n                                                        (xor\n                                                         (match ret-50 []\n                                                          (xor\n                                                           (seq\n                                                            (seq\n                                                             (seq\n                                                              (seq\n                                                               (seq\n                                                                (seq\n                                                                 (seq\n                                                                  (call %init_peer_id% (\"worker\" \"create\") [log-16-0_flat_flat] ret-51)\n                                                                  (ap ret-51 $worker_id-1)\n                                                                 )\n                                                                 (new $array-inline-17\n                                                                  (seq\n                                                                   (seq\n                                                                    (seq\n                                                                     (new $worker_id-1_test\n                                                                      (seq\n                                                                       (seq\n                                                                        (fold $worker_id-1 worker_id-1_fold_var\n                                                                         (seq\n                                                                          (seq\n                                                                           (ap worker_id-1_fold_var $worker_id-1_test)\n                                                                           (canon %init_peer_id% $worker_id-1_test  #worker_id-1_iter_canon)\n                                                                          )\n                                                                          (xor\n                                                                           (match #worker_id-1_iter_canon.length 1\n                                                                            (null)\n                                                                           )\n                                                                           (next worker_id-1_fold_var)\n                                                                          )\n                                                                         )\n                                                                         (never)\n                                                                        )\n                                                                        (canon %init_peer_id% $worker_id-1_test  #worker_id-1_result_canon)\n                                                                       )\n                                                                       (ap #worker_id-1_result_canon worker_id-1_gate)\n                                                                      )\n                                                                     )\n                                                                     (ap \"created worker for deal\" $array-inline-17)\n                                                                    )\n                                                                    (ap worker_id-1_gate.$.[0] $array-inline-17)\n                                                                   )\n                                                                   (canon %init_peer_id% $array-inline-17  #array-inline-17-0)\n                                                                  )\n                                                                 )\n                                                                )\n                                                                (call %init_peer_id% (\"op\" \"concat_strings\") [\"decider deal_id=\" log-16-0_flat_flat \": \"] ret-52)\n                                                               )\n                                                               (par\n                                                                (call %init_peer_id% (\"run-console\" \"print\") [ret-52 #array-inline-17-0])\n                                                                (null)\n                                                               )\n                                                              )\n                                                              (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-17-0] ret-53)\n                                                             )\n                                                             (call %init_peer_id% (\"op\" \"concat_strings\") [ret-52 ret-53] ret-54)\n                                                            )\n                                                            (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-54] ret-55)\n                                                           )\n                                                           (seq\n                                                            (seq\n                                                             (seq\n                                                              (seq\n                                                               (seq\n                                                                (new $array-inline-18\n                                                                 (seq\n                                                                  (seq\n                                                                   (ap \"error creating worker\" $array-inline-18)\n                                                                   (ap :error:.$.message $array-inline-18)\n                                                                  )\n                                                                  (canon %init_peer_id% $array-inline-18  #array-inline-18-0)\n                                                                 )\n                                                                )\n                                                                (call %init_peer_id% (\"op\" \"concat_strings\") [\"decider deal_id=\" log-16-0_flat_flat \": \"] ret-56)\n                                                               )\n                                                               (par\n                                                                (call %init_peer_id% (\"run-console\" \"print\") [ret-56 #array-inline-18-0])\n                                                                (null)\n                                                               )\n                                                              )\n                                                              (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-18-0] ret-57)\n                                                             )\n                                                             (call %init_peer_id% (\"op\" \"concat_strings\") [ret-56 ret-57] ret-58)\n                                                            )\n                                                            (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-58] ret-59)\n                                                           )\n                                                          )\n                                                         )\n                                                         (seq\n                                                          (ap :error: -if-error-)\n                                                          (xor\n                                                           (match :error:.$.error_code 10001\n                                                            (seq\n                                                             (seq\n                                                              (seq\n                                                               (seq\n                                                                (seq\n                                                                 (seq\n                                                                  (new $array-inline-19\n                                                                   (seq\n                                                                    (seq\n                                                                     (ap \"found existing worker\" $array-inline-19)\n                                                                     (ap ret-50.$.[0] $array-inline-19)\n                                                                    )\n                                                                    (canon %init_peer_id% $array-inline-19  #array-inline-19-0)\n                                                                   )\n                                                                  )\n                                                                  (call %init_peer_id% (\"op\" \"concat_strings\") [\"decider deal_id=\" log-16-0_flat_flat \": \"] ret-60)\n                                                                 )\n                                                                 (par\n                                                                  (call %init_peer_id% (\"run-console\" \"print\") [ret-60 #array-inline-19-0])\n                                                                  (null)\n                                                                 )\n                                                                )\n                                                                (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-19-0] ret-61)\n                                                               )\n                                                               (call %init_peer_id% (\"op\" \"concat_strings\") [ret-60 ret-61] ret-62)\n                                                              )\n                                                              (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-62] ret-63)\n                                                             )\n                                                             (ap ret-50.$.[0] $worker_id-1)\n                                                            )\n                                                           )\n                                                           (seq\n                                                            (seq\n                                                             (ap :error: -else-error-)\n                                                             (xor\n                                                              (match :error:.$.error_code 10001\n                                                               (ap -if-error- -if-else-error-)\n                                                              )\n                                                              (ap -else-error- -if-else-error-)\n                                                             )\n                                                            )\n                                                            (fail -if-else-error-)\n                                                           )\n                                                          )\n                                                         )\n                                                        )\n                                                       )\n                                                      )\n                                                     )\n                                                    )\n                                                    (canon %init_peer_id% $worker_id-1  #-worker_id-fix-0-0)\n                                                   )\n                                                   (ap #-worker_id-fix-0-0 -worker_id-flat-0-0)\n                                                  )\n                                                 )\n                                                 (new -if-error-\n                                                  (xor\n                                                   (mismatch -worker_id-flat-0-0 []\n                                                    (ap -worker_id-flat-0-0.$.[0] $worker_id-0)\n                                                   )\n                                                   (seq\n                                                    (ap :error: -if-error-)\n                                                    (xor\n                                                     (match :error:.$.error_code 10002\n                                                      (null)\n                                                     )\n                                                     (fail -if-error-)\n                                                    )\n                                                   )\n                                                  )\n                                                 )\n                                                )\n                                                (seq\n                                                 (seq\n                                                  (seq\n                                                   (seq\n                                                    (seq\n                                                     (seq\n                                                      (seq\n                                                       (seq\n                                                        (new $array-inline-20\n                                                         (seq\n                                                          (seq\n                                                           (ap \"error creating worker\" $array-inline-20)\n                                                           (ap :error: $array-inline-20)\n                                                          )\n                                                          (canon %init_peer_id% $array-inline-20  #array-inline-20-0)\n                                                         )\n                                                        )\n                                                        (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-20-0] ret-64)\n                                                       )\n                                                       (ap ret-64 $error-0)\n                                                      )\n                                                      (new $array-inline-21\n                                                       (seq\n                                                        (seq\n                                                         (ap \"error creating worker\" $array-inline-21)\n                                                         (ap :error: $array-inline-21)\n                                                        )\n                                                        (canon %init_peer_id% $array-inline-21  #array-inline-21-0)\n                                                       )\n                                                      )\n                                                     )\n                                                     (call %init_peer_id% (\"op\" \"concat_strings\") [\"decider deal_id=\" log-16-0_flat_flat \": \"] ret-65)\n                                                    )\n                                                    (par\n                                                     (call %init_peer_id% (\"run-console\" \"print\") [ret-65 #array-inline-21-0])\n                                                     (null)\n                                                    )\n                                                   )\n                                                   (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-21-0] ret-66)\n                                                  )\n                                                  (call %init_peer_id% (\"op\" \"concat_strings\") [ret-65 ret-66] ret-67)\n                                                 )\n                                                 (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-67] ret-68)\n                                                )\n                                               )\n                                              )\n                                              (canon %init_peer_id% $worker_id-0  #-worker_id-fix-0)\n                                             )\n                                             (ap #-worker_id-fix-0 -worker_id-flat-0)\n                                            )\n                                            (canon %init_peer_id% $error-0  #-error-fix-1)\n                                           )\n                                           (ap #-error-fix-1 -error-flat-1)\n                                          )\n                                         )\n                                        )\n                                       )\n                                       (new -if-else-error-\n                                        (new -else-error-\n                                         (new -if-error-\n                                          (xor\n                                           (match -worker_id-flat-0 []\n                                            (seq\n                                             (seq\n                                              (seq\n                                               (seq\n                                                (seq\n                                                 (seq\n                                                  (new %InstallationFailed_obj_map\n                                                   (seq\n                                                    (ap (\"log\" log-16-0) %InstallationFailed_obj_map)\n                                                    (canon %init_peer_id% %InstallationFailed_obj_map  InstallationFailed_obj)\n                                                   )\n                                                  )\n                                                  (new %FailedDealError_obj_map\n                                                   (seq\n                                                    (seq\n                                                     (ap (\"content\" InstallationFailed_obj) %FailedDealError_obj_map)\n                                                     (ap (\"type\" \"InstallationFailed\") %FailedDealError_obj_map)\n                                                    )\n                                                    (canon %init_peer_id% %FailedDealError_obj_map  FailedDealError_obj)\n                                                   )\n                                                  )\n                                                 )\n                                                 (new %FailedDeal_obj_map\n                                                  (seq\n                                                   (seq\n                                                    (seq\n                                                     (ap (\"deal_id\" log-16-0_flat_flat) %FailedDeal_obj_map)\n                                                     (ap (\"message\" -error-flat-1.$.[0]) %FailedDeal_obj_map)\n                                                    )\n                                                    (ap (\"payload\" FailedDealError_obj) %FailedDeal_obj_map)\n                                                   )\n                                                   (canon %init_peer_id% %FailedDeal_obj_map  FailedDeal_obj)\n                                                  )\n                                                 )\n                                                )\n                                                (call %init_peer_id% (\"json\" \"stringify\") [FailedDeal_obj] ret-69)\n                                               )\n                                               (call %init_peer_id% (-spell_id-arg- \"list_push_string\") [\"failed_deals\" ret-69] ret-70)\n                                              )\n                                              (xor\n                                               (match ret-70.$.success true\n                                                (ap false not-6)\n                                               )\n                                               (ap true not-6)\n                                              )\n                                             )\n                                             (new -if-error-\n                                              (xor\n                                               (match not-6 true\n                                                (seq\n                                                 (seq\n                                                  (seq\n                                                   (new $array-inline-22\n                                                    (seq\n                                                     (seq\n                                                      (seq\n                                                       (seq\n                                                        (ap \"can't store value in list by key\" $array-inline-22)\n                                                        (ap \"failed_deals\" $array-inline-22)\n                                                       )\n                                                       (ap \"error:\" $array-inline-22)\n                                                      )\n                                                      (ap ret-70.$.error $array-inline-22)\n                                                     )\n                                                     (canon %init_peer_id% $array-inline-22  #array-inline-22-0)\n                                                    )\n                                                   )\n                                                   (par\n                                                    (call %init_peer_id% (\"run-console\" \"print\") [\"decider\" #array-inline-22-0])\n                                                    (null)\n                                                   )\n                                                  )\n                                                  (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-22-0] ret-71)\n                                                 )\n                                                 (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-71] ret-72)\n                                                )\n                                               )\n                                               (seq\n                                                (ap :error: -if-error-)\n                                                (xor\n                                                 (match :error:.$.error_code 10001\n                                                  (null)\n                                                 )\n                                                 (fail -if-error-)\n                                                )\n                                               )\n                                              )\n                                             )\n                                            )\n                                           )\n                                           (seq\n                                            (ap :error: -if-error-)\n                                            (xor\n                                             (match :error:.$.error_code 10001\n                                              (seq\n                                               (seq\n                                                (seq\n                                                 (seq\n                                                  (seq\n                                                   (seq\n                                                    (seq\n                                                     (seq\n                                                      (call %init_peer_id% (\"chain_connector\" \"register_worker\") [log-16-0.$.info.pat_id -worker_id-flat-0.$.[0] -chain-arg- log-16-0_flat_flat] ret-73)\n                                                      (ap ret-73.$.success ret-73_flat)\n                                                     )\n                                                     (new -if-else-error-\n                                                      (new -else-error-\n                                                       (new -if-error-\n                                                        (xor\n                                                         (match ret-73.$.success true\n                                                          (seq\n                                                           (seq\n                                                            (seq\n                                                             (seq\n                                                              (seq\n                                                               (seq\n                                                                (seq\n                                                                 (seq\n                                                                  (seq\n                                                                   (seq\n                                                                    (new $array-inline-23\n                                                                     (seq\n                                                                      (seq\n                                                                       (ap \"registered worker tx_hash\" $array-inline-23)\n                                                                       (ap ret-73.$.tx_hash $array-inline-23)\n                                                                      )\n                                                                      (canon %init_peer_id% $array-inline-23  #array-inline-23-0)\n                                                                     )\n                                                                    )\n                                                                    (call %init_peer_id% (\"op\" \"concat_strings\") [\"decider deal_id=\" log-16-0_flat_flat \": \"] ret-74)\n                                                                   )\n                                                                   (par\n                                                                    (call %init_peer_id% (\"run-console\" \"print\") [ret-74 #array-inline-23-0])\n                                                                    (null)\n                                                                   )\n                                                                  )\n                                                                  (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-23-0] ret-75)\n                                                                 )\n                                                                 (call %init_peer_id% (\"op\" \"concat_strings\") [ret-74 ret-75] ret-76)\n                                                                )\n                                                                (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-76] ret-77)\n                                                               )\n                                                               (new %WorkerTxInfo_obj_map\n                                                                (seq\n                                                                 (seq\n                                                                  (ap (\"deal_id\" log-16-0_flat_flat) %WorkerTxInfo_obj_map)\n                                                                  (ap (\"tx_hash\" ret-73.$.tx_hash.[0]) %WorkerTxInfo_obj_map)\n                                                                 )\n                                                                 (canon %init_peer_id% %WorkerTxInfo_obj_map  WorkerTxInfo_obj)\n                                                                )\n                                                               )\n                                                              )\n                                                              (call %init_peer_id% (\"json\" \"stringify\") [WorkerTxInfo_obj] ret-78)\n                                                             )\n                                                             (call %init_peer_id% (-spell_id-arg- \"list_push_string\") [\"worker_registration_txs\" ret-78] ret-79)\n                                                            )\n                                                            (xor\n                                                             (match ret-79.$.success true\n                                                              (ap false not-7)\n                                                             )\n                                                             (ap true not-7)\n                                                            )\n                                                           )\n                                                           (new -if-error-\n                                                            (xor\n                                                             (match not-7 true\n                                                              (seq\n                                                               (seq\n                                                                (seq\n                                                                 (new $array-inline-24\n                                                                  (seq\n                                                                   (seq\n                                                                    (seq\n                                                                     (seq\n                                                                      (ap \"can't store value in list by key\" $array-inline-24)\n                                                                      (ap \"worker_registration_txs\" $array-inline-24)\n                                                                     )\n                                                                     (ap \"error:\" $array-inline-24)\n                                                                    )\n                                                                    (ap ret-79.$.error $array-inline-24)\n                                                                   )\n                                                                   (canon %init_peer_id% $array-inline-24  #array-inline-24-0)\n                                                                  )\n                                                                 )\n                                                                 (par\n                                                                  (call %init_peer_id% (\"run-console\" \"print\") [\"decider\" #array-inline-24-0])\n                                                                  (null)\n                                                                 )\n                                                                )\n                                                                (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-24-0] ret-80)\n                                                               )\n                                                               (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-80] ret-81)\n                                                              )\n                                                             )\n                                                             (seq\n                                                              (ap :error: -if-error-)\n                                                              (xor\n                                                               (match :error:.$.error_code 10001\n                                                                (null)\n                                                               )\n                                                               (fail -if-error-)\n                                                              )\n                                                             )\n                                                            )\n                                                           )\n                                                          )\n                                                         )\n                                                         (seq\n                                                          (ap :error: -if-error-)\n                                                          (xor\n                                                           (match :error:.$.error_code 10001\n                                                            (seq\n                                                             (seq\n                                                              (seq\n                                                               (seq\n                                                                (seq\n                                                                 (seq\n                                                                  (seq\n                                                                   (seq\n                                                                    (seq\n                                                                     (seq\n                                                                      (seq\n                                                                       (seq\n                                                                        (new $array-inline-25\n                                                                         (seq\n                                                                          (seq\n                                                                           (ap \"error registering worker\" $array-inline-25)\n                                                                           (ap ret-73.$.error.[0] $array-inline-25)\n                                                                          )\n                                                                          (canon %init_peer_id% $array-inline-25  #array-inline-25-0)\n                                                                         )\n                                                                        )\n                                                                        (call %init_peer_id% (\"op\" \"concat_strings\") [\"decider deal_id=\" log-16-0_flat_flat \": \"] ret-82)\n                                                                       )\n                                                                       (par\n                                                                        (call %init_peer_id% (\"run-console\" \"print\") [ret-82 #array-inline-25-0])\n                                                                        (null)\n                                                                       )\n                                                                      )\n                                                                      (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-25-0] ret-83)\n                                                                     )\n                                                                     (call %init_peer_id% (\"op\" \"concat_strings\") [ret-82 ret-83] ret-84)\n                                                                    )\n                                                                    (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-84] ret-85)\n                                                                   )\n                                                                   (new %TxFailed_obj_map\n                                                                    (seq\n                                                                     (seq\n                                                                      (ap (\"block_number\" []) %TxFailed_obj_map)\n                                                                      (ap (\"tx_hash\" []) %TxFailed_obj_map)\n                                                                     )\n                                                                     (canon %init_peer_id% %TxFailed_obj_map  TxFailed_obj)\n                                                                    )\n                                                                   )\n                                                                  )\n                                                                  (new %FailedDealError_obj-0_map\n                                                                   (seq\n                                                                    (seq\n                                                                     (ap (\"content\" TxFailed_obj) %FailedDealError_obj-0_map)\n                                                                     (ap (\"type\" \"TxFailed\") %FailedDealError_obj-0_map)\n                                                                    )\n                                                                    (canon %init_peer_id% %FailedDealError_obj-0_map  FailedDealError_obj-0)\n                                                                   )\n                                                                  )\n                                                                 )\n                                                                 (new %FailedDeal_obj-0_map\n                                                                  (seq\n                                                                   (seq\n                                                                    (seq\n                                                                     (ap (\"deal_id\" log-16-0_flat_flat) %FailedDeal_obj-0_map)\n                                                                     (ap (\"message\" ret-73.$.error.[0]) %FailedDeal_obj-0_map)\n                                                                    )\n                                                                    (ap (\"payload\" FailedDealError_obj-0) %FailedDeal_obj-0_map)\n                                                                   )\n                                                                   (canon %init_peer_id% %FailedDeal_obj-0_map  FailedDeal_obj-0)\n                                                                  )\n                                                                 )\n                                                                )\n                                                                (call %init_peer_id% (\"json\" \"stringify\") [FailedDeal_obj-0] ret-86)\n                                                               )\n                                                               (call %init_peer_id% (-spell_id-arg- \"list_push_string\") [\"failed_deals\" ret-86] ret-87)\n                                                              )\n                                                              (xor\n                                                               (match ret-87.$.success true\n                                                                (ap false not-8)\n                                                               )\n                                                               (ap true not-8)\n                                                              )\n                                                             )\n                                                             (new -if-error-\n                                                              (xor\n                                                               (match not-8 true\n                                                                (seq\n                                                                 (seq\n                                                                  (seq\n                                                                   (new $array-inline-26\n                                                                    (seq\n                                                                     (seq\n                                                                      (seq\n                                                                       (seq\n                                                                        (ap \"can't store value in list by key\" $array-inline-26)\n                                                                        (ap \"failed_deals\" $array-inline-26)\n                                                                       )\n                                                                       (ap \"error:\" $array-inline-26)\n                                                                      )\n                                                                      (ap ret-87.$.error $array-inline-26)\n                                                                     )\n                                                                     (canon %init_peer_id% $array-inline-26  #array-inline-26-0)\n                                                                    )\n                                                                   )\n                                                                   (par\n                                                                    (call %init_peer_id% (\"run-console\" \"print\") [\"decider\" #array-inline-26-0])\n                                                                    (null)\n                                                                   )\n                                                                  )\n                                                                  (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-26-0] ret-88)\n                                                                 )\n                                                                 (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-88] ret-89)\n                                                                )\n                                                               )\n                                                               (seq\n                                                                (ap :error: -if-error-)\n                                                                (xor\n                                                                 (match :error:.$.error_code 10001\n                                                                  (null)\n                                                                 )\n                                                                 (fail -if-error-)\n                                                                )\n                                                               )\n                                                              )\n                                                             )\n                                                            )\n                                                           )\n                                                           (seq\n                                                            (seq\n                                                             (ap :error: -else-error-)\n                                                             (xor\n                                                              (match :error:.$.error_code 10001\n                                                               (ap -if-error- -if-else-error-)\n                                                              )\n                                                              (ap -else-error- -if-else-error-)\n                                                             )\n                                                            )\n                                                            (fail -if-else-error-)\n                                                           )\n                                                          )\n                                                         )\n                                                        )\n                                                       )\n                                                      )\n                                                     )\n                                                    )\n                                                    (new -if-error-\n                                                     (xor\n                                                      (match ret-73_flat true\n                                                       (seq\n                                                        (xor\n                                                         (seq\n                                                          (seq\n                                                           (seq\n                                                            (seq\n                                                             (seq\n                                                              (seq\n                                                               (seq\n                                                                (seq\n                                                                 (seq\n                                                                  (seq\n                                                                   (new %JoinedDeal_obj_map\n                                                                    (seq\n                                                                     (seq\n                                                                      (ap (\"deal_id\" log-16-0_flat_flat) %JoinedDeal_obj_map)\n                                                                      (ap (\"worker_id\" -worker_id-flat-0.$.[0]) %JoinedDeal_obj_map)\n                                                                     )\n                                                                     (canon %init_peer_id% %JoinedDeal_obj_map  JoinedDeal_obj)\n                                                                    )\n                                                                   )\n                                                                   (call %init_peer_id% (\"json\" \"stringify\") [JoinedDeal_obj] ret-90)\n                                                                  )\n                                                                  (call %init_peer_id% (-spell_id-arg- \"list_push_string\") [\"joined_deals\" ret-90] ret-91)\n                                                                 )\n                                                                 (new %DealState_obj_map\n                                                                  (seq\n                                                                   (ap (\"left_boundary\" log-16-0.$.block_number) %DealState_obj_map)\n                                                                   (canon %init_peer_id% %DealState_obj_map  DealState_obj)\n                                                                  )\n                                                                 )\n                                                                )\n                                                                (call %init_peer_id% (\"json\" \"stringify\") [DealState_obj] ret-92)\n                                                               )\n                                                               (call %init_peer_id% (-spell_id-arg- \"set_string\") [log-16-0_flat_flat ret-92] ret-93)\n                                                              )\n                                                              (call %init_peer_id% (\"op\" \"concat_strings\") [\"decider deal_id=\" log-16-0_flat_flat \": \"] ret-94)\n                                                             )\n                                                             (par\n                                                              (call %init_peer_id% (\"run-console\" \"print\") [ret-94 \"deal state saved to kv\"])\n                                                              (null)\n                                                             )\n                                                            )\n                                                            (call %init_peer_id% (\"json\" \"stringify\") [\"deal state saved to kv\"] ret-95)\n                                                           )\n                                                           (call %init_peer_id% (\"op\" \"concat_strings\") [ret-94 ret-95] ret-96)\n                                                          )\n                                                          (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-96] ret-97)\n                                                         )\n                                                         (seq\n                                                          (seq\n                                                           (seq\n                                                            (seq\n                                                             (seq\n                                                              (new $array-inline-27\n                                                               (seq\n                                                                (seq\n                                                                 (ap \"cannot store deal state, deal join failed\" $array-inline-27)\n                                                                 (ap :error:.$.message $array-inline-27)\n                                                                )\n                                                                (canon %init_peer_id% $array-inline-27  #array-inline-27-0)\n                                                               )\n                                                              )\n                                                              (call %init_peer_id% (\"op\" \"concat_strings\") [\"decider deal_id=\" log-16-0_flat_flat \": \"] ret-98)\n                                                             )\n                                                             (par\n                                                              (call %init_peer_id% (\"run-console\" \"print\") [ret-98 #array-inline-27-0])\n                                                              (null)\n                                                             )\n                                                            )\n                                                            (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-27-0] ret-99)\n                                                           )\n                                                           (call %init_peer_id% (\"op\" \"concat_strings\") [ret-98 ret-99] ret-100)\n                                                          )\n                                                          (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-100] ret-101)\n                                                         )\n                                                        )\n                                                        (ap log-16-0_flat_flat $deal_ids)\n                                                       )\n                                                      )\n                                                      (seq\n                                                       (ap :error: -if-error-)\n                                                       (xor\n                                                        (match :error:.$.error_code 10001\n                                                         (null)\n                                                        )\n                                                        (fail -if-error-)\n                                                       )\n                                                      )\n                                                     )\n                                                    )\n                                                   )\n                                                   (call %init_peer_id% (\"chain_connector\" \"hex_sub\") [log-16-0.$.block_number 1] ret-102)\n                                                  )\n                                                  (xor\n                                                   (match ret-102.$.success true\n                                                    (ap false not-9)\n                                                   )\n                                                   (ap true not-9)\n                                                  )\n                                                 )\n                                                 (new -if-error-\n                                                  (xor\n                                                   (match not-9 true\n                                                    (seq\n                                                     (seq\n                                                      (seq\n                                                       (new $array-inline-28\n                                                        (seq\n                                                         (seq\n                                                          (seq\n                                                           (ap \"hex_sub failed\" $array-inline-28)\n                                                           (ap log-16-0.$.block_number $array-inline-28)\n                                                          )\n                                                          (ap 1 $array-inline-28)\n                                                         )\n                                                         (canon %init_peer_id% $array-inline-28  #array-inline-28-0)\n                                                        )\n                                                       )\n                                                       (par\n                                                        (call %init_peer_id% (\"run-console\" \"print\") [\"decider\" #array-inline-28-0])\n                                                        (null)\n                                                       )\n                                                      )\n                                                      (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-28-0] ret-103)\n                                                     )\n                                                     (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-103] ret-104)\n                                                    )\n                                                   )\n                                                   (seq\n                                                    (ap :error: -if-error-)\n                                                    (xor\n                                                     (match :error:.$.error_code 10001\n                                                      (null)\n                                                     )\n                                                     (fail -if-error-)\n                                                    )\n                                                   )\n                                                  )\n                                                 )\n                                                )\n                                                (ap ret-102.$.diff ret-102_flat)\n                                               )\n                                               (new -if-error-\n                                                (xor\n                                                 (mismatch ret-102_flat []\n                                                  (seq\n                                                   (seq\n                                                    (new $result-6\n                                                     (seq\n                                                      (seq\n                                                       (seq\n                                                        (call %init_peer_id% (\"chain_connector\" \"hex_cmp\") [ret-102_flat.$.[0] -left-flat-0.$.[0]] ret-105)\n                                                        (new -if-else-error-\n                                                         (new -else-error-\n                                                          (new -if-error-\n                                                           (xor\n                                                            (match ret-105.$.success true\n                                                             (seq\n                                                              (call %init_peer_id% (\"cmp\" \"gt\") [ret-105.$.ordering 0] gt)\n                                                              (ap gt $result-6)\n                                                             )\n                                                            )\n                                                            (seq\n                                                             (ap :error: -if-error-)\n                                                             (xor\n                                                              (match :error:.$.error_code 10001\n                                                               (seq\n                                                                (seq\n                                                                 (seq\n                                                                  (new $array-inline-29\n                                                                   (seq\n                                                                    (seq\n                                                                     (ap \"hex_cmp error\" $array-inline-29)\n                                                                     (ap ret-105.$.error $array-inline-29)\n                                                                    )\n                                                                    (canon %init_peer_id% $array-inline-29  #array-inline-29-0)\n                                                                   )\n                                                                  )\n                                                                  (par\n                                                                   (call %init_peer_id% (\"run-console\" \"print\") [\"decider\" #array-inline-29-0])\n                                                                   (null)\n                                                                  )\n                                                                 )\n                                                                 (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-29-0] ret-106)\n                                                                )\n                                                                (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-106] ret-107)\n                                                               )\n                                                              )\n                                                              (seq\n                                                               (seq\n                                                                (ap :error: -else-error-)\n                                                                (xor\n                                                                 (match :error:.$.error_code 10001\n                                                                  (ap -if-error- -if-else-error-)\n                                                                 )\n                                                                 (ap -else-error- -if-else-error-)\n                                                                )\n                                                               )\n                                                               (fail -if-else-error-)\n                                                              )\n                                                             )\n                                                            )\n                                                           )\n                                                          )\n                                                         )\n                                                        )\n                                                       )\n                                                       (canon %init_peer_id% $result-6  #-result-fix-0-1)\n                                                      )\n                                                      (ap #-result-fix-0-1 -result-flat-0-1)\n                                                     )\n                                                    )\n                                                    (new $array-inline-30\n                                                     (seq\n                                                      (ap true $array-inline-30)\n                                                      (canon %init_peer_id% $array-inline-30  #array-inline-30-0)\n                                                     )\n                                                    )\n                                                   )\n                                                   (new -if-error-\n                                                    (xor\n                                                     (match -result-flat-0-1 #array-inline-30-0\n                                                      (seq\n                                                       (seq\n                                                        (seq\n                                                         (seq\n                                                          (seq\n                                                           (seq\n                                                            (seq\n                                                             (seq\n                                                              (new $array-inline-31\n                                                               (seq\n                                                                (seq\n                                                                 (ap \"gt_set: will set last seen to\" $array-inline-31)\n                                                                 (ap ret-102_flat.$.[0] $array-inline-31)\n                                                                )\n                                                                (canon %init_peer_id% $array-inline-31  #array-inline-31-0)\n                                                               )\n                                                              )\n                                                              (par\n                                                               (call %init_peer_id% (\"run-console\" \"print\") [\"decider\" #array-inline-31-0])\n                                                               (null)\n                                                              )\n                                                             )\n                                                             (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-31-0] ret-108)\n                                                            )\n                                                            (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-108] ret-109)\n                                                           )\n                                                           (new $array-inline-32\n                                                            (seq\n                                                             (seq\n                                                              (ap \"will set last seen to\" $array-inline-32)\n                                                              (ap ret-102_flat.$.[0] $array-inline-32)\n                                                             )\n                                                             (canon %init_peer_id% $array-inline-32  #array-inline-32-0)\n                                                            )\n                                                           )\n                                                          )\n                                                          (par\n                                                           (call %init_peer_id% (\"run-console\" \"print\") [\"decider\" #array-inline-32-0])\n                                                           (null)\n                                                          )\n                                                         )\n                                                         (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-32-0] ret-110)\n                                                        )\n                                                        (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-110] ret-111)\n                                                       )\n                                                       (xor\n                                                        (seq\n                                                         (call %init_peer_id% (-spell_id-arg- \"set_string\") [\"last_seen_block\" ret-102_flat.$.[0]] ret-112)\n                                                         (new -if-else-error-\n                                                          (new -else-error-\n                                                           (new -if-error-\n                                                            (xor\n                                                             (match ret-112.$.success true\n                                                              (seq\n                                                               (seq\n                                                                (seq\n                                                                 (new $array-inline-33\n                                                                  (seq\n                                                                   (seq\n                                                                    (ap \"saved last seen\" $array-inline-33)\n                                                                    (ap ret-102_flat.$.[0] $array-inline-33)\n                                                                   )\n                                                                   (canon %init_peer_id% $array-inline-33  #array-inline-33-0)\n                                                                  )\n                                                                 )\n                                                                 (par\n                                                                  (call %init_peer_id% (\"run-console\" \"print\") [\"decider\" #array-inline-33-0])\n                                                                  (null)\n                                                                 )\n                                                                )\n                                                                (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-33-0] ret-113)\n                                                               )\n                                                               (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-113] ret-114)\n                                                              )\n                                                             )\n                                                             (seq\n                                                              (ap :error: -if-error-)\n                                                              (xor\n                                                               (match :error:.$.error_code 10001\n                                                                (seq\n                                                                 (seq\n                                                                  (seq\n                                                                   (new $array-inline-34\n                                                                    (seq\n                                                                     (seq\n                                                                      (ap \"error saving last_seen_block\" $array-inline-34)\n                                                                      (ap ret-112.$.error $array-inline-34)\n                                                                     )\n                                                                     (canon %init_peer_id% $array-inline-34  #array-inline-34-0)\n                                                                    )\n                                                                   )\n                                                                   (par\n                                                                    (call %init_peer_id% (\"run-console\" \"print\") [\"decider\" #array-inline-34-0])\n                                                                    (null)\n                                                                   )\n                                                                  )\n                                                                  (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-34-0] ret-115)\n                                                                 )\n                                                                 (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-115] ret-116)\n                                                                )\n                                                               )\n                                                               (seq\n                                                                (seq\n                                                                 (ap :error: -else-error-)\n                                                                 (xor\n                                                                  (match :error:.$.error_code 10001\n                                                                   (ap -if-error- -if-else-error-)\n                                                                  )\n                                                                  (ap -else-error- -if-else-error-)\n                                                                 )\n                                                                )\n                                                                (fail -if-else-error-)\n                                                               )\n                                                              )\n                                                             )\n                                                            )\n                                                           )\n                                                          )\n                                                         )\n                                                        )\n                                                        (seq\n                                                         (seq\n                                                          (seq\n                                                           (new $array-inline-35\n                                                            (seq\n                                                             (seq\n                                                              (ap \"error saving last_seen_block\" $array-inline-35)\n                                                              (ap :error: $array-inline-35)\n                                                             )\n                                                             (canon %init_peer_id% $array-inline-35  #array-inline-35-0)\n                                                            )\n                                                           )\n                                                           (par\n                                                            (call %init_peer_id% (\"run-console\" \"print\") [\"decider\" #array-inline-35-0])\n                                                            (null)\n                                                           )\n                                                          )\n                                                          (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-35-0] ret-117)\n                                                         )\n                                                         (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-117] ret-118)\n                                                        )\n                                                       )\n                                                      )\n                                                     )\n                                                     (seq\n                                                      (ap :error: -if-error-)\n                                                      (xor\n                                                       (match :error:.$.error_code 10001\n                                                        (null)\n                                                       )\n                                                       (fail -if-error-)\n                                                      )\n                                                     )\n                                                    )\n                                                   )\n                                                  )\n                                                 )\n                                                 (seq\n                                                  (ap :error: -if-error-)\n                                                  (xor\n                                                   (match :error:.$.error_code 10002\n                                                    (null)\n                                                   )\n                                                   (fail -if-error-)\n                                                  )\n                                                 )\n                                                )\n                                               )\n                                              )\n                                             )\n                                             (seq\n                                              (seq\n                                               (ap :error: -else-error-)\n                                               (xor\n                                                (match :error:.$.error_code 10001\n                                                 (ap -if-error- -if-else-error-)\n                                                )\n                                                (ap -else-error- -if-else-error-)\n                                               )\n                                              )\n                                              (fail -if-else-error-)\n                                             )\n                                            )\n                                           )\n                                          )\n                                         )\n                                        )\n                                       )\n                                      )\n                                      (next log-16-0)\n                                     )\n                                    )\n                                    (canon %init_peer_id% $deal_ids  #deal_ids_canon)\n                                   )\n                                   (new -if-error-\n                                    (xor\n                                     (mismatch #deal_ids_canon []\n                                      (seq\n                                       (seq\n                                        (seq\n                                         (seq\n                                          (seq\n                                           (seq\n                                            (seq\n                                             (new $array-inline-36\n                                              (seq\n                                               (seq\n                                                (seq\n                                                 (seq\n                                                  (seq\n                                                   (canon %init_peer_id% $deal_ids  #deal_ids_to_functor)\n                                                   (ap #deal_ids_to_functor.length deal_ids_length)\n                                                  )\n                                                  (ap \"polling statuses of \" $array-inline-36)\n                                                 )\n                                                 (ap deal_ids_length $array-inline-36)\n                                                )\n                                                (ap \"deals\" $array-inline-36)\n                                               )\n                                               (canon %init_peer_id% $array-inline-36  #array-inline-36-0)\n                                              )\n                                             )\n                                             (par\n                                              (call %init_peer_id% (\"run-console\" \"print\") [\"decider\" #array-inline-36-0])\n                                              (null)\n                                             )\n                                            )\n                                            (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-36-0] ret-119)\n                                           )\n                                           (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-119] ret-120)\n                                          )\n                                          (canon %init_peer_id% $deal_ids  #deal_ids_canon-0)\n                                         )\n                                         (call %init_peer_id% (\"chain_connector\" \"get_status_batch\") [-chain-arg-.$.api_endpoint #deal_ids_canon-0] ret-121)\n                                        )\n                                        (xor\n                                         (match ret-121.$.success true\n                                          (ap false not-10)\n                                         )\n                                         (ap true not-10)\n                                        )\n                                       )\n                                       (new -if-else-error-\n                                        (new -else-error-\n                                         (new -if-error-\n                                          (xor\n                                           (match not-10 true\n                                            (seq\n                                             (seq\n                                              (seq\n                                               (new $array-inline-37\n                                                (seq\n                                                 (seq\n                                                  (ap \"couldn't obtain deal statuses, error: \" $array-inline-37)\n                                                  (ap ret-121.$.error.[0] $array-inline-37)\n                                                 )\n                                                 (canon %init_peer_id% $array-inline-37  #array-inline-37-0)\n                                                )\n                                               )\n                                               (par\n                                                (call %init_peer_id% (\"run-console\" \"print\") [\"decider\" #array-inline-37-0])\n                                                (null)\n                                               )\n                                              )\n                                              (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-37-0] ret-122)\n                                             )\n                                             (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-122] ret-123)\n                                            )\n                                           )\n                                           (seq\n                                            (ap :error: -if-error-)\n                                            (xor\n                                             (match :error:.$.error_code 10001\n                                              (seq\n                                               (seq\n                                                (seq\n                                                 (seq\n                                                  (new $array-inline-38\n                                                   (seq\n                                                    (seq\n                                                     (seq\n                                                      (seq\n                                                       (seq\n                                                        (seq\n                                                         (ap ret-121.$.statuses ret-121_flat)\n                                                         (ap ret-121_flat ret-121_flat_to_functor)\n                                                        )\n                                                        (ap ret-121_flat_to_functor.length ret-121_flat_length)\n                                                       )\n                                                       (ap \"found statuses for\" $array-inline-38)\n                                                      )\n                                                      (ap ret-121_flat_length $array-inline-38)\n                                                     )\n                                                     (ap \"deals\" $array-inline-38)\n                                                    )\n                                                    (canon %init_peer_id% $array-inline-38  #array-inline-38-0)\n                                                   )\n                                                  )\n                                                  (par\n                                                   (call %init_peer_id% (\"run-console\" \"print\") [\"decider\" #array-inline-38-0])\n                                                   (null)\n                                                  )\n                                                 )\n                                                 (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-38-0] ret-124)\n                                                )\n                                                (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-124] ret-125)\n                                               )\n                                               (fold ret-121.$.statuses deal_status-0\n                                                (seq\n                                                 (seq\n                                                  (xor\n                                                   (match deal_status-0.$.success true\n                                                    (ap false not-11)\n                                                   )\n                                                   (ap true not-11)\n                                                  )\n                                                  (new -if-else-error-\n                                                   (new -else-error-\n                                                    (new -if-error-\n                                                     (xor\n                                                      (match not-11 true\n                                                       (seq\n                                                        (seq\n                                                         (seq\n                                                          (new $array-inline-39\n                                                           (seq\n                                                            (seq\n                                                             (ap \"couldn't obtain deal status, error:\" $array-inline-39)\n                                                             (ap deal_status-0.$.error.[0] $array-inline-39)\n                                                            )\n                                                            (canon %init_peer_id% $array-inline-39  #array-inline-39-0)\n                                                           )\n                                                          )\n                                                          (par\n                                                           (call %init_peer_id% (\"run-console\" \"print\") [\"decider\" #array-inline-39-0])\n                                                           (null)\n                                                          )\n                                                         )\n                                                         (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-39-0] ret-126)\n                                                        )\n                                                        (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-126] ret-127)\n                                                       )\n                                                      )\n                                                      (seq\n                                                       (ap :error: -if-error-)\n                                                       (xor\n                                                        (match :error:.$.error_code 10001\n                                                         (new -if-else-error-\n                                                          (new -else-error-\n                                                           (new -if-error-\n                                                            (xor\n                                                             (match deal_status-0.$.status \"ACTIVE\"\n                                                              (seq\n                                                               (seq\n                                                                (seq\n                                                                 (seq\n                                                                  (seq\n                                                                   (new $array-inline-40\n                                                                    (seq\n                                                                     (seq\n                                                                      (ap \"couldn't activate a worker\" $array-inline-40)\n                                                                      (ap :error: $array-inline-40)\n                                                                     )\n                                                                     (canon %init_peer_id% $array-inline-40  #array-inline-40-0)\n                                                                    )\n                                                                   )\n                                                                   (call %init_peer_id% (\"op\" \"concat_strings\") [\"decider deal_id=\" deal_status-0.$.deal_id \": \"] ret-128)\n                                                                  )\n                                                                  (par\n                                                                   (call %init_peer_id% (\"run-console\" \"print\") [ret-128 #array-inline-40-0])\n                                                                   (null)\n                                                                  )\n                                                                 )\n                                                                 (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-40-0] ret-129)\n                                                                )\n                                                                (call %init_peer_id% (\"op\" \"concat_strings\") [ret-128 ret-129] ret-130)\n                                                               )\n                                                               (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-130] ret-131)\n                                                              )\n                                                             )\n                                                             (seq\n                                                              (ap :error: -if-error-)\n                                                              (xor\n                                                               (match :error:.$.error_code 10001\n                                                                (new -if-else-error-\n                                                                 (new -else-error-\n                                                                  (new -if-error-\n                                                                   (xor\n                                                                    (match deal_status-0.$.status \"INACTIVE\"\n                                                                     (seq\n                                                                      (seq\n                                                                       (seq\n                                                                        (seq\n                                                                         (seq\n                                                                          (new $array-inline-41\n                                                                           (seq\n                                                                            (seq\n                                                                             (ap \"couldn't deactivate a worker\" $array-inline-41)\n                                                                             (ap :error: $array-inline-41)\n                                                                            )\n                                                                            (canon %init_peer_id% $array-inline-41  #array-inline-41-0)\n                                                                           )\n                                                                          )\n                                                                          (call %init_peer_id% (\"op\" \"concat_strings\") [\"decider deal_id=\" deal_status-0.$.deal_id \": \"] ret-132)\n                                                                         )\n                                                                         (par\n                                                                          (call %init_peer_id% (\"run-console\" \"print\") [ret-132 #array-inline-41-0])\n                                                                          (null)\n                                                                         )\n                                                                        )\n                                                                        (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-41-0] ret-133)\n                                                                       )\n                                                                       (call %init_peer_id% (\"op\" \"concat_strings\") [ret-132 ret-133] ret-134)\n                                                                      )\n                                                                      (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-134] ret-135)\n                                                                     )\n                                                                    )\n                                                                    (seq\n                                                                     (ap :error: -if-error-)\n                                                                     (xor\n                                                                      (match :error:.$.error_code 10001\n                                                                       (new -if-else-error-\n                                                                        (new -else-error-\n                                                                         (new -if-error-\n                                                                          (xor\n                                                                           (match deal_status-0.$.status \"ENDED\"\n                                                                            (seq\n                                                                             (call %init_peer_id% (\"worker\" \"get_worker_id\") [deal_status-0.$.deal_id] ret-136)\n                                                                             (new -if-else-error-\n                                                                              (new -else-error-\n                                                                               (new -if-error-\n                                                                                (xor\n                                                                                 (mismatch ret-136 []\n                                                                                  (seq\n                                                                                   (seq\n                                                                                    (seq\n                                                                                     (seq\n                                                                                      (seq\n                                                                                       (seq\n                                                                                        (call %init_peer_id% (\"op\" \"concat_strings\") [\"decider deal_id=\" deal_status-0.$.deal_id \": \"] ret-137)\n                                                                                        (par\n                                                                                         (call %init_peer_id% (\"run-console\" \"print\") [ret-137 \"removing the worker and the deal state from kv\"])\n                                                                                         (null)\n                                                                                        )\n                                                                                       )\n                                                                                       (call %init_peer_id% (\"json\" \"stringify\") [\"removing the worker and the deal state from kv\"] ret-138)\n                                                                                      )\n                                                                                      (call %init_peer_id% (\"op\" \"concat_strings\") [ret-137 ret-138] ret-139)\n                                                                                     )\n                                                                                     (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-139] ret-140)\n                                                                                    )\n                                                                                    (xor\n                                                                                     (call %init_peer_id% (\"worker\" \"remove\") [ret-136.$.[0]])\n                                                                                     (seq\n                                                                                      (seq\n                                                                                       (seq\n                                                                                        (seq\n                                                                                         (seq\n                                                                                          (new $array-inline-42\n                                                                                           (seq\n                                                                                            (seq\n                                                                                             (seq\n                                                                                              (ap \"couldn't remove a worker\" $array-inline-42)\n                                                                                              (ap ret-136.$.[0] $array-inline-42)\n                                                                                             )\n                                                                                             (ap :error: $array-inline-42)\n                                                                                            )\n                                                                                            (canon %init_peer_id% $array-inline-42  #array-inline-42-0)\n                                                                                           )\n                                                                                          )\n                                                                                          (call %init_peer_id% (\"op\" \"concat_strings\") [\"decider deal_id=\" deal_status-0.$.deal_id \": \"] ret-141)\n                                                                                         )\n                                                                                         (par\n                                                                                          (call %init_peer_id% (\"run-console\" \"print\") [ret-141 #array-inline-42-0])\n                                                                                          (null)\n                                                                                         )\n                                                                                        )\n                                                                                        (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-42-0] ret-142)\n                                                                                       )\n                                                                                       (call %init_peer_id% (\"op\" \"concat_strings\") [ret-141 ret-142] ret-143)\n                                                                                      )\n                                                                                      (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-143] ret-144)\n                                                                                     )\n                                                                                    )\n                                                                                   )\n                                                                                   (xor\n                                                                                    (seq\n                                                                                     (seq\n                                                                                      (seq\n                                                                                       (seq\n                                                                                        (seq\n                                                                                         (new %JoinedDeal_obj-0_map\n                                                                                          (seq\n                                                                                           (seq\n                                                                                            (ap (\"deal_id\" deal_status-0.$.deal_id) %JoinedDeal_obj-0_map)\n                                                                                            (ap (\"worker_id\" ret-136.$.[0]) %JoinedDeal_obj-0_map)\n                                                                                           )\n                                                                                           (canon %init_peer_id% %JoinedDeal_obj-0_map  JoinedDeal_obj-0)\n                                                                                          )\n                                                                                         )\n                                                                                         (call %init_peer_id% (\"json\" \"stringify\") [JoinedDeal_obj-0] ret-145)\n                                                                                        )\n                                                                                        (call %init_peer_id% (-spell_id-arg- \"list_remove_string\") [\"joined_deals\" ret-145] ret-146)\n                                                                                       )\n                                                                                       (call %init_peer_id% (-spell_id-arg- \"remove_key\") [deal_status-0.$.deal_id] ret-147)\n                                                                                      )\n                                                                                      (call %init_peer_id% (\"op\" \"concat_strings\") [\"removed_state:\" deal_status-0.$.deal_id] ret-148)\n                                                                                     )\n                                                                                     (call %init_peer_id% (-spell_id-arg- \"remove_key\") [ret-148] ret-149)\n                                                                                    )\n                                                                                    (seq\n                                                                                     (seq\n                                                                                      (seq\n                                                                                       (seq\n                                                                                        (seq\n                                                                                         (new $array-inline-43\n                                                                                          (seq\n                                                                                           (seq\n                                                                                            (ap \"couldn't remove the deal\" $array-inline-43)\n                                                                                            (ap :error: $array-inline-43)\n                                                                                           )\n                                                                                           (canon %init_peer_id% $array-inline-43  #array-inline-43-0)\n                                                                                          )\n                                                                                         )\n                                                                                         (call %init_peer_id% (\"op\" \"concat_strings\") [\"decider deal_id=\" deal_status-0.$.deal_id \": \"] ret-150)\n                                                                                        )\n                                                                                        (par\n                                                                                         (call %init_peer_id% (\"run-console\" \"print\") [ret-150 #array-inline-43-0])\n                                                                                         (null)\n                                                                                        )\n                                                                                       )\n                                                                                       (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-43-0] ret-151)\n                                                                                      )\n                                                                                      (call %init_peer_id% (\"op\" \"concat_strings\") [ret-150 ret-151] ret-152)\n                                                                                     )\n                                                                                     (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-152] ret-153)\n                                                                                    )\n                                                                                   )\n                                                                                  )\n                                                                                 )\n                                                                                 (seq\n                                                                                  (ap :error: -if-error-)\n                                                                                  (xor\n                                                                                   (match :error:.$.error_code 10002\n                                                                                    (seq\n                                                                                     (seq\n                                                                                      (seq\n                                                                                       (seq\n                                                                                        (call %init_peer_id% (\"op\" \"concat_strings\") [\"decider deal_id=\" deal_status-0.$.deal_id \": \"] ret-154)\n                                                                                        (par\n                                                                                         (call %init_peer_id% (\"run-console\" \"print\") [ret-154 \"deal doesn't have associated worker O.o\"])\n                                                                                         (null)\n                                                                                        )\n                                                                                       )\n                                                                                       (call %init_peer_id% (\"json\" \"stringify\") [\"deal doesn't have associated worker O.o\"] ret-155)\n                                                                                      )\n                                                                                      (call %init_peer_id% (\"op\" \"concat_strings\") [ret-154 ret-155] ret-156)\n                                                                                     )\n                                                                                     (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-156] ret-157)\n                                                                                    )\n                                                                                   )\n                                                                                   (seq\n                                                                                    (seq\n                                                                                     (ap :error: -else-error-)\n                                                                                     (xor\n                                                                                      (match :error:.$.error_code 10001\n                                                                                       (ap -if-error- -if-else-error-)\n                                                                                      )\n                                                                                      (ap -else-error- -if-else-error-)\n                                                                                     )\n                                                                                    )\n                                                                                    (fail -if-else-error-)\n                                                                                   )\n                                                                                  )\n                                                                                 )\n                                                                                )\n                                                                               )\n                                                                              )\n                                                                             )\n                                                                            )\n                                                                           )\n                                                                           (seq\n                                                                            (ap :error: -if-error-)\n                                                                            (xor\n                                                                             (match :error:.$.error_code 10001\n                                                                              (seq\n                                                                               (seq\n                                                                                (seq\n                                                                                 (new $array-inline-44\n                                                                                  (seq\n                                                                                   (seq\n                                                                                    (ap \"unsupported deal status: \" $array-inline-44)\n                                                                                    (ap deal_status-0 $array-inline-44)\n                                                                                   )\n                                                                                   (canon %init_peer_id% $array-inline-44  #array-inline-44-0)\n                                                                                  )\n                                                                                 )\n                                                                                 (par\n                                                                                  (call %init_peer_id% (\"run-console\" \"print\") [\"decider\" #array-inline-44-0])\n                                                                                  (null)\n                                                                                 )\n                                                                                )\n                                                                                (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-44-0] ret-158)\n                                                                               )\n                                                                               (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-158] ret-159)\n                                                                              )\n                                                                             )\n                                                                             (seq\n                                                                              (seq\n                                                                               (ap :error: -else-error-)\n                                                                               (xor\n                                                                                (match :error:.$.error_code 10001\n                                                                                 (ap -if-error- -if-else-error-)\n                                                                                )\n                                                                                (ap -else-error- -if-else-error-)\n                                                                               )\n                                                                              )\n                                                                              (fail -if-else-error-)\n                                                                             )\n                                                                            )\n                                                                           )\n                                                                          )\n                                                                         )\n                                                                        )\n                                                                       )\n                                                                      )\n                                                                      (seq\n                                                                       (seq\n                                                                        (ap :error: -else-error-)\n                                                                        (xor\n                                                                         (match :error:.$.error_code 10001\n                                                                          (ap -if-error- -if-else-error-)\n                                                                         )\n                                                                         (ap -else-error- -if-else-error-)\n                                                                        )\n                                                                       )\n                                                                       (fail -if-else-error-)\n                                                                      )\n                                                                     )\n                                                                    )\n                                                                   )\n                                                                  )\n                                                                 )\n                                                                )\n                                                               )\n                                                               (seq\n                                                                (seq\n                                                                 (ap :error: -else-error-)\n                                                                 (xor\n                                                                  (match :error:.$.error_code 10001\n                                                                   (ap -if-error- -if-else-error-)\n                                                                  )\n                                                                  (ap -else-error- -if-else-error-)\n                                                                 )\n                                                                )\n                                                                (fail -if-else-error-)\n                                                               )\n                                                              )\n                                                             )\n                                                            )\n                                                           )\n                                                          )\n                                                         )\n                                                        )\n                                                        (seq\n                                                         (seq\n                                                          (ap :error: -else-error-)\n                                                          (xor\n                                                           (match :error:.$.error_code 10001\n                                                            (ap -if-error- -if-else-error-)\n                                                           )\n                                                           (ap -else-error- -if-else-error-)\n                                                          )\n                                                         )\n                                                         (fail -if-else-error-)\n                                                        )\n                                                       )\n                                                      )\n                                                     )\n                                                    )\n                                                   )\n                                                  )\n                                                 )\n                                                 (next deal_status-0)\n                                                )\n                                               )\n                                              )\n                                             )\n                                             (seq\n                                              (seq\n                                               (ap :error: -else-error-)\n                                               (xor\n                                                (match :error:.$.error_code 10001\n                                                 (ap -if-error- -if-else-error-)\n                                                )\n                                                (ap -else-error- -if-else-error-)\n                                               )\n                                              )\n                                              (fail -if-else-error-)\n                                             )\n                                            )\n                                           )\n                                          )\n                                         )\n                                        )\n                                       )\n                                      )\n                                     )\n                                     (seq\n                                      (ap :error: -if-error-)\n                                      (xor\n                                       (match :error:.$.error_code 10002\n                                        (null)\n                                       )\n                                       (fail -if-error-)\n                                      )\n                                     )\n                                    )\n                                   )\n                                  )\n                                 )\n                                )\n                                (new $array-inline-45\n                                 (seq\n                                  (seq\n                                   (seq\n                                    (ap \"poll_new_deals call Hex.min\" $array-inline-45)\n                                    (ap -latest-flat-0.$.[0] $array-inline-45)\n                                   )\n                                   (ap -poll-flat-0.$.[0].right_boundary $array-inline-45)\n                                  )\n                                  (canon %init_peer_id% $array-inline-45  #array-inline-45-0)\n                                 )\n                                )\n                               )\n                               (par\n                                (call %init_peer_id% (\"run-console\" \"print\") [\"decider\" #array-inline-45-0])\n                                (null)\n                               )\n                              )\n                              (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-45-0] ret-160)\n                             )\n                             (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-160] ret-161)\n                            )\n                            (call %init_peer_id% (\"chain_connector\" \"hex_min\") [-latest-flat-0.$.[0] -poll-flat-0.$.[0].right_boundary] ret-162)\n                           )\n                           (xor\n                            (match ret-162.$.success true\n                             (ap false not-12)\n                            )\n                            (ap true not-12)\n                           )\n                          )\n                          (new -if-error-\n                           (xor\n                            (match not-12 true\n                             (seq\n                              (seq\n                               (seq\n                                (new $array-inline-46\n                                 (seq\n                                  (seq\n                                   (seq\n                                    (ap \"hex_min failed\" $array-inline-46)\n                                    (ap -latest-flat-0.$.[0] $array-inline-46)\n                                   )\n                                   (ap -poll-flat-0.$.[0].right_boundary $array-inline-46)\n                                  )\n                                  (canon %init_peer_id% $array-inline-46  #array-inline-46-0)\n                                 )\n                                )\n                                (par\n                                 (call %init_peer_id% (\"run-console\" \"print\") [\"decider\" #array-inline-46-0])\n                                 (null)\n                                )\n                               )\n                               (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-46-0] ret-163)\n                              )\n                              (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-163] ret-164)\n                             )\n                            )\n                            (seq\n                             (ap :error: -if-error-)\n                             (xor\n                              (match :error:.$.error_code 10001\n                               (null)\n                              )\n                              (fail -if-error-)\n                             )\n                            )\n                           )\n                          )\n                         )\n                         (ap ret-162.$.hex ret-162_flat)\n                        )\n                        (new -if-error-\n                         (xor\n                          (mismatch ret-162_flat []\n                           (seq\n                            (new $result-8\n                             (seq\n                              (seq\n                               (seq\n                                (seq\n                                 (call %init_peer_id% (-spell_id-arg- \"get_string\") [\"last_seen_block\"] ret-165)\n                                 (xor\n                                  (match ret-165.$.success true\n                                   (ap false not-13)\n                                  )\n                                  (ap true not-13)\n                                 )\n                                )\n                                (new -if-else-error-\n                                 (new -else-error-\n                                  (new -if-error-\n                                   (xor\n                                    (match not-13 true\n                                     (seq\n                                      (seq\n                                       (seq\n                                        (new $array-inline-47\n                                         (seq\n                                          (seq\n                                           (seq\n                                            (ap \"get_string failed\" $array-inline-47)\n                                            (ap \"last_seen_block\" $array-inline-47)\n                                           )\n                                           (ap ret-165.$.error $array-inline-47)\n                                          )\n                                          (canon %init_peer_id% $array-inline-47  #array-inline-47-0)\n                                         )\n                                        )\n                                        (par\n                                         (call %init_peer_id% (\"run-console\" \"print\") [\"decider\" #array-inline-47-0])\n                                         (null)\n                                        )\n                                       )\n                                       (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-47-0] ret-166)\n                                      )\n                                      (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-166] ret-167)\n                                     )\n                                    )\n                                    (seq\n                                     (ap :error: -if-error-)\n                                     (xor\n                                      (match :error:.$.error_code 10001\n                                       (seq\n                                        (xor\n                                         (match ret-165.$.absent true\n                                          (ap false not-14)\n                                         )\n                                         (ap true not-14)\n                                        )\n                                        (new -if-error-\n                                         (xor\n                                          (match not-14 true\n                                           (ap ret-165.$.value $result-8)\n                                          )\n                                          (seq\n                                           (ap :error: -if-error-)\n                                           (xor\n                                            (match :error:.$.error_code 10001\n                                             (null)\n                                            )\n                                            (fail -if-error-)\n                                           )\n                                          )\n                                         )\n                                        )\n                                       )\n                                      )\n                                      (seq\n                                       (seq\n                                        (ap :error: -else-error-)\n                                        (xor\n                                         (match :error:.$.error_code 10001\n                                          (ap -if-error- -if-else-error-)\n                                         )\n                                         (ap -else-error- -if-else-error-)\n                                        )\n                                       )\n                                       (fail -if-else-error-)\n                                      )\n                                     )\n                                    )\n                                   )\n                                  )\n                                 )\n                                )\n                               )\n                               (canon %init_peer_id% $result-8  #-result-fix-0-2)\n                              )\n                              (ap #-result-fix-0-2 -result-flat-0-2)\n                             )\n                            )\n                            (new -if-else-error-\n                             (new -else-error-\n                              (new -if-error-\n                               (xor\n                                (mismatch -result-flat-0-2 []\n                                 (seq\n                                  (seq\n                                   (new $result-9\n                                    (seq\n                                     (seq\n                                      (seq\n                                       (call %init_peer_id% (\"chain_connector\" \"hex_cmp\") [ret-162_flat.$.[0] -result-flat-0-2.$.[0]] ret-168)\n                                       (new -if-else-error-\n                                        (new -else-error-\n                                         (new -if-error-\n                                          (xor\n                                           (match ret-168.$.success true\n                                            (seq\n                                             (call %init_peer_id% (\"cmp\" \"gt\") [ret-168.$.ordering 0] gt-0)\n                                             (ap gt-0 $result-9)\n                                            )\n                                           )\n                                           (seq\n                                            (ap :error: -if-error-)\n                                            (xor\n                                             (match :error:.$.error_code 10001\n                                              (seq\n                                               (seq\n                                                (seq\n                                                 (new $array-inline-48\n                                                  (seq\n                                                   (seq\n                                                    (ap \"hex_cmp error\" $array-inline-48)\n                                                    (ap ret-168.$.error $array-inline-48)\n                                                   )\n                                                   (canon %init_peer_id% $array-inline-48  #array-inline-48-0)\n                                                  )\n                                                 )\n                                                 (par\n                                                  (call %init_peer_id% (\"run-console\" \"print\") [\"decider\" #array-inline-48-0])\n                                                  (null)\n                                                 )\n                                                )\n                                                (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-48-0] ret-169)\n                                               )\n                                               (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-169] ret-170)\n                                              )\n                                             )\n                                             (seq\n                                              (seq\n                                               (ap :error: -else-error-)\n                                               (xor\n                                                (match :error:.$.error_code 10001\n                                                 (ap -if-error- -if-else-error-)\n                                                )\n                                                (ap -else-error- -if-else-error-)\n                                               )\n                                              )\n                                              (fail -if-else-error-)\n                                             )\n                                            )\n                                           )\n                                          )\n                                         )\n                                        )\n                                       )\n                                      )\n                                      (canon %init_peer_id% $result-9  #-result-fix-0-3)\n                                     )\n                                     (ap #-result-fix-0-3 -result-flat-0-3)\n                                    )\n                                   )\n                                   (new $array-inline-49\n                                    (seq\n                                     (ap true $array-inline-49)\n                                     (canon %init_peer_id% $array-inline-49  #array-inline-49-0)\n                                    )\n                                   )\n                                  )\n                                  (new -if-error-\n                                   (xor\n                                    (match -result-flat-0-3 #array-inline-49-0\n                                     (seq\n                                      (seq\n                                       (seq\n                                        (seq\n                                         (seq\n                                          (seq\n                                           (seq\n                                            (seq\n                                             (new $array-inline-50\n                                              (seq\n                                               (seq\n                                                (ap \"gt_set: will set last seen to\" $array-inline-50)\n                                                (ap ret-162_flat.$.[0] $array-inline-50)\n                                               )\n                                               (canon %init_peer_id% $array-inline-50  #array-inline-50-0)\n                                              )\n                                             )\n                                             (par\n                                              (call %init_peer_id% (\"run-console\" \"print\") [\"decider\" #array-inline-50-0])\n                                              (null)\n                                             )\n                                            )\n                                            (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-50-0] ret-171)\n                                           )\n                                           (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-171] ret-172)\n                                          )\n                                          (new $array-inline-51\n                                           (seq\n                                            (seq\n                                             (ap \"will set last seen to\" $array-inline-51)\n                                             (ap ret-162_flat.$.[0] $array-inline-51)\n                                            )\n                                            (canon %init_peer_id% $array-inline-51  #array-inline-51-0)\n                                           )\n                                          )\n                                         )\n                                         (par\n                                          (call %init_peer_id% (\"run-console\" \"print\") [\"decider\" #array-inline-51-0])\n                                          (null)\n                                         )\n                                        )\n                                        (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-51-0] ret-173)\n                                       )\n                                       (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-173] ret-174)\n                                      )\n                                      (xor\n                                       (seq\n                                        (call %init_peer_id% (-spell_id-arg- \"set_string\") [\"last_seen_block\" ret-162_flat.$.[0]] ret-175)\n                                        (new -if-else-error-\n                                         (new -else-error-\n                                          (new -if-error-\n                                           (xor\n                                            (match ret-175.$.success true\n                                             (seq\n                                              (seq\n                                               (seq\n                                                (new $array-inline-52\n                                                 (seq\n                                                  (seq\n                                                   (ap \"saved last seen\" $array-inline-52)\n                                                   (ap ret-162_flat.$.[0] $array-inline-52)\n                                                  )\n                                                  (canon %init_peer_id% $array-inline-52  #array-inline-52-0)\n                                                 )\n                                                )\n                                                (par\n                                                 (call %init_peer_id% (\"run-console\" \"print\") [\"decider\" #array-inline-52-0])\n                                                 (null)\n                                                )\n                                               )\n                                               (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-52-0] ret-176)\n                                              )\n                                              (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-176] ret-177)\n                                             )\n                                            )\n                                            (seq\n                                             (ap :error: -if-error-)\n                                             (xor\n                                              (match :error:.$.error_code 10001\n                                               (seq\n                                                (seq\n                                                 (seq\n                                                  (new $array-inline-53\n                                                   (seq\n                                                    (seq\n                                                     (ap \"error saving last_seen_block\" $array-inline-53)\n                                                     (ap ret-175.$.error $array-inline-53)\n                                                    )\n                                                    (canon %init_peer_id% $array-inline-53  #array-inline-53-0)\n                                                   )\n                                                  )\n                                                  (par\n                                                   (call %init_peer_id% (\"run-console\" \"print\") [\"decider\" #array-inline-53-0])\n                                                   (null)\n                                                  )\n                                                 )\n                                                 (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-53-0] ret-178)\n                                                )\n                                                (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-178] ret-179)\n                                               )\n                                              )\n                                              (seq\n                                               (seq\n                                                (ap :error: -else-error-)\n                                                (xor\n                                                 (match :error:.$.error_code 10001\n                                                  (ap -if-error- -if-else-error-)\n                                                 )\n                                                 (ap -else-error- -if-else-error-)\n                                                )\n                                               )\n                                               (fail -if-else-error-)\n                                              )\n                                             )\n                                            )\n                                           )\n                                          )\n                                         )\n                                        )\n                                       )\n                                       (seq\n                                        (seq\n                                         (seq\n                                          (new $array-inline-54\n                                           (seq\n                                            (seq\n                                             (ap \"error saving last_seen_block\" $array-inline-54)\n                                             (ap :error: $array-inline-54)\n                                            )\n                                            (canon %init_peer_id% $array-inline-54  #array-inline-54-0)\n                                           )\n                                          )\n                                          (par\n                                           (call %init_peer_id% (\"run-console\" \"print\") [\"decider\" #array-inline-54-0])\n                                           (null)\n                                          )\n                                         )\n                                         (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-54-0] ret-180)\n                                        )\n                                        (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-180] ret-181)\n                                       )\n                                      )\n                                     )\n                                    )\n                                    (seq\n                                     (ap :error: -if-error-)\n                                     (xor\n                                      (match :error:.$.error_code 10001\n                                       (null)\n                                      )\n                                      (fail -if-error-)\n                                     )\n                                    )\n                                   )\n                                  )\n                                 )\n                                )\n                                (seq\n                                 (ap :error: -if-error-)\n                                 (xor\n                                  (match :error:.$.error_code 10002\n                                   (seq\n                                    (seq\n                                     (seq\n                                      (seq\n                                       (seq\n                                        (seq\n                                         (seq\n                                          (seq\n                                           (new $array-inline-55\n                                            (seq\n                                             (seq\n                                              (ap \"increase: will set last seen to\" $array-inline-55)\n                                              (ap ret-162_flat.$.[0] $array-inline-55)\n                                             )\n                                             (canon %init_peer_id% $array-inline-55  #array-inline-55-0)\n                                            )\n                                           )\n                                           (par\n                                            (call %init_peer_id% (\"run-console\" \"print\") [\"decider\" #array-inline-55-0])\n                                            (null)\n                                           )\n                                          )\n                                          (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-55-0] ret-182)\n                                         )\n                                         (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-182] ret-183)\n                                        )\n                                        (new $array-inline-56\n                                         (seq\n                                          (seq\n                                           (ap \"will set last seen to\" $array-inline-56)\n                                           (ap ret-162_flat.$.[0] $array-inline-56)\n                                          )\n                                          (canon %init_peer_id% $array-inline-56  #array-inline-56-0)\n                                         )\n                                        )\n                                       )\n                                       (par\n                                        (call %init_peer_id% (\"run-console\" \"print\") [\"decider\" #array-inline-56-0])\n                                        (null)\n                                       )\n                                      )\n                                      (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-56-0] ret-184)\n                                     )\n                                     (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-184] ret-185)\n                                    )\n                                    (xor\n                                     (seq\n                                      (call %init_peer_id% (-spell_id-arg- \"set_string\") [\"last_seen_block\" ret-162_flat.$.[0]] ret-186)\n                                      (new -if-else-error-\n                                       (new -else-error-\n                                        (new -if-error-\n                                         (xor\n                                          (match ret-186.$.success true\n                                           (seq\n                                            (seq\n                                             (seq\n                                              (new $array-inline-57\n                                               (seq\n                                                (seq\n                                                 (ap \"saved last seen\" $array-inline-57)\n                                                 (ap ret-162_flat.$.[0] $array-inline-57)\n                                                )\n                                                (canon %init_peer_id% $array-inline-57  #array-inline-57-0)\n                                               )\n                                              )\n                                              (par\n                                               (call %init_peer_id% (\"run-console\" \"print\") [\"decider\" #array-inline-57-0])\n                                               (null)\n                                              )\n                                             )\n                                             (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-57-0] ret-187)\n                                            )\n                                            (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-187] ret-188)\n                                           )\n                                          )\n                                          (seq\n                                           (ap :error: -if-error-)\n                                           (xor\n                                            (match :error:.$.error_code 10001\n                                             (seq\n                                              (seq\n                                               (seq\n                                                (new $array-inline-58\n                                                 (seq\n                                                  (seq\n                                                   (ap \"error saving last_seen_block\" $array-inline-58)\n                                                   (ap ret-186.$.error $array-inline-58)\n                                                  )\n                                                  (canon %init_peer_id% $array-inline-58  #array-inline-58-0)\n                                                 )\n                                                )\n                                                (par\n                                                 (call %init_peer_id% (\"run-console\" \"print\") [\"decider\" #array-inline-58-0])\n                                                 (null)\n                                                )\n                                               )\n                                               (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-58-0] ret-189)\n                                              )\n                                              (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-189] ret-190)\n                                             )\n                                            )\n                                            (seq\n                                             (seq\n                                              (ap :error: -else-error-)\n                                              (xor\n                                               (match :error:.$.error_code 10001\n                                                (ap -if-error- -if-else-error-)\n                                               )\n                                               (ap -else-error- -if-else-error-)\n                                              )\n                                             )\n                                             (fail -if-else-error-)\n                                            )\n                                           )\n                                          )\n                                         )\n                                        )\n                                       )\n                                      )\n                                     )\n                                     (seq\n                                      (seq\n                                       (seq\n                                        (new $array-inline-59\n                                         (seq\n                                          (seq\n                                           (ap \"error saving last_seen_block\" $array-inline-59)\n                                           (ap :error: $array-inline-59)\n                                          )\n                                          (canon %init_peer_id% $array-inline-59  #array-inline-59-0)\n                                         )\n                                        )\n                                        (par\n                                         (call %init_peer_id% (\"run-console\" \"print\") [\"decider\" #array-inline-59-0])\n                                         (null)\n                                        )\n                                       )\n                                       (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-59-0] ret-191)\n                                      )\n                                      (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-191] ret-192)\n                                     )\n                                    )\n                                   )\n                                  )\n                                  (seq\n                                   (seq\n                                    (ap :error: -else-error-)\n                                    (xor\n                                     (match :error:.$.error_code 10001\n                                      (ap -if-error- -if-else-error-)\n                                     )\n                                     (ap -else-error- -if-else-error-)\n                                    )\n                                   )\n                                   (fail -if-else-error-)\n                                  )\n                                 )\n                                )\n                               )\n                              )\n                             )\n                            )\n                           )\n                          )\n                          (seq\n                           (ap :error: -if-error-)\n                           (xor\n                            (match :error:.$.error_code 10002\n                             (null)\n                            )\n                            (fail -if-error-)\n                           )\n                          )\n                         )\n                        )\n                       )\n                      )\n                      (seq\n                       (ap :error: -if-error-)\n                       (xor\n                        (match :error:.$.error_code 10002\n                         (null)\n                        )\n                        (fail -if-error-)\n                       )\n                      )\n                     )\n                    )\n                   )\n                  )\n                  (seq\n                   (ap :error: -if-error-)\n                   (xor\n                    (match :error:.$.error_code 10002\n                     (seq\n                      (seq\n                       (seq\n                        (new $array-inline-60\n                         (seq\n                          (ap \"get_left_boundary returns nil, unable to proceed\" $array-inline-60)\n                          (canon %init_peer_id% $array-inline-60  #array-inline-60-0)\n                         )\n                        )\n                        (par\n                         (call %init_peer_id% (\"run-console\" \"print\") [\"decider\" #array-inline-60-0])\n                         (null)\n                        )\n                       )\n                       (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-60-0] ret-193)\n                      )\n                      (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-193] ret-194)\n                     )\n                    )\n                    (seq\n                     (seq\n                      (ap :error: -else-error-)\n                      (xor\n                       (match :error:.$.error_code 10001\n                        (ap -if-error- -if-else-error-)\n                       )\n                       (ap -else-error- -if-else-error-)\n                      )\n                     )\n                     (fail -if-else-error-)\n                    )\n                   )\n                  )\n                 )\n                )\n               )\n              )\n             )\n             (null)\n            )\n           )\n           (xor\n            (seq\n             (new $changes-0\n              (seq\n               (seq\n                (seq\n                 (seq\n                  (seq\n                   (new $requests\n                    (seq\n                     (seq\n                      (new -if-error-\n                       (xor\n                        (mismatch -joined_deals-flat-0 []\n                         (new $deal_updates\n                          (fold -joined_deals-flat-0 joined_deal-0-0\n                           (seq\n                            (seq\n                             (seq\n                              (ap joined_deal-0-0.$.deal_id joined_deal-0-0_flat)\n                              (new $state-0\n                               (seq\n                                (seq\n                                 (seq\n                                  (seq\n                                   (call %init_peer_id% (-spell_id-arg- \"get_string\") [joined_deal-0-0_flat] ret-195)\n                                   (xor\n                                    (match ret-195.$.success false\n                                     (ap ret-195.$.success and)\n                                    )\n                                    (seq\n                                     (xor\n                                      (match ret-195.$.absent true\n                                       (ap false not-15)\n                                      )\n                                      (ap true not-15)\n                                     )\n                                     (ap not-15 and)\n                                    )\n                                   )\n                                  )\n                                  (new -if-else-error-\n                                   (new -else-error-\n                                    (new -if-error-\n                                     (xor\n                                      (match and true\n                                       (xor\n                                        (seq\n                                         (call %init_peer_id% (\"json\" \"parse\") [ret-195.$.value] ret-196)\n                                         (ap ret-196 $state-0)\n                                        )\n                                        (seq\n                                         (seq\n                                          (seq\n                                           (seq\n                                            (seq\n                                             (new $array-inline-61\n                                              (seq\n                                               (seq\n                                                (ap \"failed to parse deal state from json\" $array-inline-61)\n                                                (ap :error: $array-inline-61)\n                                               )\n                                               (canon %init_peer_id% $array-inline-61  #array-inline-61-0)\n                                              )\n                                             )\n                                             (call %init_peer_id% (\"op\" \"concat_strings\") [\"decider deal_id=\" joined_deal-0-0_flat \": \"] ret-197)\n                                            )\n                                            (par\n                                             (call %init_peer_id% (\"run-console\" \"print\") [ret-197 #array-inline-61-0])\n                                             (null)\n                                            )\n                                           )\n                                           (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-61-0] ret-198)\n                                          )\n                                          (call %init_peer_id% (\"op\" \"concat_strings\") [ret-197 ret-198] ret-199)\n                                         )\n                                         (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-199] ret-200)\n                                        )\n                                       )\n                                      )\n                                      (seq\n                                       (ap :error: -if-error-)\n                                       (xor\n                                        (match :error:.$.error_code 10001\n                                         (seq\n                                          (seq\n                                           (seq\n                                            (seq\n                                             (seq\n                                              (new $array-inline-62\n                                               (seq\n                                                (seq\n                                                 (ap \"deal state not found:\" $array-inline-62)\n                                                 (ap ret-195.$.error $array-inline-62)\n                                                )\n                                                (canon %init_peer_id% $array-inline-62  #array-inline-62-0)\n                                               )\n                                              )\n                                              (call %init_peer_id% (\"op\" \"concat_strings\") [\"decider deal_id=\" joined_deal-0-0_flat \": \"] ret-201)\n                                             )\n                                             (par\n                                              (call %init_peer_id% (\"run-console\" \"print\") [ret-201 #array-inline-62-0])\n                                              (null)\n                                             )\n                                            )\n                                            (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-62-0] ret-202)\n                                           )\n                                           (call %init_peer_id% (\"op\" \"concat_strings\") [ret-201 ret-202] ret-203)\n                                          )\n                                          (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-203] ret-204)\n                                         )\n                                        )\n                                        (seq\n                                         (seq\n                                          (ap :error: -else-error-)\n                                          (xor\n                                           (match :error:.$.error_code 10001\n                                            (ap -if-error- -if-else-error-)\n                                           )\n                                           (ap -else-error- -if-else-error-)\n                                          )\n                                         )\n                                         (fail -if-else-error-)\n                                        )\n                                       )\n                                      )\n                                     )\n                                    )\n                                   )\n                                  )\n                                 )\n                                 (canon %init_peer_id% $state-0  #-state-fix-0)\n                                )\n                                (ap #-state-fix-0 -state-flat-0)\n                               )\n                              )\n                             )\n                             (new -if-error-\n                              (xor\n                               (mismatch -state-flat-0 []\n                                (seq\n                                 (seq\n                                  (new %DealInfo_obj_map\n                                   (seq\n                                    (seq\n                                     (ap (\"deal_id\" joined_deal-0-0_flat) %DealInfo_obj_map)\n                                     (ap (\"worker_id\" joined_deal-0-0.$.worker_id) %DealInfo_obj_map)\n                                    )\n                                    (canon %init_peer_id% %DealInfo_obj_map  DealInfo_obj)\n                                   )\n                                  )\n                                  (new %DealChangesReq_obj_map\n                                   (seq\n                                    (seq\n                                     (ap (\"deal_info\" DealInfo_obj) %DealChangesReq_obj_map)\n                                     (ap (\"left_boundary\" -state-flat-0.$.[0].left_boundary) %DealChangesReq_obj_map)\n                                    )\n                                    (canon %init_peer_id% %DealChangesReq_obj_map  DealChangesReq_obj)\n                                   )\n                                  )\n                                 )\n                                 (ap DealChangesReq_obj $requests)\n                                )\n                               )\n                               (seq\n                                (ap :error: -if-error-)\n                                (xor\n                                 (match :error:.$.error_code 10002\n                                  (null)\n                                 )\n                                 (fail -if-error-)\n                                )\n                               )\n                              )\n                             )\n                            )\n                            (next joined_deal-0-0)\n                           )\n                          )\n                         )\n                        )\n                        (seq\n                         (ap :error: -if-error-)\n                         (xor\n                          (match :error:.$.error_code 10002\n                           (null)\n                          )\n                          (fail -if-error-)\n                         )\n                        )\n                       )\n                      )\n                      (canon %init_peer_id% $requests  #-requests-fix-0)\n                     )\n                     (ap #-requests-fix-0 -requests-flat-0)\n                    )\n                   )\n                   (ap -requests-flat-0 -requests-flat-0_to_functor)\n                  )\n                  (ap -requests-flat-0_to_functor.length -requests-flat-0_length)\n                 )\n                 (new -if-error-\n                  (xor\n                   (mismatch -requests-flat-0_length 0\n                    (seq\n                     (seq\n                      (seq\n                       (seq\n                        (seq\n                         (new $array-inline-63\n                          (seq\n                           (seq\n                            (seq\n                             (seq\n                              (seq\n                               (ap -requests-flat-0 -requests-flat-0_to_functor-0)\n                               (ap -requests-flat-0_to_functor-0.length -requests-flat-0_length-0)\n                              )\n                              (ap \"try to find updates for\" $array-inline-63)\n                             )\n                             (ap -requests-flat-0_length-0 $array-inline-63)\n                            )\n                            (ap \"deals\" $array-inline-63)\n                           )\n                           (canon %init_peer_id% $array-inline-63  #array-inline-63-0)\n                          )\n                         )\n                         (par\n                          (call %init_peer_id% (\"run-console\" \"print\") [\"decider\" #array-inline-63-0])\n                          (null)\n                         )\n                        )\n                        (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-63-0] ret-205)\n                       )\n                       (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-205] ret-206)\n                      )\n                      (call %init_peer_id% (\"chain_connector\" \"poll_deal_changes\") [-chain-arg-.$.api_endpoint -requests-flat-0] ret-207)\n                     )\n                     (new -if-else-error-\n                      (new -else-error-\n                       (new -if-error-\n                        (xor\n                         (match ret-207.$.success true\n                          (ap ret-207.$.changes $changes-0)\n                         )\n                         (seq\n                          (ap :error: -if-error-)\n                          (xor\n                           (match :error:.$.error_code 10001\n                            (seq\n                             (seq\n                              (seq\n                               (new $array-inline-64\n                                (seq\n                                 (seq\n                                  (ap \"error retrieving deal changes from chain\" $array-inline-64)\n                                  (ap ret-207.$.error.[0] $array-inline-64)\n                                 )\n                                 (canon %init_peer_id% $array-inline-64  #array-inline-64-0)\n                                )\n                               )\n                               (par\n                                (call %init_peer_id% (\"run-console\" \"print\") [\"decider\" #array-inline-64-0])\n                                (null)\n                               )\n                              )\n                              (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-64-0] ret-208)\n                             )\n                             (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-208] ret-209)\n                            )\n                           )\n                           (seq\n                            (seq\n                             (ap :error: -else-error-)\n                             (xor\n                              (match :error:.$.error_code 10001\n                               (ap -if-error- -if-else-error-)\n                              )\n                              (ap -else-error- -if-else-error-)\n                             )\n                            )\n                            (fail -if-else-error-)\n                           )\n                          )\n                         )\n                        )\n                       )\n                      )\n                     )\n                    )\n                   )\n                   (seq\n                    (ap :error: -if-error-)\n                    (xor\n                     (match :error:.$.error_code 10002\n                      (null)\n                     )\n                     (fail -if-error-)\n                    )\n                   )\n                  )\n                 )\n                )\n                (canon %init_peer_id% $changes-0  #-changes-fix-0)\n               )\n               (ap #-changes-fix-0 -changes-flat-0)\n              )\n             )\n             (new -if-error-\n              (xor\n               (mismatch -changes-flat-0 []\n                (seq\n                 (fold -changes-flat-0.$.[0] change-0\n                  (seq\n                   (seq\n                    (seq\n                     (ap change-0.$.deal_info change-0_flat)\n                     (ap change-0_flat.$.deal_id change-0_flat_flat)\n                    )\n                    (new -if-else-error-\n                     (new -else-error-\n                      (new -if-error-\n                       (xor\n                        (match change-0.$.success true\n                         (new -if-error-\n                          (xor\n                           (mismatch change-0.$.log []\n                            (seq\n                             (seq\n                              (seq\n                               (seq\n                                (seq\n                                 (seq\n                                  (seq\n                                   (seq\n                                    (seq\n                                     (seq\n                                      (seq\n                                       (seq\n                                        (seq\n                                         (seq\n                                          (seq\n                                           (seq\n                                            (seq\n                                             (seq\n                                              (seq\n                                               (seq\n                                                (new $array-inline-65\n                                                 (seq\n                                                  (seq\n                                                   (ap \"found a deal changed log on block\" $array-inline-65)\n                                                   (ap change-0.$.log.[0].block_number $array-inline-65)\n                                                  )\n                                                  (canon %init_peer_id% $array-inline-65  #array-inline-65-0)\n                                                 )\n                                                )\n                                                (call %init_peer_id% (\"op\" \"concat_strings\") [\"decider deal_id=\" change-0_flat_flat \": \"] ret-210)\n                                               )\n                                               (par\n                                                (call %init_peer_id% (\"run-console\" \"print\") [ret-210 #array-inline-65-0])\n                                                (null)\n                                               )\n                                              )\n                                              (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-65-0] ret-211)\n                                             )\n                                             (call %init_peer_id% (\"op\" \"concat_strings\") [ret-210 ret-211] ret-212)\n                                            )\n                                            (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-212] ret-213)\n                                           )\n                                           (ap change-0.$.deal_info.deal_id change-0_flat-0)\n                                          )\n                                          (ap change-0.$.deal_info.worker_id change-0_flat-1)\n                                         )\n                                         (call %init_peer_id% (\"json\" \"stringify\") [change-0.$.log.[0].info.app_cid] ret-214)\n                                        )\n                                        (new $array-inline-66\n                                         (seq\n                                          (seq\n                                           (seq\n                                            (ap \"sending the latest update to the worker\" $array-inline-66)\n                                            (ap change-0_flat-1 $array-inline-66)\n                                           )\n                                           (ap ret-214 $array-inline-66)\n                                          )\n                                          (canon %init_peer_id% $array-inline-66  #array-inline-66-0)\n                                         )\n                                        )\n                                       )\n                                       (call %init_peer_id% (\"op\" \"concat_strings\") [\"decider deal_id=\" change-0_flat-0 \": \"] ret-215)\n                                      )\n                                      (par\n                                       (call %init_peer_id% (\"run-console\" \"print\") [ret-215 #array-inline-66-0])\n                                       (null)\n                                      )\n                                     )\n                                     (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-66-0] ret-216)\n                                    )\n                                    (call %init_peer_id% (\"op\" \"concat_strings\") [ret-215 ret-216] ret-217)\n                                   )\n                                   (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-217] ret-218)\n                                  )\n                                  (xor\n                                   (seq\n                                    (seq\n                                     (new $-ephemeral-stream-\n                                      (new #-ephemeral-canon-\n                                       (canon -relay- $-ephemeral-stream-  #-ephemeral-canon-)\n                                      )\n                                     )\n                                     (call change-0_flat-1 (\"worker-spell\" \"set_string\") [\"worker_def_cid\" ret-214] ret-219)\n                                    )\n                                    (new $-ephemeral-stream-\n                                     (new #-ephemeral-canon-\n                                      (canon -relay- $-ephemeral-stream-  #-ephemeral-canon-)\n                                     )\n                                    )\n                                   )\n                                   (seq\n                                    (seq\n                                     (new $-ephemeral-stream-\n                                      (new #-ephemeral-canon-\n                                       (canon -relay- $-ephemeral-stream-  #-ephemeral-canon-)\n                                      )\n                                     )\n                                     (new $-ephemeral-stream-\n                                      (new #-ephemeral-canon-\n                                       (canon %init_peer_id% $-ephemeral-stream-  #-ephemeral-canon-)\n                                      )\n                                     )\n                                    )\n                                    (fail :error:)\n                                   )\n                                  )\n                                 )\n                                 (ap change-0.$.log change-0_flat-2)\n                                )\n                                (ap change-0_flat-2.$.[0].block_number change-0_flat-2_flat)\n                               )\n                               (new %DealState_obj-0_map\n                                (seq\n                                 (ap (\"left_boundary\" change-0_flat-2_flat) %DealState_obj-0_map)\n                                 (canon %init_peer_id% %DealState_obj-0_map  DealState_obj-0)\n                                )\n                               )\n                              )\n                              (call %init_peer_id% (\"json\" \"stringify\") [DealState_obj-0] ret-220)\n                             )\n                             (call %init_peer_id% (-spell_id-arg- \"set_string\") [change-0_flat_flat ret-220] ret-221)\n                            )\n                           )\n                           (seq\n                            (ap :error: -if-error-)\n                            (xor\n                             (match :error:.$.error_code 10002\n                              (null)\n                             )\n                             (fail -if-error-)\n                            )\n                           )\n                          )\n                         )\n                        )\n                        (seq\n                         (ap :error: -if-error-)\n                         (xor\n                          (match :error:.$.error_code 10001\n                           (seq\n                            (seq\n                             (seq\n                              (seq\n                               (seq\n                                (new $array-inline-67\n                                 (seq\n                                  (seq\n                                   (ap \"error retrieving deal change\" $array-inline-67)\n                                   (ap change-0.$.error $array-inline-67)\n                                  )\n                                  (canon %init_peer_id% $array-inline-67  #array-inline-67-0)\n                                 )\n                                )\n                                (call %init_peer_id% (\"op\" \"concat_strings\") [\"decider deal_id=\" change-0_flat_flat \": \"] ret-222)\n                               )\n                               (par\n                                (call %init_peer_id% (\"run-console\" \"print\") [ret-222 #array-inline-67-0])\n                                (null)\n                               )\n                              )\n                              (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-67-0] ret-223)\n                             )\n                             (call %init_peer_id% (\"op\" \"concat_strings\") [ret-222 ret-223] ret-224)\n                            )\n                            (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-224] ret-225)\n                           )\n                          )\n                          (seq\n                           (seq\n                            (ap :error: -else-error-)\n                            (xor\n                             (match :error:.$.error_code 10001\n                              (ap -if-error- -if-else-error-)\n                             )\n                             (ap -else-error- -if-else-error-)\n                            )\n                           )\n                           (fail -if-else-error-)\n                          )\n                         )\n                        )\n                       )\n                      )\n                     )\n                    )\n                   )\n                   (next change-0)\n                  )\n                 )\n                 (par\n                  (fold -changes-flat-0.$.[0] change-1\n                   (par\n                    (seq\n                     (seq\n                      (seq\n                       (seq\n                        (seq\n                         (seq\n                          (ap change-1.$.deal_info change-1_flat)\n                          (ap change-1_flat.$.deal_id change-1_flat_flat)\n                         )\n                         (call %init_peer_id% (\"chain_connector\" \"hex_min\") [change-1.$.right_boundary -latest-flat-0.$.[0]] ret-226)\n                        )\n                        (xor\n                         (match ret-226.$.success true\n                          (ap false not-16)\n                         )\n                         (ap true not-16)\n                        )\n                       )\n                       (new -if-error-\n                        (xor\n                         (match not-16 true\n                          (seq\n                           (seq\n                            (seq\n                             (new $array-inline-68\n                              (seq\n                               (seq\n                                (seq\n                                 (ap \"hex_min failed\" $array-inline-68)\n                                 (ap change-1.$.right_boundary $array-inline-68)\n                                )\n                                (ap -latest-flat-0.$.[0] $array-inline-68)\n                               )\n                               (canon %init_peer_id% $array-inline-68  #array-inline-68-0)\n                              )\n                             )\n                             (par\n                              (call %init_peer_id% (\"run-console\" \"print\") [\"decider\" #array-inline-68-0])\n                              (null)\n                             )\n                            )\n                            (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-68-0] ret-227)\n                           )\n                           (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-227] ret-228)\n                          )\n                         )\n                         (seq\n                          (ap :error: -if-error-)\n                          (xor\n                           (match :error:.$.error_code 10001\n                            (null)\n                           )\n                           (fail -if-error-)\n                          )\n                         )\n                        )\n                       )\n                      )\n                      (ap ret-226.$.hex ret-226_flat)\n                     )\n                     (new -if-error-\n                      (xor\n                       (mismatch ret-226_flat []\n                        (seq\n                         (seq\n                          (seq\n                           (seq\n                            (call %init_peer_id% (\"chain_connector\" \"hex_add\") [ret-226_flat.$.[0] 1] ret-229)\n                            (xor\n                             (match ret-229.$.success true\n                              (ap false not-17)\n                             )\n                             (ap true not-17)\n                            )\n                           )\n                           (new -if-error-\n                            (xor\n                             (match not-17 true\n                              (seq\n                               (seq\n                                (seq\n                                 (new $array-inline-69\n                                  (seq\n                                   (seq\n                                    (seq\n                                     (ap \"hex_add failed\" $array-inline-69)\n                                     (ap ret-226_flat.$.[0] $array-inline-69)\n                                    )\n                                    (ap 1 $array-inline-69)\n                                   )\n                                   (canon %init_peer_id% $array-inline-69  #array-inline-69-0)\n                                  )\n                                 )\n                                 (par\n                                  (call %init_peer_id% (\"run-console\" \"print\") [\"decider\" #array-inline-69-0])\n                                  (null)\n                                 )\n                                )\n                                (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-69-0] ret-230)\n                               )\n                               (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-230] ret-231)\n                              )\n                             )\n                             (seq\n                              (ap :error: -if-error-)\n                              (xor\n                               (match :error:.$.error_code 10001\n                                (null)\n                               )\n                               (fail -if-error-)\n                              )\n                             )\n                            )\n                           )\n                          )\n                          (ap ret-229.$.hex ret-229_flat)\n                         )\n                         (new -if-error-\n                          (xor\n                           (mismatch ret-229_flat []\n                            (seq\n                             (seq\n                              (new %DealState_obj-1_map\n                               (seq\n                                (ap (\"left_boundary\" ret-229_flat.$.[0]) %DealState_obj-1_map)\n                                (canon %init_peer_id% %DealState_obj-1_map  DealState_obj-1)\n                               )\n                              )\n                              (call %init_peer_id% (\"json\" \"stringify\") [DealState_obj-1] ret-232)\n                             )\n                             (call %init_peer_id% (-spell_id-arg- \"set_string\") [change-1_flat_flat ret-232] ret-233)\n                            )\n                           )\n                           (seq\n                            (ap :error: -if-error-)\n                            (xor\n                             (match :error:.$.error_code 10002\n                              (null)\n                             )\n                             (fail -if-error-)\n                            )\n                           )\n                          )\n                         )\n                        )\n                       )\n                       (seq\n                        (ap :error: -if-error-)\n                        (xor\n                         (match :error:.$.error_code 10002\n                          (null)\n                         )\n                         (fail -if-error-)\n                        )\n                       )\n                      )\n                     )\n                    )\n                    (next change-1)\n                   )\n                   (never)\n                  )\n                  (null)\n                 )\n                )\n               )\n               (seq\n                (ap :error: -if-error-)\n                (xor\n                 (match :error:.$.error_code 10002\n                  (null)\n                 )\n                 (fail -if-error-)\n                )\n               )\n              )\n             )\n            )\n            (null)\n           )\n          )\n          (xor\n           (new $deal_ids-0\n            (seq\n             (seq\n              (fold -joined_deals-flat-0 joined_deal-1-0\n               (seq\n                (ap joined_deal-1-0.$.deal_id $deal_ids-0)\n                (next joined_deal-1-0)\n               )\n              )\n              (canon %init_peer_id% $deal_ids-0  #deal_ids-0_canon)\n             )\n             (new -if-error-\n              (xor\n               (mismatch #deal_ids-0_canon []\n                (seq\n                 (seq\n                  (seq\n                   (canon %init_peer_id% $deal_ids-0  #deal_ids-0_canon-0)\n                   (call %init_peer_id% (\"chain_connector\" \"get_status_batch\") [-chain-arg-.$.api_endpoint #deal_ids-0_canon-0] ret-234)\n                  )\n                  (xor\n                   (match ret-234.$.success true\n                    (ap false not-18)\n                   )\n                   (ap true not-18)\n                  )\n                 )\n                 (new -if-else-error-\n                  (new -else-error-\n                   (new -if-error-\n                    (xor\n                     (match not-18 true\n                      (seq\n                       (seq\n                        (seq\n                         (new $array-inline-70\n                          (seq\n                           (seq\n                            (ap \"couldn't obtain deal statuses, error: \" $array-inline-70)\n                            (ap ret-234.$.error.[0] $array-inline-70)\n                           )\n                           (canon %init_peer_id% $array-inline-70  #array-inline-70-0)\n                          )\n                         )\n                         (par\n                          (call %init_peer_id% (\"run-console\" \"print\") [\"decider\" #array-inline-70-0])\n                          (null)\n                         )\n                        )\n                        (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-70-0] ret-235)\n                       )\n                       (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-235] ret-236)\n                      )\n                     )\n                     (seq\n                      (ap :error: -if-error-)\n                      (xor\n                       (match :error:.$.error_code 10001\n                        (seq\n                         (seq\n                          (seq\n                           (seq\n                            (new $array-inline-71\n                             (seq\n                              (seq\n                               (seq\n                                (seq\n                                 (seq\n                                  (seq\n                                   (ap ret-234.$.statuses ret-234_flat)\n                                   (ap ret-234_flat ret-234_flat_to_functor)\n                                  )\n                                  (ap ret-234_flat_to_functor.length ret-234_flat_length)\n                                 )\n                                 (ap \"found statuses for\" $array-inline-71)\n                                )\n                                (ap ret-234_flat_length $array-inline-71)\n                               )\n                               (ap \"deals\" $array-inline-71)\n                              )\n                              (canon %init_peer_id% $array-inline-71  #array-inline-71-0)\n                             )\n                            )\n                            (par\n                             (call %init_peer_id% (\"run-console\" \"print\") [\"decider\" #array-inline-71-0])\n                             (null)\n                            )\n                           )\n                           (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-71-0] ret-237)\n                          )\n                          (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-237] ret-238)\n                         )\n                         (fold ret-234.$.statuses deal_status-1-0\n                          (seq\n                           (seq\n                            (xor\n                             (match deal_status-1-0.$.success true\n                              (ap false not-19)\n                             )\n                             (ap true not-19)\n                            )\n                            (new -if-else-error-\n                             (new -else-error-\n                              (new -if-error-\n                               (xor\n                                (match not-19 true\n                                 (seq\n                                  (seq\n                                   (seq\n                                    (new $array-inline-72\n                                     (seq\n                                      (seq\n                                       (ap \"couldn't obtain deal status, error:\" $array-inline-72)\n                                       (ap deal_status-1-0.$.error.[0] $array-inline-72)\n                                      )\n                                      (canon %init_peer_id% $array-inline-72  #array-inline-72-0)\n                                     )\n                                    )\n                                    (par\n                                     (call %init_peer_id% (\"run-console\" \"print\") [\"decider\" #array-inline-72-0])\n                                     (null)\n                                    )\n                                   )\n                                   (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-72-0] ret-239)\n                                  )\n                                  (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-239] ret-240)\n                                 )\n                                )\n                                (seq\n                                 (ap :error: -if-error-)\n                                 (xor\n                                  (match :error:.$.error_code 10001\n                                   (new -if-else-error-\n                                    (new -else-error-\n                                     (new -if-error-\n                                      (xor\n                                       (match deal_status-1-0.$.status \"ACTIVE\"\n                                        (seq\n                                         (seq\n                                          (seq\n                                           (seq\n                                            (seq\n                                             (new $array-inline-73\n                                              (seq\n                                               (seq\n                                                (ap \"couldn't activate a worker\" $array-inline-73)\n                                                (ap :error: $array-inline-73)\n                                               )\n                                               (canon %init_peer_id% $array-inline-73  #array-inline-73-0)\n                                              )\n                                             )\n                                             (call %init_peer_id% (\"op\" \"concat_strings\") [\"decider deal_id=\" deal_status-1-0.$.deal_id \": \"] ret-241)\n                                            )\n                                            (par\n                                             (call %init_peer_id% (\"run-console\" \"print\") [ret-241 #array-inline-73-0])\n                                             (null)\n                                            )\n                                           )\n                                           (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-73-0] ret-242)\n                                          )\n                                          (call %init_peer_id% (\"op\" \"concat_strings\") [ret-241 ret-242] ret-243)\n                                         )\n                                         (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-243] ret-244)\n                                        )\n                                       )\n                                       (seq\n                                        (ap :error: -if-error-)\n                                        (xor\n                                         (match :error:.$.error_code 10001\n                                          (new -if-else-error-\n                                           (new -else-error-\n                                            (new -if-error-\n                                             (xor\n                                              (match deal_status-1-0.$.status \"INACTIVE\"\n                                               (seq\n                                                (seq\n                                                 (seq\n                                                  (seq\n                                                   (seq\n                                                    (new $array-inline-74\n                                                     (seq\n                                                      (seq\n                                                       (ap \"couldn't deactivate a worker\" $array-inline-74)\n                                                       (ap :error: $array-inline-74)\n                                                      )\n                                                      (canon %init_peer_id% $array-inline-74  #array-inline-74-0)\n                                                     )\n                                                    )\n                                                    (call %init_peer_id% (\"op\" \"concat_strings\") [\"decider deal_id=\" deal_status-1-0.$.deal_id \": \"] ret-245)\n                                                   )\n                                                   (par\n                                                    (call %init_peer_id% (\"run-console\" \"print\") [ret-245 #array-inline-74-0])\n                                                    (null)\n                                                   )\n                                                  )\n                                                  (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-74-0] ret-246)\n                                                 )\n                                                 (call %init_peer_id% (\"op\" \"concat_strings\") [ret-245 ret-246] ret-247)\n                                                )\n                                                (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-247] ret-248)\n                                               )\n                                              )\n                                              (seq\n                                               (ap :error: -if-error-)\n                                               (xor\n                                                (match :error:.$.error_code 10001\n                                                 (new -if-else-error-\n                                                  (new -else-error-\n                                                   (new -if-error-\n                                                    (xor\n                                                     (match deal_status-1-0.$.status \"ENDED\"\n                                                      (seq\n                                                       (call %init_peer_id% (\"worker\" \"get_worker_id\") [deal_status-1-0.$.deal_id] ret-249)\n                                                       (new -if-else-error-\n                                                        (new -else-error-\n                                                         (new -if-error-\n                                                          (xor\n                                                           (mismatch ret-249 []\n                                                            (seq\n                                                             (seq\n                                                              (seq\n                                                               (seq\n                                                                (seq\n                                                                 (seq\n                                                                  (call %init_peer_id% (\"op\" \"concat_strings\") [\"decider deal_id=\" deal_status-1-0.$.deal_id \": \"] ret-250)\n                                                                  (par\n                                                                   (call %init_peer_id% (\"run-console\" \"print\") [ret-250 \"removing the worker and the deal state from kv\"])\n                                                                   (null)\n                                                                  )\n                                                                 )\n                                                                 (call %init_peer_id% (\"json\" \"stringify\") [\"removing the worker and the deal state from kv\"] ret-251)\n                                                                )\n                                                                (call %init_peer_id% (\"op\" \"concat_strings\") [ret-250 ret-251] ret-252)\n                                                               )\n                                                               (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-252] ret-253)\n                                                              )\n                                                              (xor\n                                                               (call %init_peer_id% (\"worker\" \"remove\") [ret-249.$.[0]])\n                                                               (seq\n                                                                (seq\n                                                                 (seq\n                                                                  (seq\n                                                                   (seq\n                                                                    (new $array-inline-75\n                                                                     (seq\n                                                                      (seq\n                                                                       (seq\n                                                                        (ap \"couldn't remove a worker\" $array-inline-75)\n                                                                        (ap ret-249.$.[0] $array-inline-75)\n                                                                       )\n                                                                       (ap :error: $array-inline-75)\n                                                                      )\n                                                                      (canon %init_peer_id% $array-inline-75  #array-inline-75-0)\n                                                                     )\n                                                                    )\n                                                                    (call %init_peer_id% (\"op\" \"concat_strings\") [\"decider deal_id=\" deal_status-1-0.$.deal_id \": \"] ret-254)\n                                                                   )\n                                                                   (par\n                                                                    (call %init_peer_id% (\"run-console\" \"print\") [ret-254 #array-inline-75-0])\n                                                                    (null)\n                                                                   )\n                                                                  )\n                                                                  (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-75-0] ret-255)\n                                                                 )\n                                                                 (call %init_peer_id% (\"op\" \"concat_strings\") [ret-254 ret-255] ret-256)\n                                                                )\n                                                                (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-256] ret-257)\n                                                               )\n                                                              )\n                                                             )\n                                                             (xor\n                                                              (seq\n                                                               (seq\n                                                                (seq\n                                                                 (seq\n                                                                  (seq\n                                                                   (new %JoinedDeal_obj-1_map\n                                                                    (seq\n                                                                     (seq\n                                                                      (ap (\"deal_id\" deal_status-1-0.$.deal_id) %JoinedDeal_obj-1_map)\n                                                                      (ap (\"worker_id\" ret-249.$.[0]) %JoinedDeal_obj-1_map)\n                                                                     )\n                                                                     (canon %init_peer_id% %JoinedDeal_obj-1_map  JoinedDeal_obj-1)\n                                                                    )\n                                                                   )\n                                                                   (call %init_peer_id% (\"json\" \"stringify\") [JoinedDeal_obj-1] ret-258)\n                                                                  )\n                                                                  (call %init_peer_id% (-spell_id-arg- \"list_remove_string\") [\"joined_deals\" ret-258] ret-259)\n                                                                 )\n                                                                 (call %init_peer_id% (-spell_id-arg- \"remove_key\") [deal_status-1-0.$.deal_id] ret-260)\n                                                                )\n                                                                (call %init_peer_id% (\"op\" \"concat_strings\") [\"removed_state:\" deal_status-1-0.$.deal_id] ret-261)\n                                                               )\n                                                               (call %init_peer_id% (-spell_id-arg- \"remove_key\") [ret-261] ret-262)\n                                                              )\n                                                              (seq\n                                                               (seq\n                                                                (seq\n                                                                 (seq\n                                                                  (seq\n                                                                   (new $array-inline-76\n                                                                    (seq\n                                                                     (seq\n                                                                      (ap \"couldn't remove the deal\" $array-inline-76)\n                                                                      (ap :error: $array-inline-76)\n                                                                     )\n                                                                     (canon %init_peer_id% $array-inline-76  #array-inline-76-0)\n                                                                    )\n                                                                   )\n                                                                   (call %init_peer_id% (\"op\" \"concat_strings\") [\"decider deal_id=\" deal_status-1-0.$.deal_id \": \"] ret-263)\n                                                                  )\n                                                                  (par\n                                                                   (call %init_peer_id% (\"run-console\" \"print\") [ret-263 #array-inline-76-0])\n                                                                   (null)\n                                                                  )\n                                                                 )\n                                                                 (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-76-0] ret-264)\n                                                                )\n                                                                (call %init_peer_id% (\"op\" \"concat_strings\") [ret-263 ret-264] ret-265)\n                                                               )\n                                                               (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-265] ret-266)\n                                                              )\n                                                             )\n                                                            )\n                                                           )\n                                                           (seq\n                                                            (ap :error: -if-error-)\n                                                            (xor\n                                                             (match :error:.$.error_code 10002\n                                                              (seq\n                                                               (seq\n                                                                (seq\n                                                                 (seq\n                                                                  (call %init_peer_id% (\"op\" \"concat_strings\") [\"decider deal_id=\" deal_status-1-0.$.deal_id \": \"] ret-267)\n                                                                  (par\n                                                                   (call %init_peer_id% (\"run-console\" \"print\") [ret-267 \"deal doesn't have associated worker O.o\"])\n                                                                   (null)\n                                                                  )\n                                                                 )\n                                                                 (call %init_peer_id% (\"json\" \"stringify\") [\"deal doesn't have associated worker O.o\"] ret-268)\n                                                                )\n                                                                (call %init_peer_id% (\"op\" \"concat_strings\") [ret-267 ret-268] ret-269)\n                                                               )\n                                                               (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-269] ret-270)\n                                                              )\n                                                             )\n                                                             (seq\n                                                              (seq\n                                                               (ap :error: -else-error-)\n                                                               (xor\n                                                                (match :error:.$.error_code 10001\n                                                                 (ap -if-error- -if-else-error-)\n                                                                )\n                                                                (ap -else-error- -if-else-error-)\n                                                               )\n                                                              )\n                                                              (fail -if-else-error-)\n                                                             )\n                                                            )\n                                                           )\n                                                          )\n                                                         )\n                                                        )\n                                                       )\n                                                      )\n                                                     )\n                                                     (seq\n                                                      (ap :error: -if-error-)\n                                                      (xor\n                                                       (match :error:.$.error_code 10001\n                                                        (seq\n                                                         (seq\n                                                          (seq\n                                                           (new $array-inline-77\n                                                            (seq\n                                                             (seq\n                                                              (ap \"unsupported deal status: \" $array-inline-77)\n                                                              (ap deal_status-1-0 $array-inline-77)\n                                                             )\n                                                             (canon %init_peer_id% $array-inline-77  #array-inline-77-0)\n                                                            )\n                                                           )\n                                                           (par\n                                                            (call %init_peer_id% (\"run-console\" \"print\") [\"decider\" #array-inline-77-0])\n                                                            (null)\n                                                           )\n                                                          )\n                                                          (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-77-0] ret-271)\n                                                         )\n                                                         (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-271] ret-272)\n                                                        )\n                                                       )\n                                                       (seq\n                                                        (seq\n                                                         (ap :error: -else-error-)\n                                                         (xor\n                                                          (match :error:.$.error_code 10001\n                                                           (ap -if-error- -if-else-error-)\n                                                          )\n                                                          (ap -else-error- -if-else-error-)\n                                                         )\n                                                        )\n                                                        (fail -if-else-error-)\n                                                       )\n                                                      )\n                                                     )\n                                                    )\n                                                   )\n                                                  )\n                                                 )\n                                                )\n                                                (seq\n                                                 (seq\n                                                  (ap :error: -else-error-)\n                                                  (xor\n                                                   (match :error:.$.error_code 10001\n                                                    (ap -if-error- -if-else-error-)\n                                                   )\n                                                   (ap -else-error- -if-else-error-)\n                                                  )\n                                                 )\n                                                 (fail -if-else-error-)\n                                                )\n                                               )\n                                              )\n                                             )\n                                            )\n                                           )\n                                          )\n                                         )\n                                         (seq\n                                          (seq\n                                           (ap :error: -else-error-)\n                                           (xor\n                                            (match :error:.$.error_code 10001\n                                             (ap -if-error- -if-else-error-)\n                                            )\n                                            (ap -else-error- -if-else-error-)\n                                           )\n                                          )\n                                          (fail -if-else-error-)\n                                         )\n                                        )\n                                       )\n                                      )\n                                     )\n                                    )\n                                   )\n                                  )\n                                  (seq\n                                   (seq\n                                    (ap :error: -else-error-)\n                                    (xor\n                                     (match :error:.$.error_code 10001\n                                      (ap -if-error- -if-else-error-)\n                                     )\n                                     (ap -else-error- -if-else-error-)\n                                    )\n                                   )\n                                   (fail -if-else-error-)\n                                  )\n                                 )\n                                )\n                               )\n                              )\n                             )\n                            )\n                           )\n                           (next deal_status-1-0)\n                          )\n                         )\n                        )\n                       )\n                       (seq\n                        (seq\n                         (ap :error: -else-error-)\n                         (xor\n                          (match :error:.$.error_code 10001\n                           (ap -if-error- -if-else-error-)\n                          )\n                          (ap -else-error- -if-else-error-)\n                         )\n                        )\n                        (fail -if-else-error-)\n                       )\n                      )\n                     )\n                    )\n                   )\n                  )\n                 )\n                )\n               )\n               (seq\n                (ap :error: -if-error-)\n                (xor\n                 (match :error:.$.error_code 10002\n                  (null)\n                 )\n                 (fail -if-error-)\n                )\n               )\n              )\n             )\n            )\n           )\n           (null)\n          )\n         )\n         (xor\n          (seq\n           (seq\n            (ap -joined_deals-flat-0 -joined_deals-flat-0_to_functor)\n            (ap -joined_deals-flat-0_to_functor.length -joined_deals-flat-0_length)\n           )\n           (new -if-error-\n            (xor\n             (mismatch -joined_deals-flat-0_length 0\n              (new $reqs\n               (seq\n                (seq\n                 (fold -joined_deals-flat-0 joined_deal-3-0\n                  (seq\n                   (seq\n                    (seq\n                     (seq\n                      (ap joined_deal-3-0.$.deal_id joined_deal-3-0_flat)\n                      (call %init_peer_id% (\"op\" \"concat_strings\") [\"removed_state:\" joined_deal-3-0_flat] ret-273)\n                     )\n                     (new $state-4\n                      (seq\n                       (seq\n                        (seq\n                         (seq\n                          (call %init_peer_id% (-spell_id-arg- \"get_string\") [joined_deal-3-0_flat] ret-274)\n                          (xor\n                           (match ret-274.$.success false\n                            (ap ret-274.$.success and-0)\n                           )\n                           (seq\n                            (xor\n                             (match ret-274.$.absent true\n                              (ap false not-20)\n                             )\n                             (ap true not-20)\n                            )\n                            (ap not-20 and-0)\n                           )\n                          )\n                         )\n                         (new -if-else-error-\n                          (new -else-error-\n                           (new -if-error-\n                            (xor\n                             (match and-0 true\n                              (xor\n                               (seq\n                                (call %init_peer_id% (\"json\" \"parse\") [ret-274.$.value] ret-275)\n                                (ap ret-275 $state-4)\n                               )\n                               (seq\n                                (seq\n                                 (seq\n                                  (seq\n                                   (seq\n                                    (new $array-inline-78\n                                     (seq\n                                      (seq\n                                       (ap \"failed to parse deal state from json\" $array-inline-78)\n                                       (ap :error: $array-inline-78)\n                                      )\n                                      (canon %init_peer_id% $array-inline-78  #array-inline-78-0)\n                                     )\n                                    )\n                                    (call %init_peer_id% (\"op\" \"concat_strings\") [\"decider deal_id=\" joined_deal-3-0_flat \": \"] ret-276)\n                                   )\n                                   (par\n                                    (call %init_peer_id% (\"run-console\" \"print\") [ret-276 #array-inline-78-0])\n                                    (null)\n                                   )\n                                  )\n                                  (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-78-0] ret-277)\n                                 )\n                                 (call %init_peer_id% (\"op\" \"concat_strings\") [ret-276 ret-277] ret-278)\n                                )\n                                (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-278] ret-279)\n                               )\n                              )\n                             )\n                             (seq\n                              (ap :error: -if-error-)\n                              (xor\n                               (match :error:.$.error_code 10001\n                                (seq\n                                 (seq\n                                  (seq\n                                   (seq\n                                    (seq\n                                     (new $array-inline-79\n                                      (seq\n                                       (seq\n                                        (ap \"deal state not found:\" $array-inline-79)\n                                        (ap ret-274.$.error $array-inline-79)\n                                       )\n                                       (canon %init_peer_id% $array-inline-79  #array-inline-79-0)\n                                      )\n                                     )\n                                     (call %init_peer_id% (\"op\" \"concat_strings\") [\"decider deal_id=\" joined_deal-3-0_flat \": \"] ret-280)\n                                    )\n                                    (par\n                                     (call %init_peer_id% (\"run-console\" \"print\") [ret-280 #array-inline-79-0])\n                                     (null)\n                                    )\n                                   )\n                                   (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-79-0] ret-281)\n                                  )\n                                  (call %init_peer_id% (\"op\" \"concat_strings\") [ret-280 ret-281] ret-282)\n                                 )\n                                 (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-282] ret-283)\n                                )\n                               )\n                               (seq\n                                (seq\n                                 (ap :error: -else-error-)\n                                 (xor\n                                  (match :error:.$.error_code 10001\n                                   (ap -if-error- -if-else-error-)\n                                  )\n                                  (ap -else-error- -if-else-error-)\n                                 )\n                                )\n                                (fail -if-else-error-)\n                               )\n                              )\n                             )\n                            )\n                           )\n                          )\n                         )\n                        )\n                        (canon %init_peer_id% $state-4  #-state-fix-0-0)\n                       )\n                       (ap #-state-fix-0-0 -state-flat-0-0)\n                      )\n                     )\n                    )\n                    (new -if-error-\n                     (xor\n                      (mismatch -state-flat-0-0 []\n                       (seq\n                        (new %DealPeerRemovedReq_obj_map\n                         (seq\n                          (seq\n                           (ap (\"deal_id\" joined_deal-3-0_flat) %DealPeerRemovedReq_obj_map)\n                           (ap (\"left_boundary\" -state-flat-0-0.$.[0].left_boundary) %DealPeerRemovedReq_obj_map)\n                          )\n                          (canon %init_peer_id% %DealPeerRemovedReq_obj_map  DealPeerRemovedReq_obj)\n                         )\n                        )\n                        (ap DealPeerRemovedReq_obj $reqs)\n                       )\n                      )\n                      (seq\n                       (ap :error: -if-error-)\n                       (xor\n                        (match :error:.$.error_code 10002\n                         (null)\n                        )\n                        (fail -if-error-)\n                       )\n                      )\n                     )\n                    )\n                   )\n                   (next joined_deal-3-0)\n                  )\n                 )\n                 (canon %init_peer_id% $reqs  #reqs_canon)\n                )\n                (new -if-error-\n                 (xor\n                  (mismatch #reqs_canon []\n                   (seq\n                    (seq\n                     (seq\n                      (canon %init_peer_id% $reqs  #reqs_canon-0)\n                      (call %init_peer_id% (\"chain_connector\" \"poll_deal_peer_removed_batch\") [-chain-arg-.$.api_endpoint #reqs_canon-0] ret-284)\n                     )\n                     (xor\n                      (match ret-284.$.success true\n                       (ap false not-21)\n                      )\n                      (ap true not-21)\n                     )\n                    )\n                    (new -if-else-error-\n                     (new -else-error-\n                      (new -if-error-\n                       (xor\n                        (match not-21 true\n                         (seq\n                          (seq\n                           (seq\n                            (new $array-inline-80\n                             (seq\n                              (seq\n                               (ap \"can't find if deals were removed from provider:\" $array-inline-80)\n                               (ap ret-284.$.error $array-inline-80)\n                              )\n                              (canon %init_peer_id% $array-inline-80  #array-inline-80-0)\n                             )\n                            )\n                            (par\n                             (call %init_peer_id% (\"run-console\" \"print\") [\"decider\" #array-inline-80-0])\n                             (null)\n                            )\n                           )\n                           (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-80-0] ret-285)\n                          )\n                          (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-285] ret-286)\n                         )\n                        )\n                        (seq\n                         (ap :error: -if-error-)\n                         (xor\n                          (match :error:.$.error_code 10001\n                           (fold ret-284.$.result removed-0\n                            (seq\n                             (seq\n                              (xor\n                               (match removed-0.$.success true\n                                (ap false not-22)\n                               )\n                               (ap true not-22)\n                              )\n                              (new -if-else-error-\n                               (new -else-error-\n                                (new -if-error-\n                                 (xor\n                                  (match not-22 true\n                                   (seq\n                                    (seq\n                                     (seq\n                                      (seq\n                                       (seq\n                                        (new $array-inline-81\n                                         (seq\n                                          (seq\n                                           (ap \"can't find if the deal was removed from provider\" $array-inline-81)\n                                           (ap removed-0.$.error $array-inline-81)\n                                          )\n                                          (canon %init_peer_id% $array-inline-81  #array-inline-81-0)\n                                         )\n                                        )\n                                        (call %init_peer_id% (\"op\" \"concat_strings\") [\"decider deal_id=\" removed-0.$.deal_id \": \"] ret-287)\n                                       )\n                                       (par\n                                        (call %init_peer_id% (\"run-console\" \"print\") [ret-287 #array-inline-81-0])\n                                        (null)\n                                       )\n                                      )\n                                      (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-81-0] ret-288)\n                                     )\n                                     (call %init_peer_id% (\"op\" \"concat_strings\") [ret-287 ret-288] ret-289)\n                                    )\n                                    (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-289] ret-290)\n                                   )\n                                  )\n                                  (seq\n                                   (ap :error: -if-error-)\n                                   (xor\n                                    (match :error:.$.error_code 10001\n                                     (new -if-else-error-\n                                      (new -else-error-\n                                       (new -if-error-\n                                        (xor\n                                         (match removed-0.$.is_removed true\n                                          (seq\n                                           (seq\n                                            (seq\n                                             (seq\n                                              (seq\n                                               (seq\n                                                (seq\n                                                 (new $array-inline-82\n                                                  (seq\n                                                   (ap \"the deal is removed from the provider\" $array-inline-82)\n                                                   (canon %init_peer_id% $array-inline-82  #array-inline-82-0)\n                                                  )\n                                                 )\n                                                 (call %init_peer_id% (\"op\" \"concat_strings\") [\"decider deal_id=\" removed-0.$.deal_id \": \"] ret-291)\n                                                )\n                                                (par\n                                                 (call %init_peer_id% (\"run-console\" \"print\") [ret-291 #array-inline-82-0])\n                                                 (null)\n                                                )\n                                               )\n                                               (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-82-0] ret-292)\n                                              )\n                                              (call %init_peer_id% (\"op\" \"concat_strings\") [ret-291 ret-292] ret-293)\n                                             )\n                                             (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-293] ret-294)\n                                            )\n                                            (call %init_peer_id% (\"worker\" \"get_worker_id\") [removed-0.$.deal_id] ret-295)\n                                           )\n                                           (new -if-else-error-\n                                            (new -else-error-\n                                             (new -if-error-\n                                              (xor\n                                               (mismatch ret-295 []\n                                                (seq\n                                                 (seq\n                                                  (seq\n                                                   (seq\n                                                    (seq\n                                                     (seq\n                                                      (call %init_peer_id% (\"op\" \"concat_strings\") [\"decider deal_id=\" removed-0.$.deal_id \": \"] ret-296)\n                                                      (par\n                                                       (call %init_peer_id% (\"run-console\" \"print\") [ret-296 \"removing the worker and the deal state from kv\"])\n                                                       (null)\n                                                      )\n                                                     )\n                                                     (call %init_peer_id% (\"json\" \"stringify\") [\"removing the worker and the deal state from kv\"] ret-297)\n                                                    )\n                                                    (call %init_peer_id% (\"op\" \"concat_strings\") [ret-296 ret-297] ret-298)\n                                                   )\n                                                   (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-298] ret-299)\n                                                  )\n                                                  (xor\n                                                   (call %init_peer_id% (\"worker\" \"remove\") [ret-295.$.[0]])\n                                                   (seq\n                                                    (seq\n                                                     (seq\n                                                      (seq\n                                                       (seq\n                                                        (new $array-inline-83\n                                                         (seq\n                                                          (seq\n                                                           (seq\n                                                            (ap \"couldn't remove a worker\" $array-inline-83)\n                                                            (ap ret-295.$.[0] $array-inline-83)\n                                                           )\n                                                           (ap :error: $array-inline-83)\n                                                          )\n                                                          (canon %init_peer_id% $array-inline-83  #array-inline-83-0)\n                                                         )\n                                                        )\n                                                        (call %init_peer_id% (\"op\" \"concat_strings\") [\"decider deal_id=\" removed-0.$.deal_id \": \"] ret-300)\n                                                       )\n                                                       (par\n                                                        (call %init_peer_id% (\"run-console\" \"print\") [ret-300 #array-inline-83-0])\n                                                        (null)\n                                                       )\n                                                      )\n                                                      (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-83-0] ret-301)\n                                                     )\n                                                     (call %init_peer_id% (\"op\" \"concat_strings\") [ret-300 ret-301] ret-302)\n                                                    )\n                                                    (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-302] ret-303)\n                                                   )\n                                                  )\n                                                 )\n                                                 (xor\n                                                  (seq\n                                                   (seq\n                                                    (seq\n                                                     (seq\n                                                      (seq\n                                                       (new %JoinedDeal_obj-2_map\n                                                        (seq\n                                                         (seq\n                                                          (ap (\"deal_id\" removed-0.$.deal_id) %JoinedDeal_obj-2_map)\n                                                          (ap (\"worker_id\" ret-295.$.[0]) %JoinedDeal_obj-2_map)\n                                                         )\n                                                         (canon %init_peer_id% %JoinedDeal_obj-2_map  JoinedDeal_obj-2)\n                                                        )\n                                                       )\n                                                       (call %init_peer_id% (\"json\" \"stringify\") [JoinedDeal_obj-2] ret-304)\n                                                      )\n                                                      (call %init_peer_id% (-spell_id-arg- \"list_remove_string\") [\"joined_deals\" ret-304] ret-305)\n                                                     )\n                                                     (call %init_peer_id% (-spell_id-arg- \"remove_key\") [removed-0.$.deal_id] ret-306)\n                                                    )\n                                                    (call %init_peer_id% (\"op\" \"concat_strings\") [\"removed_state:\" removed-0.$.deal_id] ret-307)\n                                                   )\n                                                   (call %init_peer_id% (-spell_id-arg- \"remove_key\") [ret-307] ret-308)\n                                                  )\n                                                  (seq\n                                                   (seq\n                                                    (seq\n                                                     (seq\n                                                      (seq\n                                                       (new $array-inline-84\n                                                        (seq\n                                                         (seq\n                                                          (ap \"couldn't remove the deal\" $array-inline-84)\n                                                          (ap :error: $array-inline-84)\n                                                         )\n                                                         (canon %init_peer_id% $array-inline-84  #array-inline-84-0)\n                                                        )\n                                                       )\n                                                       (call %init_peer_id% (\"op\" \"concat_strings\") [\"decider deal_id=\" removed-0.$.deal_id \": \"] ret-309)\n                                                      )\n                                                      (par\n                                                       (call %init_peer_id% (\"run-console\" \"print\") [ret-309 #array-inline-84-0])\n                                                       (null)\n                                                      )\n                                                     )\n                                                     (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-84-0] ret-310)\n                                                    )\n                                                    (call %init_peer_id% (\"op\" \"concat_strings\") [ret-309 ret-310] ret-311)\n                                                   )\n                                                   (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-311] ret-312)\n                                                  )\n                                                 )\n                                                )\n                                               )\n                                               (seq\n                                                (ap :error: -if-error-)\n                                                (xor\n                                                 (match :error:.$.error_code 10002\n                                                  (seq\n                                                   (seq\n                                                    (seq\n                                                     (seq\n                                                      (call %init_peer_id% (\"op\" \"concat_strings\") [\"decider deal_id=\" removed-0.$.deal_id \": \"] ret-313)\n                                                      (par\n                                                       (call %init_peer_id% (\"run-console\" \"print\") [ret-313 \"deal doesn't have associated worker O.o\"])\n                                                       (null)\n                                                      )\n                                                     )\n                                                     (call %init_peer_id% (\"json\" \"stringify\") [\"deal doesn't have associated worker O.o\"] ret-314)\n                                                    )\n                                                    (call %init_peer_id% (\"op\" \"concat_strings\") [ret-313 ret-314] ret-315)\n                                                   )\n                                                   (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-315] ret-316)\n                                                  )\n                                                 )\n                                                 (seq\n                                                  (seq\n                                                   (ap :error: -else-error-)\n                                                   (xor\n                                                    (match :error:.$.error_code 10001\n                                                     (ap -if-error- -if-else-error-)\n                                                    )\n                                                    (ap -else-error- -if-else-error-)\n                                                   )\n                                                  )\n                                                  (fail -if-else-error-)\n                                                 )\n                                                )\n                                               )\n                                              )\n                                             )\n                                            )\n                                           )\n                                          )\n                                         )\n                                         (seq\n                                          (ap :error: -if-error-)\n                                          (xor\n                                           (match :error:.$.error_code 10001\n                                            (seq\n                                             (seq\n                                              (seq\n                                               (seq\n                                                (call %init_peer_id% (\"chain_connector\" \"hex_min\") [removed-0.$.right_boundary -latest-flat-0.$.[0]] ret-317)\n                                                (xor\n                                                 (match ret-317.$.success true\n                                                  (ap false not-23)\n                                                 )\n                                                 (ap true not-23)\n                                                )\n                                               )\n                                               (new -if-error-\n                                                (xor\n                                                 (match not-23 true\n                                                  (seq\n                                                   (seq\n                                                    (seq\n                                                     (new $array-inline-85\n                                                      (seq\n                                                       (seq\n                                                        (seq\n                                                         (ap \"hex_min failed\" $array-inline-85)\n                                                         (ap removed-0.$.right_boundary $array-inline-85)\n                                                        )\n                                                        (ap -latest-flat-0.$.[0] $array-inline-85)\n                                                       )\n                                                       (canon %init_peer_id% $array-inline-85  #array-inline-85-0)\n                                                      )\n                                                     )\n                                                     (par\n                                                      (call %init_peer_id% (\"run-console\" \"print\") [\"decider\" #array-inline-85-0])\n                                                      (null)\n                                                     )\n                                                    )\n                                                    (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-85-0] ret-318)\n                                                   )\n                                                   (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-318] ret-319)\n                                                  )\n                                                 )\n                                                 (seq\n                                                  (ap :error: -if-error-)\n                                                  (xor\n                                                   (match :error:.$.error_code 10001\n                                                    (null)\n                                                   )\n                                                   (fail -if-error-)\n                                                  )\n                                                 )\n                                                )\n                                               )\n                                              )\n                                              (ap ret-317.$.hex ret-317_flat)\n                                             )\n                                             (new -if-error-\n                                              (xor\n                                               (mismatch ret-317_flat []\n                                                (seq\n                                                 (seq\n                                                  (seq\n                                                   (seq\n                                                    (call %init_peer_id% (\"chain_connector\" \"hex_add\") [ret-317_flat.$.[0] 1] ret-320)\n                                                    (xor\n                                                     (match ret-320.$.success true\n                                                      (ap false not-24)\n                                                     )\n                                                     (ap true not-24)\n                                                    )\n                                                   )\n                                                   (new -if-error-\n                                                    (xor\n                                                     (match not-24 true\n                                                      (seq\n                                                       (seq\n                                                        (seq\n                                                         (new $array-inline-86\n                                                          (seq\n                                                           (seq\n                                                            (seq\n                                                             (ap \"hex_add failed\" $array-inline-86)\n                                                             (ap ret-317_flat.$.[0] $array-inline-86)\n                                                            )\n                                                            (ap 1 $array-inline-86)\n                                                           )\n                                                           (canon %init_peer_id% $array-inline-86  #array-inline-86-0)\n                                                          )\n                                                         )\n                                                         (par\n                                                          (call %init_peer_id% (\"run-console\" \"print\") [\"decider\" #array-inline-86-0])\n                                                          (null)\n                                                         )\n                                                        )\n                                                        (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-86-0] ret-321)\n                                                       )\n                                                       (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-321] ret-322)\n                                                      )\n                                                     )\n                                                     (seq\n                                                      (ap :error: -if-error-)\n                                                      (xor\n                                                       (match :error:.$.error_code 10001\n                                                        (null)\n                                                       )\n                                                       (fail -if-error-)\n                                                      )\n                                                     )\n                                                    )\n                                                   )\n                                                  )\n                                                  (ap ret-320.$.hex ret-320_flat)\n                                                 )\n                                                 (new -if-error-\n                                                  (xor\n                                                   (mismatch ret-320_flat []\n                                                    (seq\n                                                     (seq\n                                                      (seq\n                                                       (new %DealState_obj-2_map\n                                                        (seq\n                                                         (ap (\"left_boundary\" ret-320_flat.$.[0]) %DealState_obj-2_map)\n                                                         (canon %init_peer_id% %DealState_obj-2_map  DealState_obj-2)\n                                                        )\n                                                       )\n                                                       (call %init_peer_id% (\"json\" \"stringify\") [DealState_obj-2] ret-323)\n                                                      )\n                                                      (call %init_peer_id% (\"op\" \"concat_strings\") [\"removed_state:\" removed-0.$.deal_id] ret-324)\n                                                     )\n                                                     (call %init_peer_id% (-spell_id-arg- \"set_string\") [ret-324 ret-323] ret-325)\n                                                    )\n                                                   )\n                                                   (seq\n                                                    (ap :error: -if-error-)\n                                                    (xor\n                                                     (match :error:.$.error_code 10002\n                                                      (null)\n                                                     )\n                                                     (fail -if-error-)\n                                                    )\n                                                   )\n                                                  )\n                                                 )\n                                                )\n                                               )\n                                               (seq\n                                                (ap :error: -if-error-)\n                                                (xor\n                                                 (match :error:.$.error_code 10002\n                                                  (null)\n                                                 )\n                                                 (fail -if-error-)\n                                                )\n                                               )\n                                              )\n                                             )\n                                            )\n                                           )\n                                           (seq\n                                            (seq\n                                             (ap :error: -else-error-)\n                                             (xor\n                                              (match :error:.$.error_code 10001\n                                               (ap -if-error- -if-else-error-)\n                                              )\n                                              (ap -else-error- -if-else-error-)\n                                             )\n                                            )\n                                            (fail -if-else-error-)\n                                           )\n                                          )\n                                         )\n                                        )\n                                       )\n                                      )\n                                     )\n                                    )\n                                    (seq\n                                     (seq\n                                      (ap :error: -else-error-)\n                                      (xor\n                                       (match :error:.$.error_code 10001\n                                        (ap -if-error- -if-else-error-)\n                                       )\n                                       (ap -else-error- -if-else-error-)\n                                      )\n                                     )\n                                     (fail -if-else-error-)\n                                    )\n                                   )\n                                  )\n                                 )\n                                )\n                               )\n                              )\n                             )\n                             (next removed-0)\n                            )\n                           )\n                          )\n                          (seq\n                           (seq\n                            (ap :error: -else-error-)\n                            (xor\n                             (match :error:.$.error_code 10001\n                              (ap -if-error- -if-else-error-)\n                             )\n                             (ap -else-error- -if-else-error-)\n                            )\n                           )\n                           (fail -if-else-error-)\n                          )\n                         )\n                        )\n                       )\n                      )\n                     )\n                    )\n                   )\n                  )\n                  (seq\n                   (ap :error: -if-error-)\n                   (xor\n                    (match :error:.$.error_code 10002\n                     (null)\n                    )\n                    (fail -if-error-)\n                   )\n                  )\n                 )\n                )\n               )\n              )\n             )\n             (seq\n              (ap :error: -if-error-)\n              (xor\n               (match :error:.$.error_code 10002\n                (null)\n               )\n               (fail -if-error-)\n              )\n             )\n            )\n           )\n          )\n          (null)\n         )\n        )\n        (xor\n         (seq\n          (seq\n           (seq\n            (new $known_txs\n             (new $unknown_txs\n              (seq\n               (seq\n                (seq\n                 (seq\n                  (seq\n                   (seq\n                    (seq\n                     (seq\n                      (seq\n                       (seq\n                        (seq\n                         (call %init_peer_id% (-spell_id-arg- \"list_get_strings\") [\"worker_registration_txs\"] ret-326)\n                         (call %init_peer_id% (-spell_id-arg- \"list_get_strings\") [\"worker_registration_txs_statuses\"] ret-327)\n                        )\n                        (fold ret-327.$.value status_str-0\n                         (seq\n                          (xor\n                           (seq\n                            (seq\n                             (call %init_peer_id% (\"json\" \"parse\") [status_str-0] ret-328)\n                             (call %init_peer_id% (\"json\" \"stringify\") [ret-328.$.tx_info] ret-329)\n                            )\n                            (ap ret-329 $known_txs)\n                           )\n                           (seq\n                            (seq\n                             (seq\n                              (new $array-inline-87\n                               (seq\n                                (seq\n                                 (seq\n                                  (seq\n                                   (ap \"can't parse worker tx status:\" $array-inline-87)\n                                   (ap status_str-0 $array-inline-87)\n                                  )\n                                  (ap \"error:\" $array-inline-87)\n                                 )\n                                 (ap :error: $array-inline-87)\n                                )\n                                (canon %init_peer_id% $array-inline-87  #array-inline-87-0)\n                               )\n                              )\n                              (par\n                               (call %init_peer_id% (\"run-console\" \"print\") [\"decider\" #array-inline-87-0])\n                               (null)\n                              )\n                             )\n                             (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-87-0] ret-330)\n                            )\n                            (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-330] ret-331)\n                           )\n                          )\n                          (next status_str-0)\n                         )\n                        )\n                       )\n                       (new $array-inline-88\n                        (seq\n                         (seq\n                          (seq\n                           (seq\n                            (seq\n                             (seq\n                              (ap \"unknown_txs_before_diff:\" $array-inline-88)\n                              (ap \"all:\" $array-inline-88)\n                             )\n                             (ap ret-326.$.value $array-inline-88)\n                            )\n                            (ap \"known:\" $array-inline-88)\n                           )\n                           (canon %init_peer_id% $known_txs  #push-to-stream-2919)\n                          )\n                          (ap #push-to-stream-2919 $array-inline-88)\n                         )\n                         (canon %init_peer_id% $array-inline-88  #array-inline-88-0)\n                        )\n                       )\n                      )\n                      (par\n                       (call %init_peer_id% (\"run-console\" \"print\") [\"decider\" #array-inline-88-0])\n                       (null)\n                      )\n                     )\n                     (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-88-0] ret-332)\n                    )\n                    (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-332] ret-333)\n                   )\n                   (canon %init_peer_id% $known_txs  #known_txs_canon)\n                  )\n                  (call %init_peer_id% (\"array\" \"diff\") [ret-326.$.value #known_txs_canon] ret-334)\n                 )\n                 (fold ret-334 tx-0\n                  (seq\n                   (xor\n                    (seq\n                     (call %init_peer_id% (\"json\" \"parse\") [tx-0] ret-335)\n                     (ap ret-335 $unknown_txs)\n                    )\n                    (seq\n                     (seq\n                      (seq\n                       (new $array-inline-89\n                        (seq\n                         (seq\n                          (seq\n                           (seq\n                            (ap \"can't parse worker tx info:\" $array-inline-89)\n                            (ap tx-0 $array-inline-89)\n                           )\n                           (ap \"error:\" $array-inline-89)\n                          )\n                          (ap :error: $array-inline-89)\n                         )\n                         (canon %init_peer_id% $array-inline-89  #array-inline-89-0)\n                        )\n                       )\n                       (par\n                        (call %init_peer_id% (\"run-console\" \"print\") [\"decider\" #array-inline-89-0])\n                        (null)\n                       )\n                      )\n                      (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-89-0] ret-336)\n                     )\n                     (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-336] ret-337)\n                    )\n                   )\n                   (next tx-0)\n                  )\n                 )\n                )\n                (canon %init_peer_id% $unknown_txs  #-unknown_txs-fix-0)\n               )\n               (ap #-unknown_txs-fix-0 -unknown_txs-flat-0)\n              )\n             )\n            )\n            (ap -unknown_txs-flat-0 -unknown_txs-flat-0_to_functor)\n           )\n           (ap -unknown_txs-flat-0_to_functor.length -unknown_txs-flat-0_length)\n          )\n          (new -if-error-\n           (xor\n            (mismatch -unknown_txs-flat-0_length 0\n             (new $results\n              (seq\n               (seq\n                (seq\n                 (seq\n                  (seq\n                   (seq\n                    (seq\n                     (new $array-inline-90\n                      (seq\n                       (seq\n                        (seq\n                         (seq\n                          (seq\n                           (ap -unknown_txs-flat-0 -unknown_txs-flat-0_to_functor-0)\n                           (ap -unknown_txs-flat-0_to_functor-0.length -unknown_txs-flat-0_length-0)\n                          )\n                          (ap \"tracking txs for\" $array-inline-90)\n                         )\n                         (ap -unknown_txs-flat-0_length-0 $array-inline-90)\n                        )\n                        (ap \"deals\" $array-inline-90)\n                       )\n                       (canon %init_peer_id% $array-inline-90  #array-inline-90-0)\n                      )\n                     )\n                     (par\n                      (call %init_peer_id% (\"run-console\" \"print\") [\"decider\" #array-inline-90-0])\n                      (null)\n                     )\n                    )\n                    (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-90-0] ret-338)\n                   )\n                   (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-338] ret-339)\n                  )\n                  (xor\n                   (seq\n                    (call %init_peer_id% (\"chain_connector\" \"get_tx_statuses\") [-chain-arg-.$.api_endpoint -unknown_txs-flat-0] ret-340)\n                    (ap ret-340 $results)\n                   )\n                   (seq\n                    (seq\n                     (seq\n                      (seq\n                       (seq\n                        (seq\n                         (seq\n                          (new $array-inline-91\n                           (seq\n                            (seq\n                             (ap \"get_tx_statuses_error_arg:\" $array-inline-91)\n                             (ap -unknown_txs-flat-0 $array-inline-91)\n                            )\n                            (canon %init_peer_id% $array-inline-91  #array-inline-91-0)\n                           )\n                          )\n                          (par\n                           (call %init_peer_id% (\"run-console\" \"print\") [\"decider\" #array-inline-91-0])\n                           (null)\n                          )\n                         )\n                         (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-91-0] ret-341)\n                        )\n                        (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-341] ret-342)\n                       )\n                       (new $array-inline-92\n                        (seq\n                         (seq\n                          (seq\n                           (seq\n                            (ap \"get_tx_statuses_error:\" $array-inline-92)\n                            (ap :error: $array-inline-92)\n                           )\n                           (ap \"arg:\" $array-inline-92)\n                          )\n                          (ap -unknown_txs-flat-0 $array-inline-92)\n                         )\n                         (canon %init_peer_id% $array-inline-92  #array-inline-92-0)\n                        )\n                       )\n                      )\n                      (par\n                       (call %init_peer_id% (\"run-console\" \"print\") [\"decider\" #array-inline-92-0])\n                       (null)\n                      )\n                     )\n                     (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-92-0] ret-343)\n                    )\n                    (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-343] ret-344)\n                   )\n                  )\n                 )\n                 (new $results_test\n                  (seq\n                   (seq\n                    (fold $results results_fold_var\n                     (seq\n                      (seq\n                       (ap results_fold_var $results_test)\n                       (canon %init_peer_id% $results_test  #results_iter_canon)\n                      )\n                      (xor\n                       (match #results_iter_canon.length 1\n                        (null)\n                       )\n                       (next results_fold_var)\n                      )\n                     )\n                     (never)\n                    )\n                    (canon %init_peer_id% $results_test  #results_result_canon)\n                   )\n                   (ap #results_result_canon results_gate)\n                  )\n                 )\n                )\n                (xor\n                 (match results_gate.$.[0].success true\n                  (ap false not-25)\n                 )\n                 (ap true not-25)\n                )\n               )\n               (new -if-else-error-\n                (new -else-error-\n                 (new -if-error-\n                  (xor\n                   (match not-25 true\n                    (seq\n                     (seq\n                      (seq\n                       (new $array-inline-93\n                        (seq\n                         (seq\n                          (ap \"couldn't make batch jsonrpc request:\" $array-inline-93)\n                          (ap results_gate.$.[0].error $array-inline-93)\n                         )\n                         (canon %init_peer_id% $array-inline-93  #array-inline-93-0)\n                        )\n                       )\n                       (par\n                        (call %init_peer_id% (\"run-console\" \"print\") [\"decider\" #array-inline-93-0])\n                        (null)\n                       )\n                      )\n                      (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-93-0] ret-345)\n                     )\n                     (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-345] ret-346)\n                    )\n                   )\n                   (seq\n                    (ap :error: -if-error-)\n                    (xor\n                     (match :error:.$.error_code 10001\n                      (fold results_gate.$.[0].results status-1\n                       (seq\n                        (seq\n                         (xor\n                          (match status-1.$.success true\n                           (ap false not-26)\n                          )\n                          (ap true not-26)\n                         )\n                         (new -if-else-error-\n                          (new -else-error-\n                           (new -if-error-\n                            (xor\n                             (match not-26 true\n                              (seq\n                               (seq\n                                (seq\n                                 (seq\n                                  (seq\n                                   (new $array-inline-94\n                                    (seq\n                                     (seq\n                                      (seq\n                                       (seq\n                                        (seq\n                                         (ap \"couldn't find tx status:\" $array-inline-94)\n                                         (ap \"tx_hash:\" $array-inline-94)\n                                        )\n                                        (ap status-1.$.tx.tx_hash $array-inline-94)\n                                       )\n                                       (ap \"error:\" $array-inline-94)\n                                      )\n                                      (ap status-1.$.error $array-inline-94)\n                                     )\n                                     (canon %init_peer_id% $array-inline-94  #array-inline-94-0)\n                                    )\n                                   )\n                                   (call %init_peer_id% (\"op\" \"concat_strings\") [\"decider deal_id=\" status-1.$.tx.deal_id \": \"] ret-347)\n                                  )\n                                  (par\n                                   (call %init_peer_id% (\"run-console\" \"print\") [ret-347 #array-inline-94-0])\n                                   (null)\n                                  )\n                                 )\n                                 (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-94-0] ret-348)\n                                )\n                                (call %init_peer_id% (\"op\" \"concat_strings\") [ret-347 ret-348] ret-349)\n                               )\n                               (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-349] ret-350)\n                              )\n                             )\n                             (seq\n                              (ap :error: -if-error-)\n                              (xor\n                               (match :error:.$.error_code 10001\n                                (new -if-error-\n                                 (xor\n                                  (mismatch status-1.$.status \"pending\"\n                                   (seq\n                                    (seq\n                                     (seq\n                                      (seq\n                                       (seq\n                                        (new %WorkerTxStatus_obj_map\n                                         (seq\n                                          (seq\n                                           (ap (\"status\" status-1.$.status) %WorkerTxStatus_obj_map)\n                                           (ap (\"tx_info\" status-1.$.tx) %WorkerTxStatus_obj_map)\n                                          )\n                                          (canon %init_peer_id% %WorkerTxStatus_obj_map  WorkerTxStatus_obj)\n                                         )\n                                        )\n                                        (call %init_peer_id% (\"json\" \"stringify\") [WorkerTxStatus_obj] ret-351)\n                                       )\n                                       (call %init_peer_id% (-spell_id-arg- \"list_push_string\") [\"worker_registration_txs_statuses\" ret-351] ret-352)\n                                      )\n                                      (xor\n                                       (match ret-352.$.success true\n                                        (ap false not-27)\n                                       )\n                                       (ap true not-27)\n                                      )\n                                     )\n                                     (new -if-error-\n                                      (xor\n                                       (match not-27 true\n                                        (seq\n                                         (seq\n                                          (seq\n                                           (new $array-inline-95\n                                            (seq\n                                             (seq\n                                              (seq\n                                               (seq\n                                                (ap \"can't store value in list by key\" $array-inline-95)\n                                                (ap \"worker_registration_txs_statuses\" $array-inline-95)\n                                               )\n                                               (ap \"error:\" $array-inline-95)\n                                              )\n                                              (ap ret-352.$.error $array-inline-95)\n                                             )\n                                             (canon %init_peer_id% $array-inline-95  #array-inline-95-0)\n                                            )\n                                           )\n                                           (par\n                                            (call %init_peer_id% (\"run-console\" \"print\") [\"decider\" #array-inline-95-0])\n                                            (null)\n                                           )\n                                          )\n                                          (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-95-0] ret-353)\n                                         )\n                                         (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-353] ret-354)\n                                        )\n                                       )\n                                       (seq\n                                        (ap :error: -if-error-)\n                                        (xor\n                                         (match :error:.$.error_code 10001\n                                          (null)\n                                         )\n                                         (fail -if-error-)\n                                        )\n                                       )\n                                      )\n                                     )\n                                    )\n                                    (new -if-error-\n                                     (xor\n                                      (match status-1.$.status \"failed\"\n                                       (seq\n                                        (seq\n                                         (seq\n                                          (seq\n                                           (seq\n                                            (seq\n                                             (seq\n                                              (seq\n                                               (seq\n                                                (seq\n                                                 (seq\n                                                  (seq\n                                                   (seq\n                                                    (new $option-inline\n                                                     (seq\n                                                      (xor\n                                                       (ap status-1.$.tx.tx_hash $option-inline)\n                                                       (null)\n                                                      )\n                                                      (canon %init_peer_id% $option-inline  #option-inline-0)\n                                                     )\n                                                    )\n                                                    (new %TxFailed_obj-0_map\n                                                     (seq\n                                                      (seq\n                                                       (ap (\"block_number\" status-1.$.block_number) %TxFailed_obj-0_map)\n                                                       (ap (\"tx_hash\" #option-inline-0) %TxFailed_obj-0_map)\n                                                      )\n                                                      (canon %init_peer_id% %TxFailed_obj-0_map  TxFailed_obj-0)\n                                                     )\n                                                    )\n                                                   )\n                                                   (new %FailedDealError_obj-1_map\n                                                    (seq\n                                                     (seq\n                                                      (ap (\"content\" TxFailed_obj-0) %FailedDealError_obj-1_map)\n                                                      (ap (\"type\" \"TxFailed\") %FailedDealError_obj-1_map)\n                                                     )\n                                                     (canon %init_peer_id% %FailedDealError_obj-1_map  FailedDealError_obj-1)\n                                                    )\n                                                   )\n                                                  )\n                                                  (new %FailedDeal_obj-1_map\n                                                   (seq\n                                                    (seq\n                                                     (seq\n                                                      (ap (\"deal_id\" status-1.$.tx.deal_id) %FailedDeal_obj-1_map)\n                                                      (ap (\"message\" \"transaction failed\") %FailedDeal_obj-1_map)\n                                                     )\n                                                     (ap (\"payload\" FailedDealError_obj-1) %FailedDeal_obj-1_map)\n                                                    )\n                                                    (canon %init_peer_id% %FailedDeal_obj-1_map  FailedDeal_obj-1)\n                                                   )\n                                                  )\n                                                 )\n                                                 (call %init_peer_id% (\"json\" \"stringify\") [FailedDeal_obj-1] ret-355)\n                                                )\n                                                (call %init_peer_id% (-spell_id-arg- \"list_push_string\") [\"failed_deals\" ret-355] ret-356)\n                                               )\n                                               (xor\n                                                (match ret-356.$.success true\n                                                 (ap false not-28)\n                                                )\n                                                (ap true not-28)\n                                               )\n                                              )\n                                              (new -if-error-\n                                               (xor\n                                                (match not-28 true\n                                                 (seq\n                                                  (seq\n                                                   (seq\n                                                    (new $array-inline-96\n                                                     (seq\n                                                      (seq\n                                                       (seq\n                                                        (seq\n                                                         (ap \"can't store value in list by key\" $array-inline-96)\n                                                         (ap \"failed_deals\" $array-inline-96)\n                                                        )\n                                                        (ap \"error:\" $array-inline-96)\n                                                       )\n                                                       (ap ret-356.$.error $array-inline-96)\n                                                      )\n                                                      (canon %init_peer_id% $array-inline-96  #array-inline-96-0)\n                                                     )\n                                                    )\n                                                    (par\n                                                     (call %init_peer_id% (\"run-console\" \"print\") [\"decider\" #array-inline-96-0])\n                                                     (null)\n                                                    )\n                                                   )\n                                                   (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-96-0] ret-357)\n                                                  )\n                                                  (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-357] ret-358)\n                                                 )\n                                                )\n                                                (seq\n                                                 (ap :error: -if-error-)\n                                                 (xor\n                                                  (match :error:.$.error_code 10001\n                                                   (null)\n                                                  )\n                                                  (fail -if-error-)\n                                                 )\n                                                )\n                                               )\n                                              )\n                                             )\n                                             (new $array-inline-97\n                                              (seq\n                                               (seq\n                                                (seq\n                                                 (seq\n                                                  (ap \"transaction failed, tx_hash:\" $array-inline-97)\n                                                  (ap status-1.$.tx.tx_hash $array-inline-97)\n                                                 )\n                                                 (ap \"block_number:\" $array-inline-97)\n                                                )\n                                                (ap status-1.$.block_number $array-inline-97)\n                                               )\n                                               (canon %init_peer_id% $array-inline-97  #array-inline-97-0)\n                                              )\n                                             )\n                                            )\n                                            (call %init_peer_id% (\"op\" \"concat_strings\") [\"decider deal_id=\" status-1.$.tx.deal_id \": \"] ret-359)\n                                           )\n                                           (par\n                                            (call %init_peer_id% (\"run-console\" \"print\") [ret-359 #array-inline-97-0])\n                                            (null)\n                                           )\n                                          )\n                                          (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-97-0] ret-360)\n                                         )\n                                         (call %init_peer_id% (\"op\" \"concat_strings\") [ret-359 ret-360] ret-361)\n                                        )\n                                        (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-361] ret-362)\n                                       )\n                                      )\n                                      (seq\n                                       (ap :error: -if-error-)\n                                       (xor\n                                        (match :error:.$.error_code 10001\n                                         (null)\n                                        )\n                                        (fail -if-error-)\n                                       )\n                                      )\n                                     )\n                                    )\n                                   )\n                                  )\n                                  (seq\n                                   (ap :error: -if-error-)\n                                   (xor\n                                    (match :error:.$.error_code 10002\n                                     (null)\n                                    )\n                                    (fail -if-error-)\n                                   )\n                                  )\n                                 )\n                                )\n                               )\n                               (seq\n                                (seq\n                                 (ap :error: -else-error-)\n                                 (xor\n                                  (match :error:.$.error_code 10001\n                                   (ap -if-error- -if-else-error-)\n                                  )\n                                  (ap -else-error- -if-else-error-)\n                                 )\n                                )\n                                (fail -if-else-error-)\n                               )\n                              )\n                             )\n                            )\n                           )\n                          )\n                         )\n                        )\n                        (next status-1)\n                       )\n                      )\n                     )\n                     (seq\n                      (seq\n                       (ap :error: -else-error-)\n                       (xor\n                        (match :error:.$.error_code 10001\n                         (ap -if-error- -if-else-error-)\n                        )\n                        (ap -else-error- -if-else-error-)\n                       )\n                      )\n                      (fail -if-else-error-)\n                     )\n                    )\n                   )\n                  )\n                 )\n                )\n               )\n              )\n             )\n            )\n            (seq\n             (ap :error: -if-error-)\n             (xor\n              (match :error:.$.error_code 10002\n               (null)\n              )\n              (fail -if-error-)\n             )\n            )\n           )\n          )\n         )\n         (null)\n        )\n       )\n       (xor\n        (seq\n         (new $result-16\n          (seq\n           (seq\n            (seq\n             (seq\n              (call %init_peer_id% (-spell_id-arg- \"get_string\") [\"last_seen_block\"] ret-363)\n              (xor\n               (match ret-363.$.success true\n                (ap false not-29)\n               )\n               (ap true not-29)\n              )\n             )\n             (new -if-else-error-\n              (new -else-error-\n               (new -if-error-\n                (xor\n                 (match not-29 true\n                  (seq\n                   (seq\n                    (seq\n                     (new $array-inline-98\n                      (seq\n                       (seq\n                        (seq\n                         (ap \"get_string failed\" $array-inline-98)\n                         (ap \"last_seen_block\" $array-inline-98)\n                        )\n                        (ap ret-363.$.error $array-inline-98)\n                       )\n                       (canon %init_peer_id% $array-inline-98  #array-inline-98-0)\n                      )\n                     )\n                     (par\n                      (call %init_peer_id% (\"run-console\" \"print\") [\"decider\" #array-inline-98-0])\n                      (null)\n                     )\n                    )\n                    (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-98-0] ret-364)\n                   )\n                   (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-364] ret-365)\n                  )\n                 )\n                 (seq\n                  (ap :error: -if-error-)\n                  (xor\n                   (match :error:.$.error_code 10001\n                    (seq\n                     (xor\n                      (match ret-363.$.absent true\n                       (ap false not-30)\n                      )\n                      (ap true not-30)\n                     )\n                     (new -if-error-\n                      (xor\n                       (match not-30 true\n                        (ap ret-363.$.value $result-16)\n                       )\n                       (seq\n                        (ap :error: -if-error-)\n                        (xor\n                         (match :error:.$.error_code 10001\n                          (null)\n                         )\n                         (fail -if-error-)\n                        )\n                       )\n                      )\n                     )\n                    )\n                   )\n                   (seq\n                    (seq\n                     (ap :error: -else-error-)\n                     (xor\n                      (match :error:.$.error_code 10001\n                       (ap -if-error- -if-else-error-)\n                      )\n                      (ap -else-error- -if-else-error-)\n                     )\n                    )\n                    (fail -if-else-error-)\n                   )\n                  )\n                 )\n                )\n               )\n              )\n             )\n            )\n            (canon %init_peer_id% $result-16  #-result-fix-0-4)\n           )\n           (ap #-result-fix-0-4 -result-flat-0-4)\n          )\n         )\n         (new -if-error-\n          (xor\n           (mismatch -result-flat-0-4 []\n            (seq\n             (seq\n              (seq\n               (seq\n                (seq\n                 (seq\n                  (call %init_peer_id% (\"chain_connector\" \"hex_diff\") [-result-flat-0-4.$.[0] -latest-flat-0.$.[0]] ret-366)\n                  (new $result-17\n                   (seq\n                    (seq\n                     (call %init_peer_id% (-spell_id-arg- \"get_u32\") [\"counter\"] ret-367)\n                     (new -if-else-error-\n                      (new -else-error-\n                       (new -if-error-\n                        (xor\n                         (match ret-367.$.success true\n                          (ap ret-367.$.value $result-17)\n                         )\n                         (seq\n                          (ap :error: -if-error-)\n                          (xor\n                           (match :error:.$.error_code 10001\n                            (ap 0 $result-17)\n                           )\n                           (seq\n                            (seq\n                             (ap :error: -else-error-)\n                             (xor\n                              (match :error:.$.error_code 10001\n                               (ap -if-error- -if-else-error-)\n                              )\n                              (ap -else-error- -if-else-error-)\n                             )\n                            )\n                            (fail -if-else-error-)\n                           )\n                          )\n                         )\n                        )\n                       )\n                      )\n                     )\n                    )\n                    (new $result-17_test\n                     (seq\n                      (seq\n                       (fold $result-17 result-17_fold_var\n                        (seq\n                         (seq\n                          (ap result-17_fold_var $result-17_test)\n                          (canon %init_peer_id% $result-17_test  #result-17_iter_canon)\n                         )\n                         (xor\n                          (match #result-17_iter_canon.length 1\n                           (null)\n                          )\n                          (next result-17_fold_var)\n                         )\n                        )\n                        (never)\n                       )\n                       (canon %init_peer_id% $result-17_test  #result-17_result_canon)\n                      )\n                      (ap #result-17_result_canon result-17_gate)\n                     )\n                    )\n                   )\n                  )\n                 )\n                 (new %SyncInfo_obj_map\n                  (seq\n                   (seq\n                    (ap (\"blocks_diff\" ret-366) %SyncInfo_obj_map)\n                    (ap (\"run_updated\" result-17_gate.$.[0]) %SyncInfo_obj_map)\n                   )\n                   (canon %init_peer_id% %SyncInfo_obj_map  SyncInfo_obj)\n                  )\n                 )\n                )\n                (call %init_peer_id% (\"json\" \"stringify\") [SyncInfo_obj] ret-368)\n               )\n               (call %init_peer_id% (-spell_id-arg- \"set_string\") [\"sync_info\" ret-368] ret-369)\n              )\n              (xor\n               (match ret-369.$.success true\n                (ap false not-31)\n               )\n               (ap true not-31)\n              )\n             )\n             (new -if-error-\n              (xor\n               (match not-31 true\n                (seq\n                 (seq\n                  (seq\n                   (new $array-inline-99\n                    (seq\n                     (seq\n                      (seq\n                       (seq\n                        (ap \"can't updated sync state\" $array-inline-99)\n                        (ap SyncInfo_obj $array-inline-99)\n                       )\n                       (ap \"error\" $array-inline-99)\n                      )\n                      (ap ret-369.$.error $array-inline-99)\n                     )\n                     (canon %init_peer_id% $array-inline-99  #array-inline-99-0)\n                    )\n                   )\n                   (par\n                    (call %init_peer_id% (\"run-console\" \"print\") [\"decider\" #array-inline-99-0])\n                    (null)\n                   )\n                  )\n                  (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-99-0] ret-370)\n                 )\n                 (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-370] ret-371)\n                )\n               )\n               (seq\n                (ap :error: -if-error-)\n                (xor\n                 (match :error:.$.error_code 10001\n                  (null)\n                 )\n                 (fail -if-error-)\n                )\n               )\n              )\n             )\n            )\n           )\n           (seq\n            (ap :error: -if-error-)\n            (xor\n             (match :error:.$.error_code 10002\n              (null)\n             )\n             (fail -if-error-)\n            )\n           )\n          )\n         )\n        )\n        (null)\n       )\n      )\n      (xor\n       (seq\n        (seq\n         (seq\n          (seq\n           (seq\n            (call %init_peer_id% (-spell_id-arg- \"get_mailbox\") [] ret-372)\n            (new $array-inline-100\n             (seq\n              (seq\n               (ap \"mailbox\" $array-inline-100)\n               (ap ret-372 $array-inline-100)\n              )\n              (canon %init_peer_id% $array-inline-100  #array-inline-100-0)\n             )\n            )\n           )\n           (par\n            (call %init_peer_id% (\"run-console\" \"print\") [\"decider\" #array-inline-100-0])\n            (null)\n           )\n          )\n          (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-100-0] ret-373)\n         )\n         (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-373] ret-374)\n        )\n        (new -if-error-\n         (xor\n          (match ret-372.$.success true\n           (fold ret-372.$.messages msg-212-0\n            (seq\n             (xor\n              (seq\n               (seq\n                (seq\n                 (seq\n                  (seq\n                   (seq\n                    (seq\n                     (seq\n                      (seq\n                       (seq\n                        (seq\n                         (call %init_peer_id% (\"json\" \"parse\") [msg-212-0.$.message] ret-375)\n                         (new -if-error-\n                          (xor\n                           (mismatch ret-375.$.remove []\n                            (seq\n                             (seq\n                              (seq\n                               (seq\n                                (ap ret-375.$.remove ret-375_flat)\n                                (new $array-inline-101\n                                 (seq\n                                  (seq\n                                   (seq\n                                    (ap \"called remove worker via mailbox\" $array-inline-101)\n                                    (ap ret-375_flat.$.[0].host_id $array-inline-101)\n                                   )\n                                   (ap ret-375_flat.$.[0].worker_id $array-inline-101)\n                                  )\n                                  (canon %init_peer_id% $array-inline-101  #array-inline-101-0)\n                                 )\n                                )\n                               )\n                               (par\n                                (call %init_peer_id% (\"run-console\" \"print\") [\"decider\" #array-inline-101-0])\n                                (null)\n                               )\n                              )\n                              (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-101-0] ret-376)\n                             )\n                             (call %init_peer_id% (\"decider\" \"store_log\") [ret-376] ret-377)\n                            )\n                           )\n                           (seq\n                            (ap :error: -if-error-)\n                            (xor\n                             (match :error:.$.error_code 10002\n                              (null)\n                             )\n                             (fail -if-error-)\n                            )\n                           )\n                          )\n                         )\n                        )\n                        (par\n                         (call %init_peer_id% (\"run-console\" \"print\") [\"decider\" \"will pop\"])\n                         (null)\n                        )\n                       )\n                       (call %init_peer_id% (\"json\" \"stringify\") [\"will pop\"] ret-378)\n                      )\n                      (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-378] ret-379)\n                     )\n                     (call %init_peer_id% (-spell_id-arg- \"pop_mailbox\") [] ret-380)\n                    )\n                    (ap ret-380.$.message ret-380_flat)\n                   )\n                   (ap ret-380_flat ret-380_flat_to_functor)\n                  )\n                  (ap ret-380_flat_to_functor.length ret-380_flat_length)\n                 )\n                 (xor\n                  (match ret-380_flat_length 0\n                   (ap true eq)\n                  )\n                  (ap false eq)\n                 )\n                )\n                (xor\n                 (match eq true\n                  (ap eq or)\n                 )\n                 (seq\n                  (xor\n                   (mismatch ret-380.$.message.[0].message msg-212-0.$.message\n                    (ap true neq)\n                   )\n                   (ap false neq)\n                  )\n                  (ap neq or)\n                 )\n                )\n               )\n               (new -if-error-\n                (xor\n                 (match or true\n                  (seq\n                   (seq\n                    (seq\n                     (new $array-inline-102\n                      (seq\n                       (seq\n                        (seq\n                         (seq\n                          (ap \"broken invariant, expected\" $array-inline-102)\n                          (ap msg-212-0 $array-inline-102)\n                         )\n                         (ap \"popped\" $array-inline-102)\n                        )\n                        (ap ret-380 $array-inline-102)\n                       )\n                       (canon %init_peer_id% $array-inline-102  #array-inline-102-0)\n                      )\n                     )\n                     (par\n                      (call %init_peer_id% (\"run-console\" \"print\") [\"decider\" #array-inline-102-0])\n                      (null)\n                     )\n                    )\n                    (call %init_peer_id% (\"json\" \"stringify\") [#array-inline-102-0] ret-381)\n                   )\n                   (call %init_peer_id% (-spell_id-arg- \"store_log\") [ret-381] ret-382)\n                  )\n                 )\n                 (seq\n                  (ap :error: -if-error-)\n                  (xor\n                   (match :error:.$.error_code 10001\n                    (null)\n                   )\n                   (fail -if-error-)\n                  )\n                 )\n                )\n               )\n              )\n              (null)\n             )\n             (next msg-212-0)\n            )\n           )\n          )\n          (seq\n           (ap :error: -if-error-)\n           (xor\n            (match :error:.$.error_code 10001\n             (null)\n            )\n            (fail -if-error-)\n           )\n          )\n         )\n        )\n       )\n       (null)\n      )\n     )\n    )\n    (seq\n     (ap :error: -if-error-)\n     (xor\n      (match :error:.$.error_code 10002\n       (null)\n      )\n      (fail -if-error-)\n     )\n    )\n   )\n  )\n )\n (call %init_peer_id% (\"errorHandlingSrv\" \"error\") [:error: 0])\n)\n"]}
{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "set_json_fields", "args": ["{\"worker_settings\":{\"script\":\"(xor\\n (seq\\n  (seq\\n   (seq\\n    (seq\\n     (seq\\n      (seq\\n       (seq\\n        (seq\\n         (seq\\n          (seq\\n           (seq\\n            (seq\\n             (seq\\n              (seq\\n               (seq\\n                (seq\\n                 (call %init_peer_id% (\\\"getDataSrv\\\" \\\"-relay-\\\") [] -relay-)\\n                 (call %init_peer_id% (\\\"getDataSrv\\\" \\\"spell_id\\\") [] -spell_id-arg-)\\n                )\\n                (call %init_peer_id% (\\\"getDataSrv\\\" \\\"ipfs\\\") [] -ipfs-arg-)\\n               )\\n               (call %init_peer_id% (\\\"getDataSrv\\\" \\\"deal_id\\\") [] -deal_id-arg-)\\n              )\\n              (call %init_peer_id% (\\\"getDataSrv\\\" \\\"worker_def_cid\\\") [] -worker_def_cid-arg-)\\n             )\\n             (new $array-inline\\n              (seq\\n               (seq\\n                (seq\\n                 (seq\\n                  (seq\\n                   (ap \\\"worker\\\" $array-inline)\\n                   (ap -spell_id-arg- $array-inline)\\n                  )\\n                  (ap -deal_id-arg- $array-inline)\\n                 )\\n                 (ap -worker_def_cid-arg- $array-inline)\\n                )\\n                (ap -ipfs-arg- $array-inline)\\n               )\\n               (canon %init_peer_id% $array-inline  #array-inline-0)\\n              )\\n             )\\n            )\\n            (call %init_peer_id% (\\\"run-console\\\" \\\"print\\\") [#array-inline-0])\\n           )\\n           (new $array-inline-1\\n            (seq\\n             (seq\\n              (ap \\\"Installing worker for deal\\\" $array-inline-1)\\n              (ap -deal_id-arg- $array-inline-1)\\n             )\\n             (canon %init_peer_id% $array-inline-1  #array-inline-1-0)\\n            )\\n           )\\n          )\\n          (call %init_peer_id% (\\\"debug\\\" \\\"stringify\\\") [#array-inline-1-0] ret)\\n         )\\n         (call %init_peer_id% (\\\"srv\\\" \\\"resolve_alias\\\") [\\\"spell\\\"] ret-0)\\n        )\\n        (par\\n         (call %init_peer_id% (ret-0 \\\"store_log\\\") [ret] ret-1)\\n         (seq\\n          (new $array-inline-2\\n           (seq\\n            (seq\\n             (ap ret-0 $array-inline-2)\\n             (ap #array-inline-1-0 $array-inline-2)\\n            )\\n            (canon %init_peer_id% $array-inline-2  #array-inline-2-0)\\n           )\\n          )\\n          (call %init_peer_id% (\\\"run-console\\\" \\\"print\\\") [#array-inline-2-0])\\n         )\\n        )\\n       )\\n       (xor\\n        (seq\\n         (call %init_peer_id% (\\\"aqua-ipfs\\\" \\\"cat_from\\\") [-worker_def_cid-arg- -ipfs-arg-] ret-2)\\n         (new -if-else-error-\\n          (new -else-error-\\n           (new -if-error-\\n            (xor\\n             (match ret-2.$.success true\\n              (seq\\n               (seq\\n                (seq\\n                 (seq\\n                  (seq\\n                   (seq\\n                    (seq\\n                     (seq\\n                      (seq\\n                       (seq\\n                        (seq\\n                         (call %init_peer_id% (\\\"json\\\" \\\"parse\\\") [ret-2.$.contents] ret-3)\\n                         (new $array-inline-3\\n                          (seq\\n                           (seq\\n                            (seq\\n                             (ap \\\"parsed worker definition\\\" $array-inline-3)\\n                             (ap -worker_def_cid-arg- $array-inline-3)\\n                            )\\n                            (ap ret-3 $array-inline-3)\\n                           )\\n                           (canon %init_peer_id% $array-inline-3  #array-inline-3-0)\\n                          )\\n                         )\\n                        )\\n                        (call %init_peer_id% (\\\"debug\\\" \\\"stringify\\\") [#array-inline-3-0] ret-4)\\n                       )\\n                       (call %init_peer_id% (\\\"srv\\\" \\\"resolve_alias\\\") [\\\"spell\\\"] ret-5)\\n                      )\\n                      (par\\n                       (call %init_peer_id% (ret-5 \\\"store_log\\\") [ret-4] ret-6)\\n                       (seq\\n                        (new $array-inline-4\\n                         (seq\\n                          (seq\\n                           (ap ret-5 $array-inline-4)\\n                           (ap #array-inline-3-0 $array-inline-4)\\n                          )\\n                          (canon %init_peer_id% $array-inline-4  #array-inline-4-0)\\n                         )\\n                        )\\n                        (call %init_peer_id% (\\\"run-console\\\" \\\"print\\\") [#array-inline-4-0])\\n                       )\\n                      )\\n                     )\\n                     (fold ret-3.$.services s-0\\n                      (seq\\n                       (xor\\n                        (seq\\n                         (seq\\n                          (new $hashes-0\\n                           (seq\\n                            (seq\\n                             (fold s-0.$.modules m-0\\n                              (seq\\n                               (seq\\n                                (seq\\n                                 (seq\\n                                  (call %init_peer_id% (\\\"aqua-ipfs\\\" \\\"get_from\\\") [m-0.$.wasm -ipfs-arg-] ret-7)\\n                                  (call %init_peer_id% (\\\"aqua-ipfs\\\" \\\"cat_from\\\") [m-0.$.config -ipfs-arg-] ret-8)\\n                                 )\\n                                 (xor\\n                                  (match ret-7.$.success false\\n                                   (ap ret-7.$.success and)\\n                                  )\\n                                  (ap ret-8.$.success and)\\n                                 )\\n                                )\\n                                (new -if-else-error-\\n                                 (new -else-error-\\n                                  (new -if-error-\\n                                   (xor\\n                                    (match and true\\n                                     (seq\\n                                      (seq\\n                                       (call %init_peer_id% (\\\"json\\\" \\\"parse\\\") [ret-8.$.contents] ret-9)\\n                                       (call %init_peer_id% (\\\"dist\\\" \\\"add_module_from_vault\\\") [ret-7.$.path ret-9] ret-10)\\n                                      )\\n                                      (ap ret-10 $hashes-0)\\n                                     )\\n                                    )\\n                                    (seq\\n                                     (ap :error: -if-error-)\\n                                     (xor\\n                                      (match :error:.$.error_code 10001\\n                                       (seq\\n                                        (seq\\n                                         (seq\\n                                          (new $array-inline-5\\n                                           (seq\\n                                            (seq\\n                                             (seq\\n                                              (seq\\n                                               (seq\\n                                                (seq\\n                                                 (new $array-inline-6\\n                                                  (seq\\n                                                   (seq\\n                                                    (seq\\n                                                     (ap \\\"wasm\\\" $array-inline-6)\\n                                                     (ap m-0.$.wasm $array-inline-6)\\n                                                    )\\n                                                    (ap ret-7 $array-inline-6)\\n                                                   )\\n                                                   (canon %init_peer_id% $array-inline-6  #array-inline-6-0)\\n                                                  )\\n                                                 )\\n                                                 (new $array-inline-7\\n                                                  (seq\\n                                                   (seq\\n                                                    (seq\\n                                                     (ap \\\"config\\\" $array-inline-7)\\n                                                     (ap m-0.$.config $array-inline-7)\\n                                                    )\\n                                                    (ap ret-8 $array-inline-7)\\n                                                   )\\n                                                   (canon %init_peer_id% $array-inline-7  #array-inline-7-0)\\n                                                  )\\n                                                 )\\n                                                )\\n                                                (ap s-0.$.name $array-inline-5)\\n                                               )\\n                                               (ap \\\"error retrieving module\\\" $array-inline-5)\\n                                              )\\n                                              (ap #array-inline-6-0 $array-inline-5)\\n                                             )\\n                                             (ap #array-inline-7-0 $array-inline-5)\\n                                            )\\n                                            (canon %init_peer_id% $array-inline-5  #array-inline-5-0)\\n                                           )\\n                                          )\\n                                          (call %init_peer_id% (\\\"debug\\\" \\\"stringify\\\") [#array-inline-5-0] ret-11)\\n                                         )\\n                                         (call %init_peer_id% (\\\"srv\\\" \\\"resolve_alias\\\") [\\\"spell\\\"] ret-12)\\n                                        )\\n                                        (par\\n                                         (call %init_peer_id% (ret-12 \\\"store_log\\\") [ret-11] ret-13)\\n                                         (seq\\n                                          (new $array-inline-8\\n                                           (seq\\n                                            (seq\\n                                             (ap ret-12 $array-inline-8)\\n                                             (ap #array-inline-5-0 $array-inline-8)\\n                                            )\\n                                            (canon %init_peer_id% $array-inline-8  #array-inline-8-0)\\n                                           )\\n                                          )\\n                                          (call %init_peer_id% (\\\"run-console\\\" \\\"print\\\") [#array-inline-8-0])\\n                                         )\\n                                        )\\n                                       )\\n                                      )\\n                                      (seq\\n                                       (seq\\n                                        (ap :error: -else-error-)\\n                                        (xor\\n                                         (match :error:.$.error_code 10001\\n                                          (ap -if-error- -if-else-error-)\\n                                         )\\n                                         (ap -else-error- -if-else-error-)\\n                                        )\\n                                       )\\n                                       (fail -if-else-error-)\\n                                      )\\n                                     )\\n                                    )\\n                                   )\\n                                  )\\n                                 )\\n                                )\\n                               )\\n                               (next m-0)\\n                              )\\n                             )\\n                             (canon %init_peer_id% $hashes-0  #-hashes-fix-0)\\n                            )\\n                            (ap #-hashes-fix-0 -hashes-flat-0)\\n                           )\\n                          )\\n                          (par\\n                           (seq\\n                            (ap -hashes-flat-0 -hashes-flat-0_to_functor)\\n                            (ap -hashes-flat-0_to_functor.length -hashes-flat-0_length)\\n                           )\\n                           (seq\\n                            (seq\\n                             (ap s-0.$.modules s-0_flat)\\n                             (ap s-0_flat s-0_flat_to_functor)\\n                            )\\n                            (ap s-0_flat_to_functor.length s-0_flat_length)\\n                           )\\n                          )\\n                         )\\n                         (new -if-else-error-\\n                          (new -else-error-\\n                           (new -if-error-\\n                            (xor\\n                             (match -hashes-flat-0_length s-0_flat_length\\n                              (seq\\n                               (seq\\n                                (seq\\n                                 (seq\\n                                  (call %init_peer_id% (\\\"dist\\\" \\\"make_blueprint\\\") [s-0.$.name -hashes-flat-0] ret-14)\\n                                  (call %init_peer_id% (\\\"dist\\\" \\\"add_blueprint\\\") [ret-14] ret-15)\\n                                 )\\n                                 (new $result\\n                                  (seq\\n                                   (seq\\n                                    (seq\\n                                     (call %init_peer_id% (\\\"worker-spell\\\" \\\"get_string\\\") [s-0.$.name] ret-16)\\n                                     (xor\\n                                      (match ret-16.$.success false\\n                                       (ap ret-16.$.success and-0)\\n                                      )\\n                                      (ap ret-16.$.absent and-0)\\n                                     )\\n                                    )\\n                                    (new -if-else-error-\\n                                     (new -else-error-\\n                                      (new -if-error-\\n                                       (xor\\n                                        (match and-0 true\\n                                         (ap false $result)\\n                                        )\\n                                        (seq\\n                                         (ap :error: -if-error-)\\n                                         (xor\\n                                          (match :error:.$.error_code 10001\\n                                           (seq\\n                                            (seq\\n                                             (ap ret-16.$.value ret-16_flat)\\n                                             (call %init_peer_id% (\\\"srv\\\" \\\"info\\\") [ret-16_flat] ret-17)\\n                                            )\\n                                            (new -if-else-error-\\n                                             (new -else-error-\\n                                              (new -if-error-\\n                                               (xor\\n                                                (match ret-17.$.blueprint_id ret-15\\n                                                 (ap true $result)\\n                                                )\\n                                                (seq\\n                                                 (ap :error: -if-error-)\\n                                                 (xor\\n                                                  (match :error:.$.error_code 10001\\n                                                   (seq\\n                                                    (seq\\n                                                     (seq\\n                                                      (seq\\n                                                       (seq\\n                                                        (new $array-inline-9\\n                                                         (seq\\n                                                          (seq\\n                                                           (ap s-0.$.name $array-inline-9)\\n                                                           (ap \\\"blueprint changed, need to redeploy\\\" $array-inline-9)\\n                                                          )\\n                                                          (canon %init_peer_id% $array-inline-9  #array-inline-9-0)\\n                                                         )\\n                                                        )\\n                                                        (call %init_peer_id% (\\\"debug\\\" \\\"stringify\\\") [#array-inline-9-0] ret-18)\\n                                                       )\\n                                                       (call %init_peer_id% (\\\"srv\\\" \\\"resolve_alias\\\") [\\\"spell\\\"] ret-19)\\n                                                      )\\n                                                      (par\\n                                                       (call %init_peer_id% (ret-19 \\\"store_log\\\") [ret-18] ret-20)\\n                                                       (seq\\n                                                        (new $array-inline-10\\n                                                         (seq\\n                                                          (seq\\n                                                           (ap ret-19 $array-inline-10)\\n                                                           (ap #array-inline-9-0 $array-inline-10)\\n                                                          )\\n                                                          (canon %init_peer_id% $array-inline-10  #array-inline-10-0)\\n                                                         )\\n                                                        )\\n                                                        (call %init_peer_id% (\\\"run-console\\\" \\\"print\\\") [#array-inline-10-0])\\n                                                       )\\n                                                      )\\n                                                     )\\n                                                     (xor\\n                                                      (seq\\n                                                       (seq\\n                                                        (seq\\n                                                         (seq\\n                                                          (seq\\n                                                           (seq\\n                                                            (seq\\n                                                             (seq\\n                                                              (new $array-inline-11\\n                                                               (seq\\n                                                                (seq\\n                                                                 (seq\\n                                                                  (ap s-0.$.name $array-inline-11)\\n                                                                  (ap \\\"removing old service\\\" $array-inline-11)\\n                                                                 )\\n                                                                 (ap ret-16_flat $array-inline-11)\\n                                                                )\\n                                                                (canon %init_peer_id% $array-inline-11  #array-inline-11-0)\\n                                                               )\\n                                                              )\\n                                                              (call %init_peer_id% (\\\"debug\\\" \\\"stringify\\\") [#array-inline-11-0] ret-21)\\n                                                             )\\n                                                             (call %init_peer_id% (\\\"srv\\\" \\\"resolve_alias\\\") [\\\"spell\\\"] ret-22)\\n                                                            )\\n                                                            (par\\n                                                             (call %init_peer_id% (ret-22 \\\"store_log\\\") [ret-21] ret-23)\\n                                                             (seq\\n                                                              (new $array-inline-12\\n                                                               (seq\\n                                                                (seq\\n                                                                 (ap ret-22 $array-inline-12)\\n                                                                 (ap #array-inline-11-0 $array-inline-12)\\n                                                                )\\n                                                                (canon %init_peer_id% $array-inline-12  #array-inline-12-0)\\n                                                               )\\n                                                              )\\n                                                              (call %init_peer_id% (\\\"run-console\\\" \\\"print\\\") [#array-inline-12-0])\\n                                                             )\\n                                                            )\\n                                                           )\\n                                                           (call %init_peer_id% (\\\"srv\\\" \\\"remove\\\") [ret-16_flat])\\n                                                          )\\n                                                          (new $array-inline-13\\n                                                           (seq\\n                                                            (seq\\n                                                             (seq\\n                                                              (ap s-0.$.name $array-inline-13)\\n                                                              (ap \\\"old service successfully removed\\\" $array-inline-13)\\n                                                             )\\n                                                             (ap ret-16_flat $array-inline-13)\\n                                                            )\\n                                                            (canon %init_peer_id% $array-inline-13  #array-inline-13-0)\\n                                                           )\\n                                                          )\\n                                                         )\\n                                                         (call %init_peer_id% (\\\"debug\\\" \\\"stringify\\\") [#array-inline-13-0] ret-24)\\n                                                        )\\n                                                        (call %init_peer_id% (\\\"srv\\\" \\\"resolve_alias\\\") [\\\"spell\\\"] ret-25)\\n                                                       )\\n                                                       (par\\n                                                        (call %init_peer_id% (ret-25 \\\"store_log\\\") [ret-24] ret-26)\\n                                                        (seq\\n                                                         (new $array-inline-14\\n                                                          (seq\\n                                                           (seq\\n                                                            (ap ret-25 $array-inline-14)\\n                                                            (ap #array-inline-13-0 $array-inline-14)\\n                                                           )\\n                                                           (canon %init_peer_id% $array-inline-14  #array-inline-14-0)\\n                                                          )\\n                                                         )\\n                                                         (call %init_peer_id% (\\\"run-console\\\" \\\"print\\\") [#array-inline-14-0])\\n                                                        )\\n                                                       )\\n                                                      )\\n                                                      (seq\\n                                                       (seq\\n                                                        (seq\\n                                                         (new $array-inline-15\\n                                                          (seq\\n                                                           (seq\\n                                                            (seq\\n                                                             (ap \\\"Error removing service\\\" $array-inline-15)\\n                                                             (ap s-0.$.name $array-inline-15)\\n                                                            )\\n                                                            (ap :error: $array-inline-15)\\n                                                           )\\n                                                           (canon %init_peer_id% $array-inline-15  #array-inline-15-0)\\n                                                          )\\n                                                         )\\n                                                         (call %init_peer_id% (\\\"debug\\\" \\\"stringify\\\") [#array-inline-15-0] ret-27)\\n                                                        )\\n                                                        (call %init_peer_id% (\\\"srv\\\" \\\"resolve_alias\\\") [\\\"spell\\\"] ret-28)\\n                                                       )\\n                                                       (par\\n                                                        (call %init_peer_id% (ret-28 \\\"store_log\\\") [ret-27] ret-29)\\n                                                        (seq\\n                                                         (new $array-inline-16\\n                                                          (seq\\n                                                           (seq\\n                                                            (ap ret-28 $array-inline-16)\\n                                                            (ap #array-inline-15-0 $array-inline-16)\\n                                                           )\\n                                                           (canon %init_peer_id% $array-inline-16  #array-inline-16-0)\\n                                                          )\\n                                                         )\\n                                                         (call %init_peer_id% (\\\"run-console\\\" \\\"print\\\") [#array-inline-16-0])\\n                                                        )\\n                                                       )\\n                                                      )\\n                                                     )\\n                                                    )\\n                                                    (ap false $result)\\n                                                   )\\n                                                  )\\n                                                  (seq\\n                                                   (seq\\n                                                    (ap :error: -else-error-)\\n                                                    (xor\\n                                                     (match :error:.$.error_code 10001\\n                                                      (ap -if-error- -if-else-error-)\\n                                                     )\\n                                                     (ap -else-error- -if-else-error-)\\n                                                    )\\n                                                   )\\n                                                   (fail -if-else-error-)\\n                                                  )\\n                                                 )\\n                                                )\\n                                               )\\n                                              )\\n                                             )\\n                                            )\\n                                           )\\n                                          )\\n                                          (seq\\n                                           (seq\\n                                            (ap :error: -else-error-)\\n                                            (xor\\n                                             (match :error:.$.error_code 10001\\n                                              (ap -if-error- -if-else-error-)\\n                                             )\\n                                             (ap -else-error- -if-else-error-)\\n                                            )\\n                                           )\\n                                           (fail -if-else-error-)\\n                                          )\\n                                         )\\n                                        )\\n                                       )\\n                                      )\\n                                     )\\n                                    )\\n                                   )\\n                                   (new $result_test\\n                                    (seq\\n                                     (seq\\n                                      (fold $result result_fold_var\\n                                       (seq\\n                                        (seq\\n                                         (ap result_fold_var $result_test)\\n                                         (canon %init_peer_id% $result_test  #result_iter_canon)\\n                                        )\\n                                        (xor\\n                                         (match #result_iter_canon.length 1\\n                                          (null)\\n                                         )\\n                                         (next result_fold_var)\\n                                        )\\n                                       )\\n                                       (never)\\n                                      )\\n                                      (canon %init_peer_id% $result_test  #result_result_canon)\\n                                     )\\n                                     (ap #result_result_canon result_gate)\\n                                    )\\n                                   )\\n                                  )\\n                                 )\\n                                )\\n                                (xor\\n                                 (match result_gate.$.[0] true\\n                                  (ap false not)\\n                                 )\\n                                 (ap true not)\\n                                )\\n                               )\\n                               (new -if-else-error-\\n                                (new -else-error-\\n                                 (new -if-error-\\n                                  (xor\\n                                   (match not true\\n                                    (seq\\n                                     (seq\\n                                      (seq\\n                                       (seq\\n                                        (seq\\n                                         (seq\\n                                          (seq\\n                                           (seq\\n                                            (seq\\n                                             (seq\\n                                              (seq\\n                                               (seq\\n                                                (call %init_peer_id% (\\\"peer\\\" \\\"timestamp_sec\\\") [] ret-30)\\n                                                (new %Status_obj_map\\n                                                 (seq\\n                                                  (seq\\n                                                   (seq\\n                                                    (ap (\\\"message\\\" \\\"\\\") %Status_obj_map)\\n                                                    (ap (\\\"state\\\" \\\"INSTALLATION_IN_PROGRESS\\\") %Status_obj_map)\\n                                                   )\\n                                                   (ap (\\\"timestamp\\\" ret-30) %Status_obj_map)\\n                                                  )\\n                                                  (canon %init_peer_id% %Status_obj_map  Status_obj)\\n                                                 )\\n                                                )\\n                                               )\\n                                               (call %init_peer_id% (\\\"json\\\" \\\"stringify\\\") [Status_obj] ret-31)\\n                                              )\\n                                              (call %init_peer_id% (\\\"worker-spell\\\" \\\"list_push_string\\\") [\\\"__installation_spell_status__\\\" ret-31] ret-32)\\n                                             )\\n                                             (call %init_peer_id% (\\\"srv\\\" \\\"create\\\") [ret-15] ret-33)\\n                                            )\\n                                            (new $array-inline-17\\n                                             (seq\\n                                              (seq\\n                                               (seq\\n                                                (ap \\\"Created service\\\" $array-inline-17)\\n                                                (ap s-0.$.name $array-inline-17)\\n                                               )\\n                                               (ap ret-33 $array-inline-17)\\n                                              )\\n                                              (canon %init_peer_id% $array-inline-17  #array-inline-17-0)\\n                                             )\\n                                            )\\n                                           )\\n                                           (call %init_peer_id% (\\\"debug\\\" \\\"stringify\\\") [#array-inline-17-0] ret-34)\\n                                          )\\n                                          (call %init_peer_id% (\\\"srv\\\" \\\"resolve_alias\\\") [\\\"spell\\\"] ret-35)\\n                                         )\\n                                         (par\\n                                          (call %init_peer_id% (ret-35 \\\"store_log\\\") [ret-34] ret-36)\\n                                          (seq\\n                                           (new $array-inline-18\\n                                            (seq\\n                                             (seq\\n                                              (ap ret-35 $array-inline-18)\\n                                              (ap #array-inline-17-0 $array-inline-18)\\n                                             )\\n                                             (canon %init_peer_id% $array-inline-18  #array-inline-18-0)\\n                                            )\\n                                           )\\n                                           (call %init_peer_id% (\\\"run-console\\\" \\\"print\\\") [#array-inline-18-0])\\n                                          )\\n                                         )\\n                                        )\\n                                        (xor\\n                                         (call %init_peer_id% (\\\"srv\\\" \\\"add_alias\\\") [s-0.$.name ret-33])\\n                                         (seq\\n                                          (seq\\n                                           (seq\\n                                            (new $array-inline-19\\n                                             (seq\\n                                              (seq\\n                                               (seq\\n                                                (seq\\n                                                 (ap \\\"Error creating alias for deployed service\\\" $array-inline-19)\\n                                                 (ap s-0.$.name $array-inline-19)\\n                                                )\\n                                                (ap ret-33 $array-inline-19)\\n                                               )\\n                                               (ap :error: $array-inline-19)\\n                                              )\\n                                              (canon %init_peer_id% $array-inline-19  #array-inline-19-0)\\n                                             )\\n                                            )\\n                                            (call %init_peer_id% (\\\"debug\\\" \\\"stringify\\\") [#array-inline-19-0] ret-37)\\n                                           )\\n                                           (call %init_peer_id% (\\\"srv\\\" \\\"resolve_alias\\\") [\\\"spell\\\"] ret-38)\\n                                          )\\n                                          (par\\n                                           (call %init_peer_id% (ret-38 \\\"store_log\\\") [ret-37] ret-39)\\n                                           (seq\\n                                            (new $array-inline-20\\n                                             (seq\\n                                              (seq\\n                                               (ap ret-38 $array-inline-20)\\n                                               (ap #array-inline-19-0 $array-inline-20)\\n                                              )\\n                                              (canon %init_peer_id% $array-inline-20  #array-inline-20-0)\\n                                             )\\n                                            )\\n                                            (call %init_peer_id% (\\\"run-console\\\" \\\"print\\\") [#array-inline-20-0])\\n                                           )\\n                                          )\\n                                         )\\n                                        )\\n                                       )\\n                                       (call %init_peer_id% (\\\"worker-spell\\\" \\\"set_string\\\") [s-0.$.name ret-33] ret-40)\\n                                      )\\n                                      (call %init_peer_id% (\\\"op\\\" \\\"concat_strings\\\") [\\\"blueprint:\\\" s-0.$.name] ret-41)\\n                                     )\\n                                     (call %init_peer_id% (\\\"worker-spell\\\" \\\"set_string\\\") [ret-41 ret-15] ret-42)\\n                                    )\\n                                   )\\n                                   (seq\\n                                    (ap :error: -if-error-)\\n                                    (xor\\n                                     (match :error:.$.error_code 10001\\n                                      (seq\\n                                       (seq\\n                                        (seq\\n                                         (new $array-inline-21\\n                                          (seq\\n                                           (seq\\n                                            (ap s-0.$.name $array-inline-21)\\n                                            (ap \\\"service is already deployed, doing nothing\\\" $array-inline-21)\\n                                           )\\n                                           (canon %init_peer_id% $array-inline-21  #array-inline-21-0)\\n                                          )\\n                                         )\\n                                         (call %init_peer_id% (\\\"debug\\\" \\\"stringify\\\") [#array-inline-21-0] ret-43)\\n                                        )\\n                                        (call %init_peer_id% (\\\"srv\\\" \\\"resolve_alias\\\") [\\\"spell\\\"] ret-44)\\n                                       )\\n                                       (par\\n                                        (call %init_peer_id% (ret-44 \\\"store_log\\\") [ret-43] ret-45)\\n                                        (seq\\n                                         (new $array-inline-22\\n                                          (seq\\n                                           (seq\\n                                            (ap ret-44 $array-inline-22)\\n                                            (ap #array-inline-21-0 $array-inline-22)\\n                                           )\\n                                           (canon %init_peer_id% $array-inline-22  #array-inline-22-0)\\n                                          )\\n                                         )\\n                                         (call %init_peer_id% (\\\"run-console\\\" \\\"print\\\") [#array-inline-22-0])\\n                                        )\\n                                       )\\n                                      )\\n                                     )\\n                                     (seq\\n                                      (seq\\n                                       (ap :error: -else-error-)\\n                                       (xor\\n                                        (match :error:.$.error_code 10001\\n                                         (ap -if-error- -if-else-error-)\\n                                        )\\n                                        (ap -else-error- -if-else-error-)\\n                                       )\\n                                      )\\n                                      (fail -if-else-error-)\\n                                     )\\n                                    )\\n                                   )\\n                                  )\\n                                 )\\n                                )\\n                               )\\n                              )\\n                             )\\n                             (seq\\n                              (ap :error: -if-error-)\\n                              (xor\\n                               (match :error:.$.error_code 10001\\n                                (seq\\n                                 (seq\\n                                  (seq\\n                                   (new $array-inline-23\\n                                    (seq\\n                                     (seq\\n                                      (ap s-0.$.name $array-inline-23)\\n                                      (ap \\\"error retrieving some of the modules, see above\\\" $array-inline-23)\\n                                     )\\n                                     (canon %init_peer_id% $array-inline-23  #array-inline-23-0)\\n                                    )\\n                                   )\\n                                   (call %init_peer_id% (\\\"debug\\\" \\\"stringify\\\") [#array-inline-23-0] ret-46)\\n                                  )\\n                                  (call %init_peer_id% (\\\"srv\\\" \\\"resolve_alias\\\") [\\\"spell\\\"] ret-47)\\n                                 )\\n                                 (par\\n                                  (call %init_peer_id% (ret-47 \\\"store_log\\\") [ret-46] ret-48)\\n                                  (seq\\n                                   (new $array-inline-24\\n                                    (seq\\n                                     (seq\\n                                      (ap ret-47 $array-inline-24)\\n                                      (ap #array-inline-23-0 $array-inline-24)\\n                                     )\\n                                     (canon %init_peer_id% $array-inline-24  #array-inline-24-0)\\n                                    )\\n                                   )\\n                                   (call %init_peer_id% (\\\"run-console\\\" \\\"print\\\") [#array-inline-24-0])\\n                                  )\\n                                 )\\n                                )\\n                               )\\n                               (seq\\n                                (seq\\n                                 (ap :error: -else-error-)\\n                                 (xor\\n                                  (match :error:.$.error_code 10001\\n                                   (ap -if-error- -if-else-error-)\\n                                  )\\n                                  (ap -else-error- -if-else-error-)\\n                                 )\\n                                )\\n                                (fail -if-else-error-)\\n                               )\\n                              )\\n                             )\\n                            )\\n                           )\\n                          )\\n                         )\\n                        )\\n                        (seq\\n                         (seq\\n                          (seq\\n                           (new $array-inline-25\\n                            (seq\\n                             (seq\\n                              (seq\\n                               (ap s-0.$.name $array-inline-25)\\n                               (ap \\\"error deploying service\\\" $array-inline-25)\\n                              )\\n                              (ap :error: $array-inline-25)\\n                             )\\n                             (canon %init_peer_id% $array-inline-25  #array-inline-25-0)\\n                            )\\n                           )\\n                           (call %init_peer_id% (\\\"debug\\\" \\\"stringify\\\") [#array-inline-25-0] ret-49)\\n                          )\\n                          (call %init_peer_id% (\\\"srv\\\" \\\"resolve_alias\\\") [\\\"spell\\\"] ret-50)\\n                         )\\n                         (par\\n                          (call %init_peer_id% (ret-50 \\\"store_log\\\") [ret-49] ret-51)\\n                          (seq\\n                           (new $array-inline-26\\n                            (seq\\n                             (seq\\n                              (ap ret-50 $array-inline-26)\\n                              (ap #array-inline-25-0 $array-inline-26)\\n                             )\\n                             (canon %init_peer_id% $array-inline-26  #array-inline-26-0)\\n                            )\\n                           )\\n                           (call %init_peer_id% (\\\"run-console\\\" \\\"print\\\") [#array-inline-26-0])\\n                          )\\n                         )\\n                        )\\n                       )\\n                       (next s-0)\\n                      )\\n                     )\\n                    )\\n                    (fold ret-3.$.spells sp-0\\n                     (seq\\n                      (xor\\n                       (seq\\n                        (seq\\n                         (seq\\n                          (seq\\n                           (new $array-inline-27\\n                            (seq\\n                             (seq\\n                              (ap \\\"Deploying spell\\\" $array-inline-27)\\n                              (ap sp-0.$.name $array-inline-27)\\n                             )\\n                             (canon %init_peer_id% $array-inline-27  #array-inline-27-0)\\n                            )\\n                           )\\n                           (call %init_peer_id% (\\\"debug\\\" \\\"stringify\\\") [#array-inline-27-0] ret-52)\\n                          )\\n                          (call %init_peer_id% (\\\"srv\\\" \\\"resolve_alias\\\") [\\\"spell\\\"] ret-53)\\n                         )\\n                         (par\\n                          (call %init_peer_id% (ret-53 \\\"store_log\\\") [ret-52] ret-54)\\n                          (seq\\n                           (new $array-inline-28\\n                            (seq\\n                             (seq\\n                              (ap ret-53 $array-inline-28)\\n                              (ap #array-inline-27-0 $array-inline-28)\\n                             )\\n                             (canon %init_peer_id% $array-inline-28  #array-inline-28-0)\\n                            )\\n                           )\\n                           (call %init_peer_id% (\\\"run-console\\\" \\\"print\\\") [#array-inline-28-0])\\n                          )\\n                         )\\n                        )\\n                        (xor\\n                         (seq\\n                          (new $result-0\\n                           (seq\\n                            (xor\\n                             (seq\\n                              (seq\\n                               (call %init_peer_id% (\\\"worker-spell\\\" \\\"get_string\\\") [sp-0.$.name] ret-55)\\n                               (xor\\n                                (match ret-55.$.success false\\n                                 (ap ret-55.$.success and-1)\\n                                )\\n                                (ap ret-55.$.absent and-1)\\n                               )\\n                              )\\n                              (new -if-else-error-\\n                               (new -else-error-\\n                                (new -if-error-\\n                                 (xor\\n                                  (match and-1 true\\n                                   (ap false $result-0)\\n                                  )\\n                                  (seq\\n                                   (ap :error: -if-error-)\\n                                   (xor\\n                                    (match :error:.$.error_code 10001\\n                                     (seq\\n                                      (seq\\n                                       (seq\\n                                        (seq\\n                                         (seq\\n                                          (seq\\n                                           (seq\\n                                            (ap ret-55.$.value ret-55_flat)\\n                                            (call %init_peer_id% (\\\"srv\\\" \\\"info\\\") [ret-55_flat] ret-56)\\n                                           )\\n                                           (call %init_peer_id% (ret-55_flat \\\"script_cid\\\") [] ret-57)\\n                                          )\\n                                          (new $array-inline-29\\n                                           (seq\\n                                            (seq\\n                                             (seq\\n                                              (seq\\n                                               (seq\\n                                                (ap ret-55_flat $array-inline-29)\\n                                                (ap \\\"script cid was:\\\" $array-inline-29)\\n                                               )\\n                                               (ap ret-57.$.value $array-inline-29)\\n                                              )\\n                                              (ap \\\"new:\\\" $array-inline-29)\\n                                             )\\n                                             (ap sp-0.$.script $array-inline-29)\\n                                            )\\n                                            (canon %init_peer_id% $array-inline-29  #array-inline-29-0)\\n                                           )\\n                                          )\\n                                         )\\n                                         (call %init_peer_id% (\\\"debug\\\" \\\"stringify\\\") [#array-inline-29-0] ret-58)\\n                                        )\\n                                        (call %init_peer_id% (\\\"srv\\\" \\\"resolve_alias\\\") [\\\"spell\\\"] ret-59)\\n                                       )\\n                                       (par\\n                                        (call %init_peer_id% (ret-59 \\\"store_log\\\") [ret-58] ret-60)\\n                                        (seq\\n                                         (new $array-inline-30\\n                                          (seq\\n                                           (seq\\n                                            (ap ret-59 $array-inline-30)\\n                                            (ap #array-inline-29-0 $array-inline-30)\\n                                           )\\n                                           (canon %init_peer_id% $array-inline-30  #array-inline-30-0)\\n                                          )\\n                                         )\\n                                         (call %init_peer_id% (\\\"run-console\\\" \\\"print\\\") [#array-inline-30-0])\\n                                        )\\n                                       )\\n                                      )\\n                                      (new -if-else-error-\\n                                       (new -else-error-\\n                                        (new -if-error-\\n                                         (xor\\n                                          (match ret-57.$.value sp-0.$.script\\n                                           (ap true $result-0)\\n                                          )\\n                                          (seq\\n                                           (ap :error: -if-error-)\\n                                           (xor\\n                                            (match :error:.$.error_code 10001\\n                                             (seq\\n                                              (seq\\n                                               (seq\\n                                                (seq\\n                                                 (seq\\n                                                  (seq\\n                                                   (seq\\n                                                    (seq\\n                                                     (seq\\n                                                      (seq\\n                                                       (seq\\n                                                        (seq\\n                                                         (seq\\n                                                          (new $array-inline-31\\n                                                           (seq\\n                                                            (seq\\n                                                             (ap sp-0.$.name $array-inline-31)\\n                                                             (ap \\\"script changed, need to redeploy\\\" $array-inline-31)\\n                                                            )\\n                                                            (canon %init_peer_id% $array-inline-31  #array-inline-31-0)\\n                                                           )\\n                                                          )\\n                                                          (call %init_peer_id% (\\\"debug\\\" \\\"stringify\\\") [#array-inline-31-0] ret-61)\\n                                                         )\\n                                                         (call %init_peer_id% (\\\"srv\\\" \\\"resolve_alias\\\") [\\\"spell\\\"] ret-62)\\n                                                        )\\n                                                        (par\\n                                                         (call %init_peer_id% (ret-62 \\\"store_log\\\") [ret-61] ret-63)\\n                                                         (seq\\n                                                          (new $array-inline-32\\n                                                           (seq\\n                                                            (seq\\n                                                             (ap ret-62 $array-inline-32)\\n                                                             (ap #array-inline-31-0 $array-inline-32)\\n                                                            )\\n                                                            (canon %init_peer_id% $array-inline-32  #array-inline-32-0)\\n                                                           )\\n                                                          )\\n                                                          (call %init_peer_id% (\\\"run-console\\\" \\\"print\\\") [#array-inline-32-0])\\n                                                         )\\n                                                        )\\n                                                       )\\n                                                       (new $array-inline-33\\n                                                        (seq\\n                                                         (seq\\n                                                          (seq\\n                                                           (ap sp-0.$.name $array-inline-33)\\n                                                           (ap \\\"removing old spell\\\" $array-inline-33)\\n                                                          )\\n                                                          (ap ret-55_flat $array-inline-33)\\n                                                         )\\n                                                         (canon %init_peer_id% $array-inline-33  #array-inline-33-0)\\n                                                        )\\n                                                       )\\n                                                      )\\n                                                      (call %init_peer_id% (\\\"debug\\\" \\\"stringify\\\") [#array-inline-33-0] ret-64)\\n                                                     )\\n                                                     (call %init_peer_id% (\\\"srv\\\" \\\"resolve_alias\\\") [\\\"spell\\\"] ret-65)\\n                                                    )\\n                                                    (par\\n                                                     (call %init_peer_id% (ret-65 \\\"store_log\\\") [ret-64] ret-66)\\n                                                     (seq\\n                                                      (new $array-inline-34\\n                                                       (seq\\n                                                        (seq\\n                                                         (ap ret-65 $array-inline-34)\\n                                                         (ap #array-inline-33-0 $array-inline-34)\\n                                                        )\\n                                                        (canon %init_peer_id% $array-inline-34  #array-inline-34-0)\\n                                                       )\\n                                                      )\\n                                                      (call %init_peer_id% (\\\"run-console\\\" \\\"print\\\") [#array-inline-34-0])\\n                                                     )\\n                                                    )\\n                                                   )\\n                                                   (call %init_peer_id% (\\\"spell\\\" \\\"remove\\\") [ret-55_flat])\\n                                                  )\\n                                                  (new $array-inline-35\\n                                                   (seq\\n                                                    (seq\\n                                                     (seq\\n                                                      (ap sp-0.$.name $array-inline-35)\\n                                                      (ap \\\"old spell successfully removed\\\" $array-inline-35)\\n                                                     )\\n                                                     (ap ret-55_flat $array-inline-35)\\n                                                    )\\n                                                    (canon %init_peer_id% $array-inline-35  #array-inline-35-0)\\n                                                   )\\n                                                  )\\n                                                 )\\n                                                 (call %init_peer_id% (\\\"debug\\\" \\\"stringify\\\") [#array-inline-35-0] ret-67)\\n                                                )\\n                                                (call %init_peer_id% (\\\"srv\\\" \\\"resolve_alias\\\") [\\\"spell\\\"] ret-68)\\n                                               )\\n                                               (par\\n                                                (call %init_peer_id% (ret-68 \\\"store_log\\\") [ret-67] ret-69)\\n                                                (seq\\n                                                 (new $array-inline-36\\n                                                  (seq\\n                                                   (seq\\n                                                    (ap ret-68 $array-inline-36)\\n                                                    (ap #array-inline-35-0 $array-inline-36)\\n                                                   )\\n                                                   (canon %init_peer_id% $array-inline-36  #array-inline-36-0)\\n                                                  )\\n                                                 )\\n                                                 (call %init_peer_id% (\\\"run-console\\\" \\\"print\\\") [#array-inline-36-0])\\n                                                )\\n                                               )\\n                                              )\\n                                              (ap false $result-0)\\n                                             )\\n                                            )\\n                                            (seq\\n                                             (seq\\n                                              (ap :error: -else-error-)\\n                                              (xor\\n                                               (match :error:.$.error_code 10001\\n                                                (ap -if-error- -if-else-error-)\\n                                               )\\n                                               (ap -else-error- -if-else-error-)\\n                                              )\\n                                             )\\n                                             (fail -if-else-error-)\\n                                            )\\n                                           )\\n                                          )\\n                                         )\\n                                        )\\n                                       )\\n                                      )\\n                                     )\\n                                    )\\n                                    (seq\\n                                     (seq\\n                                      (ap :error: -else-error-)\\n                                      (xor\\n                                       (match :error:.$.error_code 10001\\n                                        (ap -if-error- -if-else-error-)\\n                                       )\\n                                       (ap -else-error- -if-else-error-)\\n                                      )\\n                                     )\\n                                     (fail -if-else-error-)\\n                                    )\\n                                   )\\n                                  )\\n                                 )\\n                                )\\n                               )\\n                              )\\n                             )\\n                             (seq\\n                              (seq\\n                               (seq\\n                                (seq\\n                                 (new $array-inline-37\\n                                  (seq\\n                                   (seq\\n                                    (seq\\n                                     (ap \\\"Error check spell deployed\\\" $array-inline-37)\\n                                     (ap sp-0.$.name $array-inline-37)\\n                                    )\\n                                    (ap :error: $array-inline-37)\\n                                   )\\n                                   (canon %init_peer_id% $array-inline-37  #array-inline-37-0)\\n                                  )\\n                                 )\\n                                 (call %init_peer_id% (\\\"debug\\\" \\\"stringify\\\") [#array-inline-37-0] ret-70)\\n                                )\\n                                (call %init_peer_id% (\\\"srv\\\" \\\"resolve_alias\\\") [\\\"spell\\\"] ret-71)\\n                               )\\n                               (par\\n                                (call %init_peer_id% (ret-71 \\\"store_log\\\") [ret-70] ret-72)\\n                                (seq\\n                                 (new $array-inline-38\\n                                  (seq\\n                                   (seq\\n                                    (ap ret-71 $array-inline-38)\\n                                    (ap #array-inline-37-0 $array-inline-38)\\n                                   )\\n                                   (canon %init_peer_id% $array-inline-38  #array-inline-38-0)\\n                                  )\\n                                 )\\n                                 (call %init_peer_id% (\\\"run-console\\\" \\\"print\\\") [#array-inline-38-0])\\n                                )\\n                               )\\n                              )\\n                              (ap false $result-0)\\n                             )\\n                            )\\n                            (new $result-0_test\\n                             (seq\\n                              (seq\\n                               (fold $result-0 result-0_fold_var\\n                                (seq\\n                                 (seq\\n                                  (ap result-0_fold_var $result-0_test)\\n                                  (canon %init_peer_id% $result-0_test  #result-0_iter_canon)\\n                                 )\\n                                 (xor\\n                                  (match #result-0_iter_canon.length 1\\n                                   (null)\\n                                  )\\n                                  (next result-0_fold_var)\\n                                 )\\n                                )\\n                                (never)\\n                               )\\n                               (canon %init_peer_id% $result-0_test  #result-0_result_canon)\\n                              )\\n                              (ap #result-0_result_canon result-0_gate)\\n                             )\\n                            )\\n                           )\\n                          )\\n                          (new -if-else-error-\\n                           (new -else-error-\\n                            (new -if-error-\\n                             (xor\\n                              (match result-0_gate.$.[0] true\\n                               (seq\\n                                (seq\\n                                 (seq\\n                                  (seq\\n                                   (seq\\n                                    (seq\\n                                     (seq\\n                                      (seq\\n                                       (seq\\n                                        (new $array-inline-39\\n                                         (seq\\n                                          (seq\\n                                           (ap sp-0.$.name $array-inline-39)\\n                                           (ap \\\"spell is already deployed, checking config and init_args\\\" $array-inline-39)\\n                                          )\\n                                          (canon %init_peer_id% $array-inline-39  #array-inline-39-0)\\n                                         )\\n                                        )\\n                                        (call %init_peer_id% (\\\"debug\\\" \\\"stringify\\\") [#array-inline-39-0] ret-73)\\n                                       )\\n                                       (call %init_peer_id% (\\\"srv\\\" \\\"resolve_alias\\\") [\\\"spell\\\"] ret-74)\\n                                      )\\n                                      (par\\n                                       (call %init_peer_id% (ret-74 \\\"store_log\\\") [ret-73] ret-75)\\n                                       (seq\\n                                        (new $array-inline-40\\n                                         (seq\\n                                          (seq\\n                                           (ap ret-74 $array-inline-40)\\n                                           (ap #array-inline-39-0 $array-inline-40)\\n                                          )\\n                                          (canon %init_peer_id% $array-inline-40  #array-inline-40-0)\\n                                         )\\n                                        )\\n                                        (call %init_peer_id% (\\\"run-console\\\" \\\"print\\\") [#array-inline-40-0])\\n                                       )\\n                                      )\\n                                     )\\n                                     (call %init_peer_id% (\\\"op\\\" \\\"concat_strings\\\") [\\\"trigger_config:\\\" sp-0.$.name] ret-76)\\n                                    )\\n                                    (call %init_peer_id% (\\\"worker-spell\\\" \\\"get_string\\\") [ret-76] ret-77)\\n                                   )\\n                                   (new -if-error-\\n                                    (xor\\n                                     (mismatch ret-77.$.value sp-0.$.config\\n                                      (seq\\n                                       (seq\\n                                        (seq\\n                                         (seq\\n                                          (seq\\n                                           (new $array-inline-41\\n                                            (seq\\n                                             (seq\\n                                              (ap sp-0.$.name $array-inline-41)\\n                                              (ap \\\"config mismath, updating config\\\" $array-inline-41)\\n                                             )\\n                                             (canon %init_peer_id% $array-inline-41  #array-inline-41-0)\\n                                            )\\n                                           )\\n                                           (call %init_peer_id% (\\\"debug\\\" \\\"stringify\\\") [#array-inline-41-0] ret-78)\\n                                          )\\n                                          (call %init_peer_id% (\\\"srv\\\" \\\"resolve_alias\\\") [\\\"spell\\\"] ret-79)\\n                                         )\\n                                         (par\\n                                          (call %init_peer_id% (ret-79 \\\"store_log\\\") [ret-78] ret-80)\\n                                          (seq\\n                                           (new $array-inline-42\\n                                            (seq\\n                                             (seq\\n                                              (ap ret-79 $array-inline-42)\\n                                              (ap #array-inline-41-0 $array-inline-42)\\n                                             )\\n                                             (canon %init_peer_id% $array-inline-42  #array-inline-42-0)\\n                                            )\\n                                           )\\n                                           (call %init_peer_id% (\\\"run-console\\\" \\\"print\\\") [#array-inline-42-0])\\n                                          )\\n                                         )\\n                                        )\\n                                        (call %init_peer_id% (\\\"aqua-ipfs\\\" \\\"cat_from\\\") [sp-0.$.config -ipfs-arg-] ret-81)\\n                                       )\\n                                       (new -if-else-error-\\n                                        (new -else-error-\\n                                         (new -if-error-\\n                                          (xor\\n                                           (match ret-81.$.success true\\n                                            (seq\\n                                             (seq\\n                                              (seq\\n                                               (seq\\n                                                (seq\\n                                                 (seq\\n                                                  (seq\\n                                                   (seq\\n                                                    (call %init_peer_id% (\\\"json\\\" \\\"parse\\\") [ret-81.$.contents] ret-82)\\n                                                    (call %init_peer_id% (\\\"srv\\\" \\\"resolve_alias\\\") [sp-0.$.name] ret-83)\\n                                                   )\\n                                                   (call %init_peer_id% (\\\"spell\\\" \\\"update_trigger_config\\\") [ret-83 ret-82])\\n                                                  )\\n                                                  (call %init_peer_id% (\\\"op\\\" \\\"concat_strings\\\") [\\\"trigger_config:\\\" sp-0.$.name] ret-84)\\n                                                 )\\n                                                 (call %init_peer_id% (\\\"worker-spell\\\" \\\"set_string\\\") [ret-84 sp-0.$.config] ret-85)\\n                                                )\\n                                                (new $array-inline-43\\n                                                 (seq\\n                                                  (seq\\n                                                   (ap sp-0.$.name $array-inline-43)\\n                                                   (ap \\\"config successfully updated\\\" $array-inline-43)\\n                                                  )\\n                                                  (canon %init_peer_id% $array-inline-43  #array-inline-43-0)\\n                                                 )\\n                                                )\\n                                               )\\n                                               (call %init_peer_id% (\\\"debug\\\" \\\"stringify\\\") [#array-inline-43-0] ret-86)\\n                                              )\\n                                              (call %init_peer_id% (\\\"srv\\\" \\\"resolve_alias\\\") [\\\"spell\\\"] ret-87)\\n                                             )\\n                                             (par\\n                                              (call %init_peer_id% (ret-87 \\\"store_log\\\") [ret-86] ret-88)\\n                                              (seq\\n                                               (new $array-inline-44\\n                                                (seq\\n                                                 (seq\\n                                                  (ap ret-87 $array-inline-44)\\n                                                  (ap #array-inline-43-0 $array-inline-44)\\n                                                 )\\n                                                 (canon %init_peer_id% $array-inline-44  #array-inline-44-0)\\n                                                )\\n                                               )\\n                                               (call %init_peer_id% (\\\"run-console\\\" \\\"print\\\") [#array-inline-44-0])\\n                                              )\\n                                             )\\n                                            )\\n                                           )\\n                                           (seq\\n                                            (ap :error: -if-error-)\\n                                            (xor\\n                                             (match :error:.$.error_code 10001\\n                                              (seq\\n                                               (seq\\n                                                (seq\\n                                                 (new $array-inline-45\\n                                                  (seq\\n                                                   (seq\\n                                                    (seq\\n                                                     (seq\\n                                                      (ap sp-0.$.name $array-inline-45)\\n                                                      (ap \\\"error retrieving config\\\" $array-inline-45)\\n                                                     )\\n                                                     (ap sp-0.$.config $array-inline-45)\\n                                                    )\\n                                                    (ap ret-81.$.error $array-inline-45)\\n                                                   )\\n                                                   (canon %init_peer_id% $array-inline-45  #array-inline-45-0)\\n                                                  )\\n                                                 )\\n                                                 (call %init_peer_id% (\\\"debug\\\" \\\"stringify\\\") [#array-inline-45-0] ret-89)\\n                                                )\\n                                                (call %init_peer_id% (\\\"srv\\\" \\\"resolve_alias\\\") [\\\"spell\\\"] ret-90)\\n                                               )\\n                                               (par\\n                                                (call %init_peer_id% (ret-90 \\\"store_log\\\") [ret-89] ret-91)\\n                                                (seq\\n                                                 (new $array-inline-46\\n                                                  (seq\\n                                                   (seq\\n                                                    (ap ret-90 $array-inline-46)\\n                                                    (ap #array-inline-45-0 $array-inline-46)\\n                                                   )\\n                                                   (canon %init_peer_id% $array-inline-46  #array-inline-46-0)\\n                                                  )\\n                                                 )\\n                                                 (call %init_peer_id% (\\\"run-console\\\" \\\"print\\\") [#array-inline-46-0])\\n                                                )\\n                                               )\\n                                              )\\n                                             )\\n                                             (seq\\n                                              (seq\\n                                               (ap :error: -else-error-)\\n                                               (xor\\n                                                (match :error:.$.error_code 10001\\n                                                 (ap -if-error- -if-else-error-)\\n                                                )\\n                                                (ap -else-error- -if-else-error-)\\n                                               )\\n                                              )\\n                                              (fail -if-else-error-)\\n                                             )\\n                                            )\\n                                           )\\n                                          )\\n                                         )\\n                                        )\\n                                       )\\n                                      )\\n                                     )\\n                                     (seq\\n                                      (ap :error: -if-error-)\\n                                      (xor\\n                                       (match :error:.$.error_code 10002\\n                                        (null)\\n                                       )\\n                                       (fail -if-error-)\\n                                      )\\n                                     )\\n                                    )\\n                                   )\\n                                  )\\n                                  (call %init_peer_id% (\\\"op\\\" \\\"concat_strings\\\") [\\\"init_args:\\\" sp-0.$.name] ret-92)\\n                                 )\\n                                 (call %init_peer_id% (\\\"worker-spell\\\" \\\"get_string\\\") [ret-92] ret-93)\\n                                )\\n                                (new -if-error-\\n                                 (xor\\n                                  (mismatch ret-93.$.value sp-0.$.init_args\\n                                   (seq\\n                                    (seq\\n                                     (seq\\n                                      (seq\\n                                       (seq\\n                                        (seq\\n                                         (seq\\n                                          (seq\\n                                           (seq\\n                                            (seq\\n                                             (seq\\n                                              (new $array-inline-47\\n                                               (seq\\n                                                (seq\\n                                                 (ap sp-0.$.name $array-inline-47)\\n                                                 (ap \\\"init_args changed, updating\\\" $array-inline-47)\\n                                                )\\n                                                (canon %init_peer_id% $array-inline-47  #array-inline-47-0)\\n                                               )\\n                                              )\\n                                              (call %init_peer_id% (\\\"debug\\\" \\\"stringify\\\") [#array-inline-47-0] ret-94)\\n                                             )\\n                                             (call %init_peer_id% (\\\"srv\\\" \\\"resolve_alias\\\") [\\\"spell\\\"] ret-95)\\n                                            )\\n                                            (par\\n                                             (call %init_peer_id% (ret-95 \\\"store_log\\\") [ret-94] ret-96)\\n                                             (seq\\n                                              (new $array-inline-48\\n                                               (seq\\n                                                (seq\\n                                                 (ap ret-95 $array-inline-48)\\n                                                 (ap #array-inline-47-0 $array-inline-48)\\n                                                )\\n                                                (canon %init_peer_id% $array-inline-48  #array-inline-48-0)\\n                                               )\\n                                              )\\n                                              (call %init_peer_id% (\\\"run-console\\\" \\\"print\\\") [#array-inline-48-0])\\n                                             )\\n                                            )\\n                                           )\\n                                           (call %init_peer_id% (\\\"aqua-ipfs\\\" \\\"cat_from\\\") [sp-0.$.init_args -ipfs-arg-] ret-97)\\n                                          )\\n                                          (new -if-else-error-\\n                                           (new -else-error-\\n                                            (new -if-error-\\n                                             (xor\\n                                              (match ret-97.$.success true\\n                                               (call %init_peer_id% (sp-0.$.name \\\"set_json_fields\\\") [ret-97.$.contents] ret-98)\\n                                              )\\n                                              (seq\\n                                               (ap :error: -if-error-)\\n                                               (xor\\n                                                (match :error:.$.error_code 10001\\n                                                 (seq\\n                                                  (seq\\n                                                   (seq\\n                                                    (new $array-inline-49\\n                                                     (seq\\n                                                      (seq\\n                                                       (seq\\n                                                        (seq\\n                                                         (ap sp-0.$.name $array-inline-49)\\n                                                         (ap \\\"error retrieving init_args\\\" $array-inline-49)\\n                                                        )\\n                                                        (ap sp-0.$.init_args $array-inline-49)\\n                                                       )\\n                                                       (ap ret-97.$.error $array-inline-49)\\n                                                      )\\n                                                      (canon %init_peer_id% $array-inline-49  #array-inline-49-0)\\n                                                     )\\n                                                    )\\n                                                    (call %init_peer_id% (\\\"debug\\\" \\\"stringify\\\") [#array-inline-49-0] ret-99)\\n                                                   )\\n                                                   (call %init_peer_id% (\\\"srv\\\" \\\"resolve_alias\\\") [\\\"spell\\\"] ret-100)\\n                                                  )\\n                                                  (par\\n                                                   (call %init_peer_id% (ret-100 \\\"store_log\\\") [ret-99] ret-101)\\n                                                   (seq\\n                                                    (new $array-inline-50\\n                                                     (seq\\n                                                      (seq\\n                                                       (ap ret-100 $array-inline-50)\\n                                                       (ap #array-inline-49-0 $array-inline-50)\\n                                                      )\\n                                                      (canon %init_peer_id% $array-inline-50  #array-inline-50-0)\\n                                                     )\\n                                                    )\\n                                                    (call %init_peer_id% (\\\"run-console\\\" \\\"print\\\") [#array-inline-50-0])\\n                                                   )\\n                                                  )\\n                                                 )\\n                                                )\\n                                                (seq\\n                                                 (seq\\n                                                  (ap :error: -else-error-)\\n                                                  (xor\\n                                                   (match :error:.$.error_code 10001\\n                                                    (ap -if-error- -if-else-error-)\\n                                                   )\\n                                                   (ap -else-error- -if-else-error-)\\n                                                  )\\n                                                 )\\n                                                 (fail -if-else-error-)\\n                                                )\\n                                               )\\n                                              )\\n                                             )\\n                                            )\\n                                           )\\n                                          )\\n                                         )\\n                                         (call %init_peer_id% (\\\"op\\\" \\\"concat_strings\\\") [\\\"init_args:\\\" sp-0.$.name] ret-102)\\n                                        )\\n                                        (call %init_peer_id% (\\\"worker-spell\\\" \\\"set_string\\\") [ret-102 sp-0.$.init_args] ret-103)\\n                                       )\\n                                       (new $array-inline-51\\n                                        (seq\\n                                         (seq\\n                                          (ap sp-0.$.name $array-inline-51)\\n                                          (ap \\\"init_args successfully updated\\\" $array-inline-51)\\n                                         )\\n                                         (canon %init_peer_id% $array-inline-51  #array-inline-51-0)\\n                                        )\\n                                       )\\n                                      )\\n                                      (call %init_peer_id% (\\\"debug\\\" \\\"stringify\\\") [#array-inline-51-0] ret-104)\\n                                     )\\n                                     (call %init_peer_id% (\\\"srv\\\" \\\"resolve_alias\\\") [\\\"spell\\\"] ret-105)\\n                                    )\\n                                    (par\\n                                     (call %init_peer_id% (ret-105 \\\"store_log\\\") [ret-104] ret-106)\\n                                     (seq\\n                                      (new $array-inline-52\\n                                       (seq\\n                                        (seq\\n                                         (ap ret-105 $array-inline-52)\\n                                         (ap #array-inline-51-0 $array-inline-52)\\n                                        )\\n                                        (canon %init_peer_id% $array-inline-52  #array-inline-52-0)\\n                                       )\\n                                      )\\n                                      (call %init_peer_id% (\\\"run-console\\\" \\\"print\\\") [#array-inline-52-0])\\n                                     )\\n                                    )\\n                                   )\\n                                  )\\n                                  (seq\\n                                   (ap :error: -if-error-)\\n                                   (xor\\n                                    (match :error:.$.error_code 10002\\n                                     (null)\\n                                    )\\n                                    (fail -if-error-)\\n                                   )\\n                                  )\\n                                 )\\n                                )\\n                               )\\n                              )\\n                              (seq\\n                               (ap :error: -if-error-)\\n                               (xor\\n                                (match :error:.$.error_code 10001\\n                                 (seq\\n                                  (seq\\n                                   (seq\\n                                    (seq\\n                                     (seq\\n                                      (seq\\n                                       (seq\\n                                        (seq\\n                                         (seq\\n                                          (call %init_peer_id% (\\\"peer\\\" \\\"timestamp_sec\\\") [] ret-107)\\n                                          (new %Status_obj-0_map\\n                                           (seq\\n                                            (seq\\n                                             (seq\\n                                              (ap (\\\"message\\\" \\\"\\\") %Status_obj-0_map)\\n                                              (ap (\\\"state\\\" \\\"INSTALLATION_IN_PROGRESS\\\") %Status_obj-0_map)\\n                                             )\\n                                             (ap (\\\"timestamp\\\" ret-107) %Status_obj-0_map)\\n                                            )\\n                                            (canon %init_peer_id% %Status_obj-0_map  Status_obj-0)\\n                                           )\\n                                          )\\n                                         )\\n                                         (call %init_peer_id% (\\\"json\\\" \\\"stringify\\\") [Status_obj-0] ret-108)\\n                                        )\\n                                        (call %init_peer_id% (\\\"worker-spell\\\" \\\"list_push_string\\\") [\\\"__installation_spell_status__\\\" ret-108] ret-109)\\n                                       )\\n                                       (call %init_peer_id% (\\\"aqua-ipfs\\\" \\\"cat_from\\\") [sp-0.$.script -ipfs-arg-] ret-110)\\n                                      )\\n                                      (call %init_peer_id% (\\\"aqua-ipfs\\\" \\\"cat_from\\\") [sp-0.$.config -ipfs-arg-] ret-111)\\n                                     )\\n                                     (call %init_peer_id% (\\\"aqua-ipfs\\\" \\\"cat_from\\\") [sp-0.$.init_args -ipfs-arg-] ret-112)\\n                                    )\\n                                    (xor\\n                                     (match ret-110.$.success false\\n                                      (ap ret-110.$.success and-2)\\n                                     )\\n                                     (ap ret-111.$.success and-2)\\n                                    )\\n                                   )\\n                                   (xor\\n                                    (match and-2 false\\n                                     (ap and-2 and-3)\\n                                    )\\n                                    (ap ret-112.$.success and-3)\\n                                   )\\n                                  )\\n                                  (new -if-else-error-\\n                                   (new -else-error-\\n                                    (new -if-error-\\n                                     (xor\\n                                      (match and-3 true\\n                                       (seq\\n                                        (seq\\n                                         (call %init_peer_id% (\\\"json\\\" \\\"parse\\\") [ret-111.$.contents] ret-113)\\n                                         (call %init_peer_id% (\\\"json\\\" \\\"parse\\\") [ret-112.$.contents] ret-114)\\n                                        )\\n                                        (xor\\n                                         (seq\\n                                          (seq\\n                                           (seq\\n                                            (seq\\n                                             (seq\\n                                              (seq\\n                                               (seq\\n                                                (seq\\n                                                 (seq\\n                                                  (call %init_peer_id% (\\\"spell\\\" \\\"install\\\") [ret-110.$.contents ret-114 ret-113 sp-0.$.name] ret-115)\\n                                                  (new $array-inline-53\\n                                                   (seq\\n                                                    (seq\\n                                                     (seq\\n                                                      (ap \\\"Installed spell\\\" $array-inline-53)\\n                                                      (ap sp-0.$.name $array-inline-53)\\n                                                     )\\n                                                     (ap ret-115 $array-inline-53)\\n                                                    )\\n                                                    (canon %init_peer_id% $array-inline-53  #array-inline-53-0)\\n                                                   )\\n                                                  )\\n                                                 )\\n                                                 (call %init_peer_id% (\\\"debug\\\" \\\"stringify\\\") [#array-inline-53-0] ret-116)\\n                                                )\\n                                                (call %init_peer_id% (\\\"srv\\\" \\\"resolve_alias\\\") [\\\"spell\\\"] ret-117)\\n                                               )\\n                                               (par\\n                                                (call %init_peer_id% (ret-117 \\\"store_log\\\") [ret-116] ret-118)\\n                                                (seq\\n                                                 (new $array-inline-54\\n                                                  (seq\\n                                                   (seq\\n                                                    (ap ret-117 $array-inline-54)\\n                                                    (ap #array-inline-53-0 $array-inline-54)\\n                                                   )\\n                                                   (canon %init_peer_id% $array-inline-54  #array-inline-54-0)\\n                                                  )\\n                                                 )\\n                                                 (call %init_peer_id% (\\\"run-console\\\" \\\"print\\\") [#array-inline-54-0])\\n                                                )\\n                                               )\\n                                              )\\n                                              (call %init_peer_id% (\\\"worker-spell\\\" \\\"set_string\\\") [sp-0.$.name ret-115] ret-119)\\n                                             )\\n                                             (call %init_peer_id% (\\\"op\\\" \\\"concat_strings\\\") [\\\"trigger_config:\\\" sp-0.$.name] ret-120)\\n                                            )\\n                                            (call %init_peer_id% (\\\"worker-spell\\\" \\\"set_string\\\") [ret-120 sp-0.$.config] ret-121)\\n                                           )\\n                                           (call %init_peer_id% (\\\"op\\\" \\\"concat_strings\\\") [\\\"init_args:\\\" sp-0.$.name] ret-122)\\n                                          )\\n                                          (call %init_peer_id% (\\\"worker-spell\\\" \\\"set_string\\\") [ret-122 sp-0.$.init_args] ret-123)\\n                                         )\\n                                         (seq\\n                                          (seq\\n                                           (seq\\n                                            (new $array-inline-55\\n                                             (seq\\n                                              (seq\\n                                               (seq\\n                                                (ap \\\"Error installing the spell\\\" $array-inline-55)\\n                                                (ap sp-0.$.name $array-inline-55)\\n                                               )\\n                                               (ap :error: $array-inline-55)\\n                                              )\\n                                              (canon %init_peer_id% $array-inline-55  #array-inline-55-0)\\n                                             )\\n                                            )\\n                                            (call %init_peer_id% (\\\"debug\\\" \\\"stringify\\\") [#array-inline-55-0] ret-124)\\n                                           )\\n                                           (call %init_peer_id% (\\\"srv\\\" \\\"resolve_alias\\\") [\\\"spell\\\"] ret-125)\\n                                          )\\n                                          (par\\n                                           (call %init_peer_id% (ret-125 \\\"store_log\\\") [ret-124] ret-126)\\n                                           (seq\\n                                            (new $array-inline-56\\n                                             (seq\\n                                              (seq\\n                                               (ap ret-125 $array-inline-56)\\n                                               (ap #array-inline-55-0 $array-inline-56)\\n                                              )\\n                                              (canon %init_peer_id% $array-inline-56  #array-inline-56-0)\\n                                             )\\n                                            )\\n                                            (call %init_peer_id% (\\\"run-console\\\" \\\"print\\\") [#array-inline-56-0])\\n                                           )\\n                                          )\\n                                         )\\n                                        )\\n                                       )\\n                                      )\\n                                      (seq\\n                                       (ap :error: -if-error-)\\n                                       (xor\\n                                        (match :error:.$.error_code 10001\\n                                         (seq\\n                                          (seq\\n                                           (seq\\n                                            (new $array-inline-57\\n                                             (seq\\n                                              (seq\\n                                               (seq\\n                                                (seq\\n                                                 (seq\\n                                                  (seq\\n                                                   (seq\\n                                                    (seq\\n                                                     (new $array-inline-58\\n                                                      (seq\\n                                                       (seq\\n                                                        (seq\\n                                                         (ap \\\"script\\\" $array-inline-58)\\n                                                         (ap sp-0.$.script $array-inline-58)\\n                                                        )\\n                                                        (ap ret-110 $array-inline-58)\\n                                                       )\\n                                                       (canon %init_peer_id% $array-inline-58  #array-inline-58-0)\\n                                                      )\\n                                                     )\\n                                                     (new $array-inline-59\\n                                                      (seq\\n                                                       (seq\\n                                                        (seq\\n                                                         (ap \\\"cfg_json\\\" $array-inline-59)\\n                                                         (ap sp-0.$.config $array-inline-59)\\n                                                        )\\n                                                        (ap ret-111 $array-inline-59)\\n                                                       )\\n                                                       (canon %init_peer_id% $array-inline-59  #array-inline-59-0)\\n                                                      )\\n                                                     )\\n                                                    )\\n                                                    (new $array-inline-60\\n                                                     (seq\\n                                                      (seq\\n                                                       (seq\\n                                                        (ap \\\"init_args_str\\\" $array-inline-60)\\n                                                        (ap sp-0.$.init_args $array-inline-60)\\n                                                       )\\n                                                       (ap ret-112 $array-inline-60)\\n                                                      )\\n                                                      (canon %init_peer_id% $array-inline-60  #array-inline-60-0)\\n                                                     )\\n                                                    )\\n                                                   )\\n                                                   (ap sp-0.$.name $array-inline-57)\\n                                                  )\\n                                                  (ap \\\"error retrieving from IPFS\\\" $array-inline-57)\\n                                                 )\\n                                                 (ap #array-inline-58-0 $array-inline-57)\\n                                                )\\n                                                (ap #array-inline-59-0 $array-inline-57)\\n                                               )\\n                                               (ap #array-inline-60-0 $array-inline-57)\\n                                              )\\n                                              (canon %init_peer_id% $array-inline-57  #array-inline-57-0)\\n                                             )\\n                                            )\\n                                            (call %init_peer_id% (\\\"debug\\\" \\\"stringify\\\") [#array-inline-57-0] ret-127)\\n                                           )\\n                                           (call %init_peer_id% (\\\"srv\\\" \\\"resolve_alias\\\") [\\\"spell\\\"] ret-128)\\n                                          )\\n                                          (par\\n                                           (call %init_peer_id% (ret-128 \\\"store_log\\\") [ret-127] ret-129)\\n                                           (seq\\n                                            (new $array-inline-61\\n                                             (seq\\n                                              (seq\\n                                               (ap ret-128 $array-inline-61)\\n                                               (ap #array-inline-57-0 $array-inline-61)\\n                                              )\\n                                              (canon %init_peer_id% $array-inline-61  #array-inline-61-0)\\n                                             )\\n                                            )\\n                                            (call %init_peer_id% (\\\"run-console\\\" \\\"print\\\") [#array-inline-61-0])\\n                                           )\\n                                          )\\n                                         )\\n                                        )\\n                                        (seq\\n                                         (seq\\n                                          (ap :error: -else-error-)\\n                                          (xor\\n                                           (match :error:.$.error_code 10001\\n                                            (ap -if-error- -if-else-error-)\\n                                           )\\n                                           (ap -else-error- -if-else-error-)\\n                                          )\\n                                         )\\n                                         (fail -if-else-error-)\\n                                        )\\n                                       )\\n                                      )\\n                                     )\\n                                    )\\n                                   )\\n                                  )\\n                                 )\\n                                )\\n                                (seq\\n                                 (seq\\n                                  (ap :error: -else-error-)\\n                                  (xor\\n                                   (match :error:.$.error_code 10001\\n                                    (ap -if-error- -if-else-error-)\\n                                   )\\n                                   (ap -else-error- -if-else-error-)\\n                                  )\\n                                 )\\n                                 (fail -if-else-error-)\\n                                )\\n                               )\\n                              )\\n                             )\\n                            )\\n                           )\\n                          )\\n                         )\\n                         (seq\\n                          (seq\\n                           (seq\\n                            (new $array-inline-62\\n                             (seq\\n                              (seq\\n                               (seq\\n                                (ap \\\"Error deploy spell\\\" $array-inline-62)\\n                                (ap sp-0.$.name $array-inline-62)\\n                               )\\n                               (ap :error: $array-inline-62)\\n                              )\\n                              (canon %init_peer_id% $array-inline-62  #array-inline-62-0)\\n                             )\\n                            )\\n                            (call %init_peer_id% (\\\"debug\\\" \\\"stringify\\\") [#array-inline-62-0] ret-130)\\n                           )\\n                           (call %init_peer_id% (\\\"srv\\\" \\\"resolve_alias\\\") [\\\"spell\\\"] ret-131)\\n                          )\\n                          (par\\n                           (call %init_peer_id% (ret-131 \\\"store_log\\\") [ret-130] ret-132)\\n                           (seq\\n                            (new $array-inline-63\\n                             (seq\\n                              (seq\\n                               (ap ret-131 $array-inline-63)\\n                               (ap #array-inline-62-0 $array-inline-63)\\n                              )\\n                              (canon %init_peer_id% $array-inline-63  #array-inline-63-0)\\n                             )\\n                            )\\n                            (call %init_peer_id% (\\\"run-console\\\" \\\"print\\\") [#array-inline-63-0])\\n                           )\\n                          )\\n                         )\\n                        )\\n                       )\\n                       (seq\\n                        (seq\\n                         (seq\\n                          (new $array-inline-64\\n                           (seq\\n                            (seq\\n                             (seq\\n                              (ap \\\"Error deploying spell\\\" $array-inline-64)\\n                              (ap sp-0.$.name $array-inline-64)\\n                             )\\n                             (ap :error: $array-inline-64)\\n                            )\\n                            (canon %init_peer_id% $array-inline-64  #array-inline-64-0)\\n                           )\\n                          )\\n                          (call %init_peer_id% (\\\"debug\\\" \\\"stringify\\\") [#array-inline-64-0] ret-133)\\n                         )\\n                         (call %init_peer_id% (\\\"srv\\\" \\\"resolve_alias\\\") [\\\"spell\\\"] ret-134)\\n                        )\\n                        (par\\n                         (call %init_peer_id% (ret-134 \\\"store_log\\\") [ret-133] ret-135)\\n                         (seq\\n                          (new $array-inline-65\\n                           (seq\\n                            (seq\\n                             (ap ret-134 $array-inline-65)\\n                             (ap #array-inline-64-0 $array-inline-65)\\n                            )\\n                            (canon %init_peer_id% $array-inline-65  #array-inline-65-0)\\n                           )\\n                          )\\n                          (call %init_peer_id% (\\\"run-console\\\" \\\"print\\\") [#array-inline-65-0])\\n                         )\\n                        )\\n                       )\\n                      )\\n                      (next sp-0)\\n                     )\\n                    )\\n                   )\\n                   (call %init_peer_id% (\\\"debug\\\" \\\"stringify\\\") [\\\"Installation finished\\\"] ret-136)\\n                  )\\n                  (call %init_peer_id% (\\\"srv\\\" \\\"resolve_alias\\\") [\\\"spell\\\"] ret-137)\\n                 )\\n                 (par\\n                  (call %init_peer_id% (ret-137 \\\"store_log\\\") [ret-136] ret-138)\\n                  (seq\\n                   (new $array-inline-66\\n                    (seq\\n                     (seq\\n                      (ap ret-137 $array-inline-66)\\n                      (ap \\\"Installation finished\\\" $array-inline-66)\\n                     )\\n                     (canon %init_peer_id% $array-inline-66  #array-inline-66-0)\\n                    )\\n                   )\\n                   (call %init_peer_id% (\\\"run-console\\\" \\\"print\\\") [#array-inline-66-0])\\n                  )\\n                 )\\n                )\\n                (new $status-2\\n                 (seq\\n                  (seq\\n                   (seq\\n                    (call %init_peer_id% (\\\"worker-spell\\\" \\\"list_get_strings\\\") [\\\"__installation_spell_status__\\\"] ret-139)\\n                    (xor\\n                     (match ret-139.$.success true\\n                      (ap false not-0)\\n                     )\\n                     (ap true not-0)\\n                    )\\n                   )\\n                   (new -if-else-error-\\n                    (new -else-error-\\n                     (new -if-error-\\n                      (xor\\n                       (match not-0 true\\n                        (seq\\n                         (new %Status_obj-1_map\\n                          (seq\\n                           (seq\\n                            (seq\\n                             (ap (\\\"message\\\" ret-139.$.error) %Status_obj-1_map)\\n                             (ap (\\\"state\\\" \\\"STATUS_LOAD_ERROR\\\") %Status_obj-1_map)\\n                            )\\n                            (ap (\\\"timestamp\\\" 0) %Status_obj-1_map)\\n                           )\\n                           (canon %init_peer_id% %Status_obj-1_map  Status_obj-1)\\n                          )\\n                         )\\n                         (ap Status_obj-1 $status-2)\\n                        )\\n                       )\\n                       (seq\\n                        (ap :error: -if-error-)\\n                        (xor\\n                         (match :error:.$.error_code 10001\\n                          (seq\\n                           (seq\\n                            (seq\\n                             (ap ret-139.$.value ret-139_flat)\\n                             (ap ret-139_flat ret-139_flat_to_functor)\\n                            )\\n                            (ap ret-139_flat_to_functor.length ret-139_flat_length)\\n                           )\\n                           (new -if-else-error-\\n                            (new -else-error-\\n                             (new -if-error-\\n                              (xor\\n                               (match ret-139_flat_length 0\\n                                (seq\\n                                 (new %Status_obj-2_map\\n                                  (seq\\n                                   (seq\\n                                    (seq\\n                                     (ap (\\\"message\\\" \\\"Installation has not started yet\\\") %Status_obj-2_map)\\n                                     (ap (\\\"state\\\" \\\"NOT_STARTED\\\") %Status_obj-2_map)\\n                                    )\\n                                    (ap (\\\"timestamp\\\" 0) %Status_obj-2_map)\\n                                   )\\n                                   (canon %init_peer_id% %Status_obj-2_map  Status_obj-2)\\n                                  )\\n                                 )\\n                                 (ap Status_obj-2 $status-2)\\n                                )\\n                               )\\n                               (seq\\n                                (ap :error: -if-error-)\\n                                (xor\\n                                 (match :error:.$.error_code 10001\\n                                  (seq\\n                                   (seq\\n                                    (seq\\n                                     (seq\\n                                      (seq\\n                                       (ap ret-139.$.value ret-139_flat-0)\\n                                       (ap ret-139_flat-0 ret-139_flat-0_to_functor)\\n                                      )\\n                                      (ap ret-139_flat-0_to_functor.length ret-139_flat-0_length)\\n                                     )\\n                                     (call %init_peer_id% (\\\"math\\\" \\\"sub\\\") [ret-139_flat-0_length 1] sub)\\n                                    )\\n                                    (call %init_peer_id% (\\\"json\\\" \\\"parse\\\") [ret-139.$.value.[sub]] ret-140)\\n                                   )\\n                                   (ap ret-140 $status-2)\\n                                  )\\n                                 )\\n                                 (seq\\n                                  (seq\\n                                   (ap :error: -else-error-)\\n                                   (xor\\n                                    (match :error:.$.error_code 10001\\n                                     (ap -if-error- -if-else-error-)\\n                                    )\\n                                    (ap -else-error- -if-else-error-)\\n                                   )\\n                                  )\\n                                  (fail -if-else-error-)\\n                                 )\\n                                )\\n                               )\\n                              )\\n                             )\\n                            )\\n                           )\\n                          )\\n                         )\\n                         (seq\\n                          (seq\\n                           (ap :error: -else-error-)\\n                           (xor\\n                            (match :error:.$.error_code 10001\\n                             (ap -if-error- -if-else-error-)\\n                            )\\n                            (ap -else-error- -if-else-error-)\\n                           )\\n                          )\\n                          (fail -if-else-error-)\\n                         )\\n                        )\\n                       )\\n                      )\\n                     )\\n                    )\\n                   )\\n                  )\\n                  (new $status-2_test\\n                   (seq\\n                    (seq\\n                     (fold $status-2 status-2_fold_var\\n                      (seq\\n                       (seq\\n                        (ap status-2_fold_var $status-2_test)\\n                        (canon %init_peer_id% $status-2_test  #status-2_iter_canon)\\n                       )\\n                       (xor\\n                        (match #status-2_iter_canon.length 1\\n                         (null)\\n                        )\\n                        (next status-2_fold_var)\\n                       )\\n                      )\\n                      (never)\\n                     )\\n                     (canon %init_peer_id% $status-2_test  #status-2_result_canon)\\n                    )\\n                    (ap #status-2_result_canon status-2_gate)\\n                   )\\n                  )\\n                 )\\n                )\\n               )\\n               (new -if-error-\\n                (xor\\n                 (match status-2_gate.$.[0].state \\\"INSTALLATION_IN_PROGRESS\\\"\\n                  (seq\\n                   (seq\\n                    (seq\\n                     (call %init_peer_id% (\\\"peer\\\" \\\"timestamp_sec\\\") [] ret-141)\\n                     (new %Status_obj-3_map\\n                      (seq\\n                       (seq\\n                        (seq\\n                         (ap (\\\"message\\\" \\\"\\\") %Status_obj-3_map)\\n                         (ap (\\\"state\\\" \\\"INSTALLATION_SUCCESSFUL\\\") %Status_obj-3_map)\\n                        )\\n                        (ap (\\\"timestamp\\\" ret-141) %Status_obj-3_map)\\n                       )\\n                       (canon %init_peer_id% %Status_obj-3_map  Status_obj-3)\\n                      )\\n                     )\\n                    )\\n                    (call %init_peer_id% (\\\"json\\\" \\\"stringify\\\") [Status_obj-3] ret-142)\\n                   )\\n                   (call %init_peer_id% (\\\"worker-spell\\\" \\\"list_push_string\\\") [\\\"__installation_spell_status__\\\" ret-142] ret-143)\\n                  )\\n                 )\\n                 (seq\\n                  (ap :error: -if-error-)\\n                  (xor\\n                   (match :error:.$.error_code 10001\\n                    (null)\\n                   )\\n                   (fail -if-error-)\\n                  )\\n                 )\\n                )\\n               )\\n              )\\n             )\\n             (seq\\n              (ap :error: -if-error-)\\n              (xor\\n               (match :error:.$.error_code 10001\\n                (seq\\n                 (seq\\n                  (seq\\n                   (seq\\n                    (seq\\n                     (seq\\n                      (seq\\n                       (seq\\n                        (new $array-inline-67\\n                         (seq\\n                          (seq\\n                           (seq\\n                            (seq\\n                             (ap \\\"Error downloading worker definition from IPFS\\\" $array-inline-67)\\n                             (ap -ipfs-arg- $array-inline-67)\\n                            )\\n                            (ap -worker_def_cid-arg- $array-inline-67)\\n                           )\\n                           (ap ret-2 $array-inline-67)\\n                          )\\n                          (canon %init_peer_id% $array-inline-67  #array-inline-67-0)\\n                         )\\n                        )\\n                        (call %init_peer_id% (\\\"debug\\\" \\\"stringify\\\") [#array-inline-67-0] ret-144)\\n                       )\\n                       (call %init_peer_id% (\\\"srv\\\" \\\"resolve_alias\\\") [\\\"spell\\\"] ret-145)\\n                      )\\n                      (par\\n                       (call %init_peer_id% (ret-145 \\\"store_log\\\") [ret-144] ret-146)\\n                       (seq\\n                        (new $array-inline-68\\n                         (seq\\n                          (seq\\n                           (ap ret-145 $array-inline-68)\\n                           (ap #array-inline-67-0 $array-inline-68)\\n                          )\\n                          (canon %init_peer_id% $array-inline-68  #array-inline-68-0)\\n                         )\\n                        )\\n                        (call %init_peer_id% (\\\"run-console\\\" \\\"print\\\") [#array-inline-68-0])\\n                       )\\n                      )\\n                     )\\n                     (call %init_peer_id% (\\\"debug\\\" \\\"stringify\\\") [#array-inline-67-0] ret-147)\\n                    )\\n                    (call %init_peer_id% (\\\"peer\\\" \\\"timestamp_sec\\\") [] ret-148)\\n                   )\\n                   (new %Status_obj-4_map\\n                    (seq\\n                     (seq\\n                      (seq\\n                       (ap (\\\"message\\\" ret-147) %Status_obj-4_map)\\n                       (ap (\\\"state\\\" \\\"INSTALLATION_FAILED\\\") %Status_obj-4_map)\\n                      )\\n                      (ap (\\\"timestamp\\\" ret-148) %Status_obj-4_map)\\n                     )\\n                     (canon %init_peer_id% %Status_obj-4_map  Status_obj-4)\\n                    )\\n                   )\\n                  )\\n                  (call %init_peer_id% (\\\"json\\\" \\\"stringify\\\") [Status_obj-4] ret-149)\\n                 )\\n                 (call %init_peer_id% (\\\"worker-spell\\\" \\\"list_push_string\\\") [\\\"__installation_spell_status__\\\" ret-149] ret-150)\\n                )\\n               )\\n               (seq\\n                (seq\\n                 (ap :error: -else-error-)\\n                 (xor\\n                  (match :error:.$.error_code 10001\\n                   (ap -if-error- -if-else-error-)\\n                  )\\n                  (ap -else-error- -if-else-error-)\\n                 )\\n                )\\n                (fail -if-else-error-)\\n               )\\n              )\\n             )\\n            )\\n           )\\n          )\\n         )\\n        )\\n        (seq\\n         (seq\\n          (seq\\n           (seq\\n            (seq\\n             (seq\\n              (seq\\n               (seq\\n                (new $array-inline-69\\n                 (seq\\n                  (seq\\n                   (ap \\\"Error installing worker\\\" $array-inline-69)\\n                   (ap :error: $array-inline-69)\\n                  )\\n                  (canon %init_peer_id% $array-inline-69  #array-inline-69-0)\\n                 )\\n                )\\n                (call %init_peer_id% (\\\"debug\\\" \\\"stringify\\\") [#array-inline-69-0] ret-151)\\n               )\\n               (call %init_peer_id% (\\\"srv\\\" \\\"resolve_alias\\\") [\\\"spell\\\"] ret-152)\\n              )\\n              (par\\n               (call %init_peer_id% (ret-152 \\\"store_log\\\") [ret-151] ret-153)\\n               (seq\\n                (new $array-inline-70\\n                 (seq\\n                  (seq\\n                   (ap ret-152 $array-inline-70)\\n                   (ap #array-inline-69-0 $array-inline-70)\\n                  )\\n                  (canon %init_peer_id% $array-inline-70  #array-inline-70-0)\\n                 )\\n                )\\n                (call %init_peer_id% (\\\"run-console\\\" \\\"print\\\") [#array-inline-70-0])\\n               )\\n              )\\n             )\\n             (call %init_peer_id% (\\\"debug\\\" \\\"stringify\\\") [#array-inline-69-0] ret-154)\\n            )\\n            (call %init_peer_id% (\\\"peer\\\" \\\"timestamp_sec\\\") [] ret-155)\\n           )\\n           (new %Status_obj-5_map\\n            (seq\\n             (seq\\n              (seq\\n               (ap (\\\"message\\\" ret-154) %Status_obj-5_map)\\n               (ap (\\\"state\\\" \\\"INSTALLATION_FAILED\\\") %Status_obj-5_map)\\n              )\\n              (ap (\\\"timestamp\\\" ret-155) %Status_obj-5_map)\\n             )\\n             (canon %init_peer_id% %Status_obj-5_map  Status_obj-5)\\n            )\\n           )\\n          )\\n          (call %init_peer_id% (\\\"json\\\" \\\"stringify\\\") [Status_obj-5] ret-156)\\n         )\\n         (call %init_peer_id% (\\\"worker-spell\\\" \\\"list_push_string\\\") [\\\"__installation_spell_status__\\\" ret-156] ret-157)\\n        )\\n       )\\n      )\\n      (new $status-6\\n       (seq\\n        (seq\\n         (seq\\n          (call %init_peer_id% (\\\"worker-spell\\\" \\\"list_get_strings\\\") [\\\"__installation_spell_status__\\\"] ret-158)\\n          (xor\\n           (match ret-158.$.success true\\n            (ap false not-1)\\n           )\\n           (ap true not-1)\\n          )\\n         )\\n         (new -if-else-error-\\n          (new -else-error-\\n           (new -if-error-\\n            (xor\\n             (match not-1 true\\n              (seq\\n               (new %Status_obj-6_map\\n                (seq\\n                 (seq\\n                  (seq\\n                   (ap (\\\"message\\\" ret-158.$.error) %Status_obj-6_map)\\n                   (ap (\\\"state\\\" \\\"STATUS_LOAD_ERROR\\\") %Status_obj-6_map)\\n                  )\\n                  (ap (\\\"timestamp\\\" 0) %Status_obj-6_map)\\n                 )\\n                 (canon %init_peer_id% %Status_obj-6_map  Status_obj-6)\\n                )\\n               )\\n               (ap Status_obj-6 $status-6)\\n              )\\n             )\\n             (seq\\n              (ap :error: -if-error-)\\n              (xor\\n               (match :error:.$.error_code 10001\\n                (seq\\n                 (seq\\n                  (seq\\n                   (ap ret-158.$.value ret-158_flat)\\n                   (ap ret-158_flat ret-158_flat_to_functor)\\n                  )\\n                  (ap ret-158_flat_to_functor.length ret-158_flat_length)\\n                 )\\n                 (new -if-else-error-\\n                  (new -else-error-\\n                   (new -if-error-\\n                    (xor\\n                     (match ret-158_flat_length 0\\n                      (seq\\n                       (new %Status_obj-7_map\\n                        (seq\\n                         (seq\\n                          (seq\\n                           (ap (\\\"message\\\" \\\"Installation has not started yet\\\") %Status_obj-7_map)\\n                           (ap (\\\"state\\\" \\\"NOT_STARTED\\\") %Status_obj-7_map)\\n                          )\\n                          (ap (\\\"timestamp\\\" 0) %Status_obj-7_map)\\n                         )\\n                         (canon %init_peer_id% %Status_obj-7_map  Status_obj-7)\\n                        )\\n                       )\\n                       (ap Status_obj-7 $status-6)\\n                      )\\n                     )\\n                     (seq\\n                      (ap :error: -if-error-)\\n                      (xor\\n                       (match :error:.$.error_code 10001\\n                        (seq\\n                         (seq\\n                          (seq\\n                           (seq\\n                            (seq\\n                             (ap ret-158.$.value ret-158_flat-0)\\n                             (ap ret-158_flat-0 ret-158_flat-0_to_functor)\\n                            )\\n                            (ap ret-158_flat-0_to_functor.length ret-158_flat-0_length)\\n                           )\\n                           (call %init_peer_id% (\\\"math\\\" \\\"sub\\\") [ret-158_flat-0_length 1] sub-0)\\n                          )\\n                          (call %init_peer_id% (\\\"json\\\" \\\"parse\\\") [ret-158.$.value.[sub-0]] ret-159)\\n                         )\\n                         (ap ret-159 $status-6)\\n                        )\\n                       )\\n                       (seq\\n                        (seq\\n                         (ap :error: -else-error-)\\n                         (xor\\n                          (match :error:.$.error_code 10001\\n                           (ap -if-error- -if-else-error-)\\n                          )\\n                          (ap -else-error- -if-else-error-)\\n                         )\\n                        )\\n                        (fail -if-else-error-)\\n                       )\\n                      )\\n                     )\\n                    )\\n                   )\\n                  )\\n                 )\\n                )\\n               )\\n               (seq\\n                (seq\\n                 (ap :error: -else-error-)\\n                 (xor\\n                  (match :error:.$.error_code 10001\\n                   (ap -if-error- -if-else-error-)\\n                  )\\n                  (ap -else-error- -if-else-error-)\\n                 )\\n                )\\n                (fail -if-else-error-)\\n               )\\n              )\\n             )\\n            )\\n           )\\n          )\\n         )\\n        )\\n        (new $status-6_test\\n         (seq\\n          (seq\\n           (fold $status-6 status-6_fold_var\\n            (seq\\n             (seq\\n              (ap status-6_fold_var $status-6_test)\\n              (canon %init_peer_id% $status-6_test  #status-6_iter_canon)\\n             )\\n             (xor\\n              (match #status-6_iter_canon.length 1\\n               (null)\\n              )\\n              (next status-6_fold_var)\\n             )\\n            )\\n            (never)\\n           )\\n           (canon %init_peer_id% $status-6_test  #status-6_result_canon)\\n          )\\n          (ap #status-6_result_canon status-6_gate)\\n         )\\n        )\\n       )\\n      )\\n     )\\n     (new $array-inline-71\\n      (seq\\n       (seq\\n        (ap \\\"Worker installation finished with status\\\" $array-inline-71)\\n        (ap status-6_gate.$.[0] $array-inline-71)\\n       )\\n       (canon %init_peer_id% $array-inline-71  #array-inline-71-0)\\n      )\\n     )\\n    )\\n    (call %init_peer_id% (\\\"debug\\\" \\\"stringify\\\") [#array-inline-71-0] ret-160)\\n   )\\n   (call %init_peer_id% (\\\"srv\\\" \\\"resolve_alias\\\") [\\\"spell\\\"] ret-161)\\n  )\\n  (par\\n   (call %init_peer_id% (ret-161 \\\"store_log\\\") [ret-160] ret-162)\\n   (seq\\n    (new $array-inline-72\\n     (seq\\n      (seq\\n       (ap ret-161 $array-inline-72)\\n       (ap #array-inline-71-0 $array-inline-72)\\n      )\\n      (canon %init_peer_id% $array-inline-72  #array-inline-72-0)\\n     )\\n    )\\n    (call %init_peer_id% (\\\"run-console\\\" \\\"print\\\") [#array-inline-72-0])\\n   )\\n  )\\n )\\n (call %init_peer_id% (\\\"errorHandlingSrv\\\" \\\"error\\\") [:error: 0])\\n)\\n\",\"config\":{\"clock\":{\"start_sec\":1,\"end_sec\":0,\"period_sec\":0},\"connections\":{\"connect\":false,\"disconnect\":false},\"blockchain\":{\"start_block\":0,\"end_block\":0}},\"ipfs\":\"/ip4/127.0.0.1/tcp/5001\"},\"chain\":{\"api_endpoint\":\"http://127.0.0.1:54726/\",\"matcher\":\"0x0\",\"workers_gas\":21000,\"wallet_key\":\"0xfdc4ba94809c7930fe4676b7d845cbf8fa5c1beae8744d959530e5073004cf3f\",\"network_id\":11},\"worker_registration_txs_dummy_data\":{\"dummy_data\":\"data for key beginning with \\\"worker_\\\"\"},\"from_block\":\"0x0\"}"]}
{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "set_trigger_config", "args": [{"clock":{"start_sec":0,"end_sec":0,"period_sec":0},"connections":{"connect":false,"disconnect":false},"blockchain":{"start_block":0,"end_block":0}}]}
{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "get_trigger_config", "args": []}
{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "get_script", "args": []}
{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "set_trigger_config", "args": [{"clock":{"start_sec":1,"end_sec":0,"period_sec":0},"connections":{"connect":false,"disconnect":false},"blockchain":{"start_block":0,"end_block":0}}]}
{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "get_u32", "args": ["counter"]}
{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "set_u32", "args": ["counter",1]}
{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "get_script", "args": []}
{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "set_string", "args": ["trigger","{\"timer\":[{\"timestamp\":1703272339}],\"peer\":[]}"]}
{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "get_string", "args": ["chain"]}
{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "get_string", "args": ["worker_settings"]}
{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "list_get_strings", "args": ["joined_deals"]}
{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "get_string", "args": ["last_seen_block"]}
{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "store_log", "args": ["[\"maybe_last_seen is\",[]]"]}
{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "get_string", "args": ["from_block"]}
{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "store_log", "args": ["[\"init: will set last seen to\",[\"0x0\"]]"]}
{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "store_log", "args": ["[\"will set last seen to\",\"0x0\"]"]}
{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "set_string", "args": ["last_seen_block","0x0"]}
{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "store_log", "args": ["[\"saved last seen\",\"0x0\"]"]}
{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "store_log", "args": ["[\"left boundary will be\",[\"0x0\"]]"]}
{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "store_log", "args": ["[\"new deals from poll:\",1,\"from block:\",\"0x0\"]"]}
{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "store_log", "args": ["decider deal_id=0xffa0611a099ab68ad7c3c67b4ca5bbbee7a58b99: [\"joining a deal from_block\",\"0x20\"]"]}
{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "store_log", "args": ["decider deal_id=0xffa0611a099ab68ad7c3c67b4ca5bbbee7a58b99: [\"created worker for deal\",\"12D3KooWEpzJEmh6CN9GnkFQzJDmVbsDBaYwTBwF3XCSXZvgv4Q8\"]"]}
{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "store_log", "args": ["decider deal_id=0xffa0611a099ab68ad7c3c67b4ca5bbbee7a58b99: [\"registered worker tx_hash\",[\"0x55bfec4a4400ca0b09e075e2b517041cd78b10021c51726cb73bcba52213fa05\"]]"]}
{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "list_push_string", "args": ["worker_registration_txs","{\"deal_id\":\"0xffa0611a099ab68ad7c3c67b4ca5bbbee7a58b99\",\"tx_hash\":\"0x55bfec4a4400ca0b09e075e2b517041cd78b10021c51726cb73bcba52213fa05\"}"]}
{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "list_push_string", "args": ["joined_deals","{\"deal_id\":\"0xffa0611a099ab68ad7c3c67b4ca5bbbee7a58b99\",\"worker_id\":\"12D3KooWEpzJEmh6CN9GnkFQzJDmVbsDBaYwTBwF3XCSXZvgv4Q8\"}"]}
{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "set_string", "args": ["0xffa0611a099ab68ad7c3c67b4ca5bbbee7a58b99","{\"left_boundary\":\"0x20\"}"]}
{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "store_log", "args": ["decider deal_id=0xffa0611a099ab68ad7c3c67b4ca5bbbee7a58b99: \"deal state saved to kv\""]}
{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "store_log", "args": ["[\"gt_set: will set last seen to\",\"0x1f\"]"]}
{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "store_log", "args": ["[\"will set last seen to\",\"0x1f\"]"]}
{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "set_string", "args": ["last_seen_block","0x1f"]}
{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "store_log", "args": ["[\"saved last seen\",\"0x1f\"]"]}
{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "store_log", "args": ["[\"polling statuses of \",1,\"deals\"]"]}
{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "store_log", "args": ["[\"found statuses for\",1,\"deals\"]"]}
{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "store_log", "args": ["decider deal_id=0xffa0611a099ab68ad7c3c67b4ca5bbbee7a58b99: [\"couldn't activate a worker\",{\"error_code\":10001,\"instruction\":\"match not-11 true\",\"message\":\"compared values do not match\"}]"]}
{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "store_log", "args": ["[\"poll_new_deals call Hex.min\",\"0x23\",\"0x1f4\"]"]}
{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "get_string", "args": ["last_seen_block"]}
{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "store_log", "args": ["[\"gt_set: will set last seen to\",\"0x23\"]"]}
{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "store_log", "args": ["[\"will set last seen to\",\"0x23\"]"]}
{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "set_string", "args": ["last_seen_block","0x23"]}
{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "store_log", "args": ["[\"saved last seen\",\"0x23\"]"]}
{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "list_get_strings", "args": ["worker_registration_txs"]}
{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "list_get_strings", "args": ["worker_registration_txs_statuses"]}
{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "store_log", "args": ["[\"unknown_txs_before_diff:\",\"all:\",[\"{\\\"deal_id\\\":\\\"0xffa0611a099ab68ad7c3c67b4ca5bbbee7a58b99\\\",\\\"tx_hash\\\":\\\"0x55bfec4a4400ca0b09e075e2b517041cd78b10021c51726cb73bcba52213fa05\\\"}\"],\"known:\",[]]"]}
{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "store_log", "args": ["[\"tracking txs for\",1,\"deals\"]"]}
{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "list_push_string", "args": ["worker_registration_txs_statuses","{\"status\":\"ok\",\"tx_info\":{\"deal_id\":\"0xffa0611a099ab68ad7c3c67b4ca5bbbee7a58b99\",\"tx_hash\":\"0x55bfec4a4400ca0b09e075e2b517041cd78b10021c51726cb73bcba52213fa05\"}}"]}
{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "get_string", "args": ["last_seen_block"]}
{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "get_u32", "args": ["counter"]}
{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "set_string", "args": ["sync_info","{\"blocks_diff\":0,\"run_updated\":1}"]}
{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "get_mailbox", "args": []}
{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "store_log", "args": ["[\"mailbox\",{\"error\":\"\",\"messages\":[],\"success\":true}]"]}
{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "set_trigger_config", "args": [{"clock":{"start_sec":1,"end_sec":0,"period_sec":0},"connections":{"connect":false,"disconnect":false},"blockchain":{"start_block":0,"end_block":0}}]}
{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "get_u32", "args": ["counter"]}
{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "set_u32", "args": ["counter",2]}
{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "get_script", "args": []}
{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "set_string", "args": ["trigger","{\"timer\":[{\"timestamp\":1703272341}],\"peer\":[]}"]}
{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "get_string", "args": ["chain"]}
{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "get_string", "args": ["worker_settings"]}
{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "list_get_strings", "args": ["joined_deals"]}
{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "get_string", "args": ["last_seen_block"]}
{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "store_log", "args": ["[\"maybe_last_seen is\",[\"0x23\"]]"]}
{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "store_log", "args": ["[\"left boundary will be\",[\"0x24\"]]"]}
{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "store_log", "args": ["[\"new deals from poll:\",2,\"from block:\",\"0x24\"]"]}
{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "store_log", "args": ["decider deal_id=0xffa0611a099ab68ad7c3c67b4ca5bbbee7a58b99: \"deal is already joined\""]}
{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "store_log", "args": ["decider deal_id=0x880a53a54785df22ba804aee81ce8bd0d45bdedc: [\"joining a deal from_block\",\"0x20\"]"]}
{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "store_log", "args": ["decider deal_id=0x880a53a54785df22ba804aee81ce8bd0d45bdedc: [\"created worker for deal\",\"12D3KooWRrbGJnqTtZ8cRS55G3CNKrMoTxkr9RA9YpHTUrmVnFmt\"]"]}
{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "store_log", "args": ["decider deal_id=0x880a53a54785df22ba804aee81ce8bd0d45bdedc: [\"registered worker tx_hash\",[\"0x55bfec4a4400ca0b09e075e2b517041cd78b10021c51726cb73bcba52213fa05\"]]"]}
{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "list_push_string", "args": ["worker_registration_txs","{\"deal_id\":\"0x880a53a54785df22ba804aee81ce8bd0d45bdedc\",\"tx_hash\":\"0x55bfec4a4400ca0b09e075e2b517041cd78b10021c51726cb73bcba52213fa05\"}"]}
{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "list_push_string", "args": ["joined_deals","{\"deal_id\":\"0x880a53a54785df22ba804aee81ce8bd0d45bdedc\",\"worker_id\":\"12D3KooWRrbGJnqTtZ8cRS55G3CNKrMoTxkr9RA9YpHTUrmVnFmt\"}"]}
{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "set_string", "args": ["0x880a53a54785df22ba804aee81ce8bd0d45bdedc","{\"left_boundary\":\"0x20\"}"]}
{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "store_log", "args": ["decider deal_id=0x880a53a54785df22ba804aee81ce8bd0d45bdedc: \"deal state saved to kv\""]}
{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "store_log", "args": ["[\"polling statuses of \",1,\"deals\"]"]}
{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "store_log", "args": ["[\"found statuses for\",1,\"deals\"]"]}
{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "store_log", "args": ["decider deal_id=0x880a53a54785df22ba804aee81ce8bd0d45bdedc: [\"couldn't activate a worker\",{\"error_code\":10001,\"instruction\":\"match not-11 true\",\"message\":\"compared values do not match\"}]"]}
{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "store_log", "args": ["[\"poll_new_deals call Hex.min\",\"0x23\",\"0x218\"]"]}
{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "get_string", "args": ["last_seen_block"]}
{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "get_string", "args": ["0xffa0611a099ab68ad7c3c67b4ca5bbbee7a58b99"]}
{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "store_log", "args": ["[\"try to find updates for\",1,\"deals\"]"]}
{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "store_log", "args": ["[\"found statuses for\",1,\"deals\"]"]}
{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "set_string", "args": ["0xffa0611a099ab68ad7c3c67b4ca5bbbee7a58b99","{\"left_boundary\":\"0x24\"}"]}
{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "store_log", "args": ["decider deal_id=0xffa0611a099ab68ad7c3c67b4ca5bbbee7a58b99: [\"couldn't activate a worker\",{\"error_code\":10001,\"instruction\":\"match not-19 true\",\"message\":\"compared values do not match\"}]"]}
{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "get_string", "args": ["0xffa0611a099ab68ad7c3c67b4ca5bbbee7a58b99"]}
{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "set_string", "args": ["removed_state:0xffa0611a099ab68ad7c3c67b4ca5bbbee7a58b99","{\"left_boundary\":\"0x24\"}"]}
{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "list_get_strings", "args": ["worker_registration_txs"]}
{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "list_get_strings", "args": ["worker_registration_txs_statuses"]}
{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "store_log", "args": ["[\"can't parse worker tx status:\",\"{\\\"config\\\":{\\\"blockchain\\\":{\\\"end_block\\\":0,\\\"start_block\\\":0},\\\"clock\\\":{\\\"end_seic\\\":0,\\\"period_sec\\\":0,\\\"start_sec\\\":1},\\\"connections\\\":{\\\"connect\\\":false,\\\"disconnect\\\":false}},\\\"ipfs\\\":\\\"/ip4/127.0.0.1/tcp/5001\\\",\\\"script\\\":\\\"(xor\\\\n (seq\\\\n  (seq\\\\n   (seq\\\\n    (seq\\\\n     (seq\\\\n      (seq\\\\n       (seq\\\\n        (seq\\\\n         (seq\\\\n          (seq\\\\n           (seq\\\\n            (seq\\\\n             (seq\\\\n              (seq\\\\n               (seq\\\\n                (seq\\\\n                 (call %init_peer_id% (\\\\\\\"getDataSrv\\\\\\\" \\\\\\\"-relay-\\\\\\\") [] -relay-)\\\\n                 (call %init_peer_id% (\\\\\\\"getDataSrv\\\\\\\" \\\\\\\"spell_id\\\\\\\") [] -spell_id-arg-)\\\\n                )\\\\n                (call %init_peer_id% (\\\\\\\"getDataSrv\\\\\\\" \\\\\\\"ipfs\\\\\\\") [] -ipfs-arg-)\\\\n               )\\\\n               (call %init_peer_id% (\\\\\\\"getDataSrv\\\\\\\" \\\\\\\"deal_id\\\\\\\") [] -deal_id-arg-)\\\\n              )\\\\n              (call %init_peer_id% (\\\\\\\"getDataSrv\\\\\\\" \\\\\\\"worker_def_cid\\\\\\\") [] -worker_def_cid-arg-)\\\\n             )\\\\n             (new $array-inline\\\\n              (seq\\\\n               (seq\\\\n                (seq\\\\n                 (seq\\\\n                  (seq\\\\n                   (ap \\\\\\\"worker\\\\\\\" $array-inline)\\\\n                   (ap -spell_id-arg- $array-inline)\\\\n                  )\\\\n                  (ap -deal_id-arg- $array-inline)\\\\n                 )\\\\n                 (ap -worker_def_cid-arg- $array-inline)\\\\n                )\\\\n                (ap -ipfs-arg- $array-inline)\\\\n               )\\\\n               (canon %init_peer_id% $array-inline  #array-inline-0)\\\\n              )\\\\n             )\\\\n            )\\\\n            (call %init_peer_id% (\\\\\\\"run-console\\\\\\\" \\\\\\\"print\\\\\\\") [#array-inline-0])\\\\n           )\\\\n           (new $array-inline-1\\\\n            (seq\\\\n             (seq\\\\n              (ap \\\\\\\"Installing worker for deal\\\\\\\" $array-inline-1)\\\\n              (ap -deal_id-arg- $array-inline-1)\\\\n             )\\\\n             (canon %init_peer_id% $array-inline-1  #array-inline-1-0)\\\\n            )\\\\n           )\\\\n          )\\\\n          (call %init_peer_id% (\\\\\\\"debug\\\\\\\" \\\\\\\"stringify\\\\\\\") [#array-inline-1-0] ret)\\\\n         )\\\\n         (call %init_peer_id% (\\\\\\\"srv\\\\\\\" \\\\\\\"resolve_alias\\\\\\\") [\\\\\\\"spell\\\\\\\"] ret-0)\\\\n        )\\\\n        (par\\\\n         (call %init_peer_id% (ret-0 \\\\\\\"store_log\\\\\\\") [ret] ret-1)\\\\n         (seq\\\\n          (new $array-inline-2\\\\n           (seq\\\\n            (seq\\\\n             (ap ret-0 $array-inline-2)\\\\n             (ap #array-inline-1-0 $array-inline-2)\\\\n            )\\\\n            (canon %init_peer_id% $array-inline-2  #array-inline-2-0)\\\\n           )\\\\n          )\\\\n          (call %init_peer_id% (\\\\\\\"run-console\\\\\\\" \\\\\\\"print\\\\\\\") [#array-inline-2-0])\\\\n         )\\\\n        )\\\\n       )\\\\n       (xor\\\\n        (seq\\\\n         (call %init_peer_id% (\\\\\\\"aqua-ipfs\\\\\\\" \\\\\\\"cat_from\\\\\\\") [-worker_def_cid-arg- -ipfs-arg-] ret-2)\\\\n         (new -if-else-error-\\\\n          (new -else-error-\\\\n           (new -if-error-\\\\n            (xor\\\\n             (match ret-2.$.success true\\\\n              (seq\\\\n               (seq\\\\n                (seq\\\\n                 (seq\\\\n                  (seq\\\\n                   (seq\\\\n                    (seq\\\\n                     (seq\\\\n                      (seq\\\\n                       (seq\\\\n                        (seq\\\\n                         (call %init_peer_id% (\\\\\\\"json\\\\\\\" \\\\\\\"parse\\\\\\\") [ret-2.$.contents] ret-3)\\\\n                         (new $array-inline-3\\\\n                          (seq\\\\n                           (seq\\\\n                            (seq\\\\n                             (ap \\\\\\\"parsed worker definition\\\\\\\" $array-inline-3)\\\\n                             (ap -worker_def_cid-arg- $array-inline-3)\\\\n                            )\\\\n                            (ap ret-3 $array-inline-3)\\\\n                           )\\\\n                           (canon %init_peer_id% $array-inline-3  #array-inline-3-0)\\\\n                          )\\\\n                         )\\\\n                        )\\\\n                        (call %init_peer_id% (\\\\\\\"debug\\\\\\\" \\\\\\\"stringify\\\\\\\") [#array-inline-3-0] ret-4)\\\\n                       )\\\\n                       (call %init_peer_id% (\\\\\\\"srv\\\\\\\" \\\\\\\"resolve_alias\\\\\\\") [\\\\\\\"spell\\\\\\\"] ret-5)\\\\n                      )\\\\n                      (par\\\\n                       (call %init_peer_id% (ret-5 \\\\\\\"store_log\\\\\\\") [ret-4] ret-6)\\\\n                       (seq\\\\n                        (new $array-inline-4\\\\n                         (seq\\\\n                          (seq\\\\n                           (ap ret-5 $array-inline-4)\\\\n                           (ap #array-inline-3-0 $array-inline-4)\\\\n                          )\\\\n                          (canon %init_peer_id% $array-inline-4  #array-inline-4-0)\\\\n                         )\\\\n                        )\\\\n                        (call %init_peer_id% (\\\\\\\"run-console\\\\\\\" \\\\\\\"print\\\\\\\") [#array-inline-4-0])\\\\n                       )\\\\n                      )\\\\n                     )\\\\n                     (fold ret-3.$.services s-0\\\\n                      (seq\\\\n                       (xor\\\\n                        (seq\\\\n                         (seq\\\\n                          (new $hashes-0\\\\n                           (seq\\\\n                            (seq\\\\n                             (fold s-0.$.modules m-0\\\\n                              (seq\\\\n                               (seq\\\\n                                (seq\\\\n                                 (seq\\\\n                                  (call %init_peer_id% (\\\\\\\"aqua-ipfs\\\\\\\" \\\\\\\"get_from\\\\\\\") [m-0.$.wasm -ipfs-arg-] ret-7)\\\\n                                  (call %init_peer_id% (\\\\\\\"aqua-ipfs\\\\\\\" \\\\\\\"cat_from\\\\\\\") [m-0.$.config -ipfs-arg-] ret-8)\\\\n                                 )\\\\n                                 (xor\\\\n                                  (match ret-7.$.success false\\\\n                                   (ap ret-7.$.success and)\\\\n                                  )\\\\n                                  (ap ret-8.$.success and)\\\\n                                 )\\\\n                                )\\\\n                                (new -if-else-error-\\\\n                                 (new -else-error-\\\\n                                  (new -if-error-\\\\n                                   (xor\\\\n                                    (match and true\\\\n                                     (seq\\\\n                                      (seq\\\\n                                       (call %init_peer_id% (\\\\\\\"json\\\\\\\" \\\\\\\"parse\\\\\\\") [ret-8.$.contents] ret-9)\\\\n                                       (call %init_peer_id% (\\\\\\\"dist\\\\\\\" \\\\\\\"add_module_from_vault\\\\\\\") [ret-7.$.path ret-9] ret-10)\\\\n                                      )\\\\n                                      (ap ret-10 $hashes-0)\\\\n                                     )\\\\n                                    )\\\\n                                    (seq\\\\n                                     (ap :error: -if-error-)\\\\n                                     (xor\\\\n                                      (match :error:.$.error_code 10001\\\\n                                       (seq\\\\n                                        (seq\\\\n                                         (seq\\\\n                                          (new $array-inline-5\\\\n                                           (seq\\\\n                                            (seq\\\\n                                             (seq\\\\n                                              (seq\\\\n                                               (seq\\\\n                                                (seq\\\\n                                                 (new $array-inline-6\\\\n                                                  (seq\\\\n                                                   (seq\\\\n                                                    (seq\\\\n                                                     (ap \\\\\\\"wasm\\\\\\\" $array-inline-6)\\\\n                                                     (ap m-0.$.wasm $array-inline-6)\\\\n                                                    )\\\\n                                                    (ap ret-7 $array-inline-6)\\\\n                                                   )\\\\n                                                   (canon %init_peer_id% $array-inline-6  #array-inline-6-0)\\\\n                                                  )\\\\n                                                 )\\\\n                                                 (new $array-inline-7\\\\n                                                  (seq\\\\n                                                   (seq\\\\n                                                    (seq\\\\n                                                     (ap \\\\\\\"config\\\\\\\" $array-inline-7)\\\\n                                                     (ap m-0.$.config $array-inline-7)\\\\n                                                    )\\\\n                                                    (ap ret-8 $array-inline-7)\\\\n                                                   )\\\\n                                                   (canon %init_peer_id% $array-inline-7  #array-inline-7-0)\\\\n                                                  )\\\\n                                                 )\\\\n                                                )\\\\n                                                (ap s-0.$.name $array-inline-5)\\\\n                                               )\\\\n                                               (ap \\\\\\\"error retrieving module\\\\\\\" $array-inline-5)\\\\n                                              )\\\\n                                              (ap #array-inline-6-0 $array-inline-5)\\\\n                                             )\\\\n                                             (ap #array-inline-7-0 $array-inline-5)\\\\n                                            )\\\\n                                            (canon %init_peer_id% $array-inline-5  #array-inline-5-0)\\\\n                                           )\\\\n                                          )\\\\n                                          (call %init_peer_id% (\\\\\\\"debug\\\\\\\" \\\\\\\"stringify\\\\\\\") [#array-inline-5-0] ret-11)\\\\n                                         )\\\\n                                         (call %init_peer_id% (\\\\\\\"srv\\\\\\\" \\\\\\\"resolve_alias\\\\\\\") [\\\\\\\"spell\\\\\\\"] ret-12)\\\\n                                        )\\\\n                                        (par\\\\n                                         (call %init_peer_id% (ret-12 \\\\\\\"store_log\\\\\\\") [ret-11] ret-13)\\\\n                                         (seq\\\\n                                          (new $array-inline-8\\\\n                                           (seq\\\\n                                            (seq\\\\n                                             (ap ret-12 $array-inline-8)\\\\n                                             (ap #array-inline-5-0 $array-inline-8)\\\\n                                            )\\\\n                                            (canon %init_peer_id% $array-inline-8  #array-inline-8-0)\\\\n                                           )\\\\n                                          )\\\\n                                          (call %init_peer_id% (\\\\\\\"run-console\\\\\\\" \\\\\\\"print\\\\\\\") [#array-inline-8-0])\\\\n                                         )\\\\n                                        )\\\\n                                       )\\\\n                                      )\\\\n                                      (seq\\\\n                                       (seq\\\\n                                        (ap :error: -else-error-)\\\\n                                        (xor\\\\n                                         (match :error:.$.error_code 10001\\\\n                                          (ap -if-error- -if-else-error-)\\\\n                                         )\\\\n                                         (ap -else-error- -if-else-error-)\\\\n                                        )\\\\n                                       )\\\\n                                       (fail -if-else-error-)\\\\n                                      )\\\\n                                     )\\\\n                                    )\\\\n                                   )\\\\n                                  )\\\\n                                 )\\\\n                                )\\\\n                               )\\\\n                               (next m-0)\\\\n                              )\\\\n                             )\\\\n                             (canon %init_peer_id% $hashes-0  #-hashes-fix-0)\\\\n                            )\\\\n                            (ap #-hashes-fix-0 -hashes-flat-0)\\\\n                           )\\\\n                          )\\\\n                          (par\\\\n                           (seq\\\\n                            (ap -hashes-flat-0 -hashes-flat-0_to_functor)\\\\n                            (ap -hashes-flat-0_to_functor.length -hashes-flat-0_length)\\\\n                           )\\\\n                           (seq\\\\n                            (seq\\\\n                             (ap s-0.$.modules s-0_flat)\\\\n                             (ap s-0_flat s-0_flat_to_functor)\\\\n                            )\\\\n                            (ap s-0_flat_to_functor.length s-0_flat_length)\\\\n                           )\\\\n                          )\\\\n                         )\\\\n                         (new -if-else-error-\\\\n                          (new -else-error-\\\\n                           (new -if-error-\\\\n                            (xor\\\\n                             (match -hashes-flat-0_length s-0_flat_length\\\\n                              (seq\\\\n                               (seq\\\\n                                (seq\\\\n                                 (seq\\\\n                                  (call %init_peer_id% (\\\\\\\"dist\\\\\\\" \\\\\\\"make_blueprint\\\\\\\") [s-0.$.name -hashes-flat-0] ret-14)\\\\n                                  (call %init_peer_id% (\\\\\\\"dist\\\\\\\" \\\\\\\"add_blueprint\\\\\\\") [ret-14] ret-15)\\\\n                                 )\\\\n                                 (new $result\\\\n                                  (seq\\\\n                                   (seq\\\\n                                    (seq\\\\n                                     (call %init_peer_id% (\\\\\\\"worker-spell\\\\\\\" \\\\\\\"get_string\\\\\\\") [s-0.$.name] ret-16)\\\\n                                     (xor\\\\n                                      (match ret-16.$.success false\\\\n                                       (ap ret-16.$.success and-0)\\\\n                                      )\\\\n                                      (ap ret-16.$.absent and-0)\\\\n                                     )\\\\n                                    )\\\\n                                    (new -if-else-error-\\\\n                                     (new -else-error-\\\\n                                      (new -if-error-\\\\n                                       (xor\\\\n                                        (match and-0 true\\\\n                                         (ap false $result)\\\\n                                        )\\\\n                                        (seq\\\\n                                         (ap :error: -if-error-)\\\\n                                         (xor\\\\n                                          (match :error:.$.error_code 10001\\\\n                                           (seq\\\\n                                            (seq\\\\n                                             (ap ret-16.$.value ret-16_flat)\\\\n                                             (call %init_peer_id% (\\\\\\\"srv\\\\\\\" \\\\\\\"info\\\\\\\") [ret-16_flat] ret-17)\\\\n                                            )\\\\n                                            (new -if-else-error-\\\\n                                             (new -else-error-\\\\n                                              (new -if-error-\\\\n                                               (xor\\\\n                                                (match ret-17.$.blueprint_id ret-15\\\\n                                                 (ap true $result)\\\\n                                                )\\\\n                                                (seq\\\\n                                                 (ap :error: -if-error-)\\\\n                                                 (xor\\\\n                                                  (match :error:.$.error_code 10001\\\\n                                                   (seq\\\\n                                                    (seq\\\\n                                                     (seq\\\\n                                                      (seq\\\\n                                                       (seq\\\\n                                                        (new $array-inline-9\\\\n                                                         (seq\\\\n                                                          (seq\\\\n                                                           (ap s-0.$.name $array-inline-9)\\\\n                                                           (ap \\\\\\\"blueprint changed, need to redeploy\\\\\\\" $array-inline-9)\\\\n                                                          )\\\\n                                                          (canon %init_peer_id% $array-inline-9  #array-inline-9-0)\\\\n                                                         )\\\\n                                                        )\\\\n                                                        (call %init_peer_id% (\\\\\\\"debug\\\\\\\" \\\\\\\"stringify\\\\\\\") [#array-inline-9-0] ret-18)\\\\n                                                       )\\\\n                                                       (call %init_peer_id% (\\\\\\\"srv\\\\\\\" \\\\\\\"resolve_alias\\\\\\\") [\\\\\\\"spell\\\\\\\"] ret-19)\\\\n                                                      )\\\\n                                                      (par\\\\n                                                       (call %init_peer_id% (ret-19 \\\\\\\"store_log\\\\\\\") [ret-18] ret-20)\\\\n                                                       (seq\\\\n                                                        (new $array-inline-10\\\\n                                                         (seq\\\\n                                                          (seq\\\\n                                                           (ap ret-19 $array-inline-10)\\\\n                                                           (ap #array-inline-9-0 $array-inline-10)\\\\n                                                          )\\\\n                                                          (canon %init_peer_id% $array-inline-10  #array-inline-10-0)\\\\n                                                         )\\\\n                                                        )\\\\n                                                        (call %init_peer_id% (\\\\\\\"run-console\\\\\\\" \\\\\\\"print\\\\\\\") [#array-inline-10-0])\\\\n                                                       )\\\\n                                                      )\\\\n                                                     )\\\\n                                                     (xor\\\\n                                                      (seq\\\\n                                                       (seq\\\\n                                                        (seq\\\\n                                                         (seq\\\\n                                                          (seq\\\\n                                                           (seq\\\\n                                                            (seq\\\\n                                                             (seq\\\\n                                                              (new $array-inline-11\\\\n                                                               (seq\\\\n                                                                (seq\\\\n                                                                 (seq\\\\n                                                                  (ap s-0.$.name $array-inline-11)\\\\n                                                                  (ap \\\\\\\"removing old service\\\\\\\" $array-inline-11)\\\\n                                                                 )\\\\n                                                                 (ap ret-16_flat $array-inline-11)\\\\n                                                                )\\\\n                                                                (canon %init_peer_id% $array-inline-11  #array-inline-11-0)\\\\n                                                               )\\\\n                                                              )\\\\n                                                              (call %init_peer_id% (\\\\\\\"debug\\\\\\\" \\\\\\\"stringify\\\\\\\") [#array-inline-11-0] ret-21)\\\\n                                                             )\\\\n                                                             (call %init_peer_id% (\\\\\\\"srv\\\\\\\" \\\\\\\"resolve_alias\\\\\\\") [\\\\\\\"spell\\\\\\\"] ret-22)\\\\n                                                            )\\\\n                                                            (par\\\\n                                                             (call %init_peer_id% (ret-22 \\\\\\\"store_log\\\\\\\") [ret-21] ret-23)\\\\n                                                             (seq\\\\n                                                              (new $array-inline-12\\\\n                                                               (seq\\\\n                                                                (seq\\\\n                                                                 (ap ret-22 $array-inline-12)\\\\n                                                                 (ap #array-inline-11-0 $array-inline-12)\\\\n                                                                )\\\\n                                                                (canon %init_peer_id% $array-inline-12  #array-inline-12-0)\\\\n                                                               )\\\\n                                                              )\\\\n                                                              (call %init_peer_id% (\\\\\\\"run-console\\\\\\\" \\\\\\\"print\\\\\\\") [#array-inline-12-0])\\\\n                                                             )\\\\n                                                            )\\\\n                                                           )\\\\n                                                           (call %init_peer_id% (\\\\\\\"srv\\\\\\\" \\\\\\\"remove\\\\\\\") [ret-16_flat])\\\\n                                                          )\\\\n                                                          (new $array-inline-13\\\\n                                                           (seq\\\\n                                                            (seq\\\\n                                                             (seq\\\\n                                                              (ap s-0.$.name $array-inline-13)\\\\n                                                              (ap \\\\\\\"old service successfully removed\\\\\\\" $array-inline-13)\\\\n                                                             )\\\\n                                                             (ap ret-16_flat $array-inline-13)\\\\n                                                            )\\\\n                                                            (canon %init_peer_id% $array-inline-13  #array-inline-13-0)\\\\n                                                           )\\\\n                                                          )\\\\n                                                         )\\\\n                                                         (call %init_peer_id% (\\\\\\\"debug\\\\\\\" \\\\\\\"stringify\\\\\\\") [#array-inline-13-0] ret-24)\\\\n                                                        )\\\\n                                                        (call %init_peer_id% (\\\\\\\"srv\\\\\\\" \\\\\\\"resolve_alias\\\\\\\") [\\\\\\\"spell\\\\\\\"] ret-25)\\\\n                                                       )\\\\n                                                       (par\\\\n                                                        (call %init_peer_id% (ret-25 \\\\\\\"store_log\\\\\\\") [ret-24] ret-26)\\\\n                                                        (seq\\\\n                                                         (new $array-inline-14\\\\n                                                          (seq\\\\n                                                           (seq\\\\n                                                            (ap ret-25 $array-inline-14)\\\\n                                                            (ap #array-inline-13-0 $array-inline-14)\\\\n                                                           )\\\\n                                                           (canon %init_peer_id% $array-inline-14  #array-inline-14-0)\\\\n                                                          )\\\\n                                                         )\\\\n                                                         (call %init_peer_id% (\\\\\\\"run-console\\\\\\\" \\\\\\\"print\\\\\\\") [#array-inline-14-0])\\\\n                                                        )\\\\n                                                       )\\\\n                                                      )\\\\n                                                      (seq\\\\n                                                       (seq\\\\n                                                        (seq\\\\n                                                         (new $array-inline-15\\\\n                                                          (seq\\\\n                                                           (seq\\\\n                                                            (seq\\\\n                                                             (ap \\\\\\\"Error removing service\\\\\\\" $array-inline-15)\\\\n                                                             (ap s-0.$.name $array-inline-15)\\\\n                                                            )\\\\n                                                            (ap :error: $array-inline-15)\\\\n                                                           )\\\\n                                                           (canon %init_peer_id% $array-inline-15  #array-inline-15-0)\\\\n                                                          )\\\\n                                                         )\\\\n                                                         (call %init_peer_id% (\\\\\\\"debug\\\\\\\" \\\\\\\"stringify\\\\\\\") [#array-inline-15-0] ret-27)\\\\n                                                        )\\\\n                                                        (call %init_peer_id% (\\\\\\\"srv\\\\\\\" \\\\\\\"resolve_alias\\\\\\\") [\\\\\\\"spell\\\\\\\"] ret-28)\\\\n                                                       )\\\\n                                                       (par\\\\n                                                        (call %init_peer_id% (ret-28 \\\\\\\"store_log\\\\\\\") [ret-27] ret-29)\\\\n                                                        (seq\\\\n                                                         (new $array-inline-16\\\\n                                                          (seq\\\\n                                                           (seq\\\\n                                                            (ap ret-28 $array-inline-16)\\\\n                                                            (ap #array-inline-15-0 $array-inline-16)\\\\n                                                           )\\\\n                                                           (canon %init_peer_id% $array-inline-16  #array-inline-16-0)\\\\n                                                          )\\\\n                                                         )\\\\n                                                         (call %init_peer_id% (\\\\\\\"run-console\\\\\\\" \\\\\\\"print\\\\\\\") [#array-inline-16-0])\\\\n                                                        )\\\\n                                                       )\\\\n                                                      )\\\\n                                                     )\\\\n                                                    )\\\\n                                                    (ap false $result)\\\\n                                                   )\\\\n                                                  )\\\\n                                                  (seq\\\\n                                                   (seq\\\\n                                                    (ap :error: -else-error-)\\\\n                                                    (xor\\\\n                                                     (match :error:.$.error_code 10001\\\\n                                                      (ap -if-error- -if-else-error-)\\\\n                                                     )\\\\n                                                     (ap -else-error- -if-else-error-)\\\\n                                                    )\\\\n                                                   )\\\\n                                                   (fail -if-else-error-)\\\\n                                                  )\\\\n                                                 )\\\\n                                                )\\\\n                                               )\\\\n                                              )\\\\n                                             )\\\\n                                            )\\\\n                                           )\\\\n                                          )\\\\n                                          (seq\\\\n                                           (seq\\\\n                                            (ap :error: -else-error-)\\\\n                                            (xor\\\\n                                             (match :error:.$.error_code 10001\\\\n                                              (ap -if-error- -if-else-error-)\\\\n                                             )\\\\n                                             (ap -else-error- -if-else-error-)\\\\n                                            )\\\\n                                           )\\\\n                                           (fail -if-else-error-)\\\\n                                          )\\\\n                                         )\\\\n                                        )\\\\n                                       )\\\\n                                      )\\\\n                                     )\\\\n                                    )\\\\n                                   )\\\\n                                   (new $result_test\\\\n                                    (seq\\\\n                                     (seq\\\\n                                      (fold $result result_fold_var\\\\n                                       (seq\\\\n                                        (seq\\\\n                                         (ap result_fold_var $result_test)\\\\n                                         (canon %init_peer_id% $result_test  #result_iter_canon)\\\\n                                        )\\\\n                                        (xor\\\\n                                         (match #result_iter_canon.length 1\\\\n                                          (null)\\\\n                                         )\\\\n                                         (next result_fold_var)\\\\n                                        )\\\\n                                       )\\\\n                                       (never)\\\\n                                      )\\\\n                                      (canon %init_peer_id% $result_test  #result_result_canon)\\\\n                                     )\\\\n                                     (ap #result_result_canon result_gate)\\\\n                                    )\\\\n                                   )\\\\n                                  )\\\\n                                 )\\\\n                                )\\\\n                                (xor\\\\n                                 (match result_gate.$.[0] true\\\\n                                  (ap false not)\\\\n                                 )\\\\n                                 (ap true not)\\\\n                                )\\\\n                               )\\\\n                               (new -if-else-error-\\\\n                                (new -else-error-\\\\n                                 (new -if-error-\\\\n                                  (xor\\\\n                                   (match not true\\\\n                                    (seq\\\\n                                     (seq\\\\n                                      (seq\\\\n                                       (seq\\\\n                                        (seq\\\\n                                         (seq\\\\n                                          (seq\\\\n                                           (seq\\\\n                                            (seq\\\\n                                             (seq\\\\n                                              (seq\\\\n                                               (seq\\\\n                                                (call %init_peer_id% (\\\\\\\"peer\\\\\\\" \\\\\\\"timestamp_sec\\\\\\\") [] ret-30)\\\\n                                                (new %Status_obj_map\\\\n                                                 (seq\\\\n                                                  (seq\\\\n                                                   (seq\\\\n                                                    (ap (\\\\\\\"message\\\\\\\" \\\\\\\"\\\\\\\") %Status_obj_map)\\\\n                                                    (ap (\\\\\\\"state\\\\\\\" \\\\\\\"INSTALLATION_IN_PROGRESS\\\\\\\") %Status_obj_map)\\\\n                                                   )\\\\n                                                   (ap (\\\\\\\"timestamp\\\\\\\" ret-30) %Status_obj_map)\\\\n                                                  )\\\\n                                                  (canon %init_peer_id% %Status_obj_map  Status_obj)\\\\n                                                 )\\\\n                                                )\\\\n                                               )\\\\n                                               (call %init_peer_id% (\\\\\\\"json\\\\\\\" \\\\\\\"stringify\\\\\\\") [Status_obj] ret-31)\\\\n                                              )\\\\n                                              (call %init_peer_id% (\\\\\\\"worker-spell\\\\\\\" \\\\\\\"list_push_string\\\\\\\") [\\\\\\\"__installation_spell_status__\\\\\\\" ret-31] ret-32)\\\\n                                             )\\\\n                                             (call %init_peer_id% (\\\\\\\"srv\\\\\\\" \\\\\\\"create\\\\\\\") [ret-15] ret-33)\\\\n                                            )\\\\n                                            (new $array-inline-17\\\\n                                             (seq\\\\n                                              (seq\\\\n                                               (seq\\\\n                                                (ap \\\\\\\"Created service\\\\\\\" $array-inline-17)\\\\n                                                (ap s-0.$.name $array-inline-17)\\\\n                                               )\\\\n                                               (ap ret-33 $array-inline-17)\\\\n                                              )\\\\n                                              (canon %init_peer_id% $array-inline-17  #array-inline-17-0)\\\\n                                             )\\\\n                                            )\\\\n                                           )\\\\n                                           (call %init_peer_id% (\\\\\\\"debug\\\\\\\" \\\\\\\"stringify\\\\\\\") [#array-inline-17-0] ret-34)\\\\n                                          )\\\\n                                          (call %init_peer_id% (\\\\\\\"srv\\\\\\\" \\\\\\\"resolve_alias\\\\\\\") [\\\\\\\"spell\\\\\\\"] ret-35)\\\\n                                         )\\\\n                                         (par\\\\n                                          (call %init_peer_id% (ret-35 \\\\\\\"store_log\\\\\\\") [ret-34] ret-36)\\\\n                                          (seq\\\\n                                           (new $array-inline-18\\\\n                                            (seq\\\\n                                             (seq\\\\n                                              (ap ret-35 $array-inline-18)\\\\n                                              (ap #array-inline-17-0 $array-inline-18)\\\\n                                             )\\\\n                                             (canon %init_peer_id% $array-inline-18  #array-inline-18-0)\\\\n                                            )\\\\n                                           )\\\\n                                           (call %init_peer_id% (\\\\\\\"run-console\\\\\\\" \\\\\\\"print\\\\\\\") [#array-inline-18-0])\\\\n                                          )\\\\n                                         )\\\\n                                        )\\\\n                                        (xor\\\\n                                         (call %init_peer_id% (\\\\\\\"srv\\\\\\\" \\\\\\\"add_alias\\\\\\\") [s-0.$.name ret-33])\\\\n                                         (seq\\\\n                                          (seq\\\\n                                           (seq\\\\n                                            (new $array-inline-19\\\\n                                             (seq\\\\n                                              (seq\\\\n                                               (seq\\\\n                                                (seq\\\\n                                                 (ap \\\\\\\"Error creating alias for deployed service\\\\\\\" $array-inline-19)\\\\n                                                 (ap s-0.$.name $array-inline-19)\\\\n                                                )\\\\n                                                (ap ret-33 $array-inline-19)\\\\n                                               )\\\\n                                               (ap :error: $array-inline-19)\\\\n                                              )\\\\n                                              (canon %init_peer_id% $array-inline-19  #array-inline-19-0)\\\\n                                             )\\\\n                                            )\\\\n                                            (call %init_peer_id% (\\\\\\\"debug\\\\\\\" \\\\\\\"stringify\\\\\\\") [#array-inline-19-0] ret-37)\\\\n                                           )\\\\n                                           (call %init_peer_id% (\\\\\\\"srv\\\\\\\" \\\\\\\"resolve_alias\\\\\\\") [\\\\\\\"spell\\\\\\\"] ret-38)\\\\n                                          )\\\\n                                          (par\\\\n                                           (call %init_peer_id% (ret-38 \\\\\\\"store_log\\\\\\\") [ret-37] ret-39)\\\\n                                           (seq\\\\n                                            (new $array-inline-20\\\\n                                             (seq\\\\n                                              (seq\\\\n                                               (ap ret-38 $array-inline-20)\\\\n                                               (ap #array-inline-19-0 $array-inline-20)\\\\n                                              )\\\\n                                              (canon %init_peer_id% $array-inline-20  #array-inline-20-0)\\\\n                                             )\\\\n                                            )\\\\n                                            (call %init_peer_id% (\\\\\\\"run-console\\\\\\\" \\\\\\\"print\\\\\\\") [#array-inline-20-0])\\\\n                                           )\\\\n                                          )\\\\n                                         )\\\\n                                        )\\\\n                                       )\\\\n                                       (call %init_peer_id% (\\\\\\\"worker-spell\\\\\\\" \\\\\\\"set_string\\\\\\\") [s-0.$.name ret-33] ret-40)\\\\n                                      )\\\\n                                      (call %init_peer_id% (\\\\\\\"op\\\\\\\" \\\\\\\"concat_strings\\\\\\\") [\\\\\\\"blueprint:\\\\\\\" s-0.$.name] ret-41)\\\\n                                     )\\\\n                                     (call %init_peer_id% (\\\\\\\"worker-spell\\\\\\\" \\\\\\\"set_string\\\\\\\") [ret-41 ret-15] ret-42)\\\\n                                    )\\\\n                                   )\\\\n                                   (seq\\\\n                                    (ap :error: -if-error-)\\\\n                                    (xor\\\\n                                     (match :error:.$.error_code 10001\\\\n                                      (seq\\\\n                                       (seq\\\\n                                        (seq\\\\n                                         (new $array-inline-21\\\\n                                          (seq\\\\n                                           (seq\\\\n                                            (ap s-0.$.name $array-inline-21)\\\\n                                            (ap \\\\\\\"service is already deployed, doing nothing\\\\\\\" $array-inline-21)\\\\n                                           )\\\\n                                           (canon %init_peer_id% $array-inline-21  #array-inline-21-0)\\\\n                                          )\\\\n                                         )\\\\n                                         (call %init_peer_id% (\\\\\\\"debug\\\\\\\" \\\\\\\"stringify\\\\\\\") [#array-inline-21-0] ret-43)\\\\n                                        )\\\\n                                        (call %init_peer_id% (\\\\\\\"srv\\\\\\\" \\\\\\\"resolve_alias\\\\\\\") [\\\\\\\"spell\\\\\\\"] ret-44)\\\\n                                       )\\\\n                                       (par\\\\n                                        (call %init_peer_id% (ret-44 \\\\\\\"store_log\\\\\\\") [ret-43] ret-45)\\\\n                                        (seq\\\\n                                         (new $array-inline-22\\\\n                                          (seq\\\\n                                           (seq\\\\n                                            (ap ret-44 $array-inline-22)\\\\n                                            (ap #array-inline-21-0 $array-inline-22)\\\\n                                           )\\\\n                                           (canon %init_peer_id% $array-inline-22  #array-inline-22-0)\\\\n                                          )\\\\n                                         )\\\\n                                         (call %init_peer_id% (\\\\\\\"run-console\\\\\\\" \\\\\\\"print\\\\\\\") [#array-inline-22-0])\\\\n                                        )\\\\n                                       )\\\\n                                      )\\\\n                                     )\\\\n                                     (seq\\\\n                                      (seq\\\\n                                       (ap :error: -else-error-)\\\\n                                       (xor\\\\n                                        (match :error:.$.error_code 10001\\\\n                                         (ap -if-error- -if-else-error-)\\\\n                                        )\\\\n                                        (ap -else-error- -if-else-error-)\\\\n                                       )\\\\n                                      )\\\\n                                      (fail -if-else-error-)\\\\n                                     )\\\\n                                    )\\\\n                                   )\\\\n                                  )\\\\n                                 )\\\\n                                )\\\\n                               )\\\\n                              )\\\\n                             )\\\\n                             (seq\\\\n                              (ap :error: -if-error-)\\\\n                              (xor\\\\n                               (match :error:.$.error_code 10001\\\\n                                (seq\\\\n                                 (seq\\\\n                                  (seq\\\\n                                   (new $array-inline-23\\\\n                                    (seq\\\\n                                     (seq\\\\n                                      (ap s-0.$.name $array-inline-23)\\\\n                                      (ap \\\\\\\"error retrieving some of the modules, see above\\\\\\\" $array-inline-23)\\\\n                                     )\\\\n                                     (canon %init_peer_id% $array-inline-23  #array-inline-23-0)\\\\n                                    )\\\\n                                   )\\\\n                                   (call %init_peer_id% (\\\\\\\"debug\\\\\\\" \\\\\\\"stringify\\\\\\\") [#array-inline-23-0] ret-46)\\\\n                                  )\\\\n                                  (call %init_peer_id% (\\\\\\\"srv\\\\\\\" \\\\\\\"resolve_alias\\\\\\\") [\\\\\\\"spell\\\\\\\"] ret-47)\\\\n                                 )\\\\n                                 (par\\\\n                                  (call %init_peer_id% (ret-47 \\\\\\\"store_log\\\\\\\") [ret-46] ret-48)\\\\n                                  (seq\\\\n                                   (new $array-inline-24\\\\n                                    (seq\\\\n                                     (seq\\\\n                                      (ap ret-47 $array-inline-24)\\\\n                                      (ap #array-inline-23-0 $array-inline-24)\\\\n                                     )\\\\n                                     (canon %init_peer_id% $array-inline-24  #array-inline-24-0)\\\\n                                    )\\\\n                                   )\\\\n                                   (call %init_peer_id% (\\\\\\\"run-console\\\\\\\" \\\\\\\"print\\\\\\\") [#array-inline-24-0])\\\\n                                  )\\\\n                                 )\\\\n                                )\\\\n                               )\\\\n                               (seq\\\\n                                (seq\\\\n                                 (ap :error: -else-error-)\\\\n                                 (xor\\\\n                                  (match :error:.$.error_code 10001\\\\n                                   (ap -if-error- -if-else-error-)\\\\n                                  )\\\\n                                  (ap -else-error- -if-else-error-)\\\\n                                 )\\\\n                                )\\\\n                                (fail -if-else-error-)\\\\n                               )\\\\n                              )\\\\n                             )\\\\n                            )\\\\n                           )\\\\n                          )\\\\n                         )\\\\n                        )\\\\n                        (seq\\\\n                         (seq\\\\n                          (seq\\\\n                           (new $array-inline-25\\\\n                            (seq\\\\n                             (seq\\\\n                              (seq\\\\n                               (ap s-0.$.name $array-inline-25)\\\\n                               (ap \\\\\\\"error deploying service\\\\\\\" $array-inline-25)\\\\n                              )\\\\n                              (ap :error: $array-inline-25)\\\\n                             )\\\\n                             (canon %init_peer_id% $array-inline-25  #array-inline-25-0)\\\\n                            )\\\\n                           )\\\\n                           (call %init_peer_id% (\\\\\\\"debug\\\\\\\" \\\\\\\"stringify\\\\\\\") [#array-inline-25-0] ret-49)\\\\n                          )\\\\n                          (call %init_peer_id% (\\\\\\\"srv\\\\\\\" \\\\\\\"resolve_alias\\\\\\\") [\\\\\\\"spell\\\\\\\"] ret-50)\\\\n                         )\\\\n                         (par\\\\n                          (call %init_peer_id% (ret-50 \\\\\\\"store_log\\\\\\\") [ret-49] ret-51)\\\\n                          (seq\\\\n                           (new $array-inline-26\\\\n                            (seq\\\\n                             (seq\\\\n                              (ap ret-50 $array-inline-26)\\\\n                              (ap #array-inline-25-0 $array-inline-26)\\\\n                             )\\\\n                             (canon %init_peer_id% $array-inline-26  #array-inline-26-0)\\\\n                            )\\\\n                           )\\\\n                           (call %init_peer_id% (\\\\\\\"run-console\\\\\\\" \\\\\\\"print\\\\\\\") [#array-inline-26-0])\\\\n                          )\\\\n                         )\\\\n                        )\\\\n                       )\\\\n                       (next s-0)\\\\n                      )\\\\n                     )\\\\n                    )\\\\n                    (fold ret-3.$.spells sp-0\\\\n                     (seq\\\\n                      (xor\\\\n                       (seq\\\\n                        (seq\\\\n                         (seq\\\\n                          (seq\\\\n                           (new $array-inline-27\\\\n                            (seq\\\\n                             (seq\\\\n                              (ap \\\\\\\"Deploying spell\\\\\\\" $array-inline-27)\\\\n                              (ap sp-0.$.name $array-inline-27)\\\\n                             )\\\\n                             (canon %init_peer_id% $array-inline-27  #array-inline-27-0)\\\\n                            )\\\\n                           )\\\\n                           (call %init_peer_id% (\\\\\\\"debug\\\\\\\" \\\\\\\"stringify\\\\\\\") [#array-inline-27-0] ret-52)\\\\n                          )\\\\n                          (call %init_peer_id% (\\\\\\\"srv\\\\\\\" \\\\\\\"resolve_alias\\\\\\\") [\\\\\\\"spell\\\\\\\"] ret-53)\\\\n                         )\\\\n                         (par\\\\n                          (call %init_peer_id% (ret-53 \\\\\\\"store_log\\\\\\\") [ret-52] ret-54)\\\\n                          (seq\\\\n                           (new $array-inline-28\\\\n                            (seq\\\\n                             (seq\\\\n                              (ap ret-53 $array-inline-28)\\\\n                              (ap #array-inline-27-0 $array-inline-28)\\\\n                             )\\\\n                             (canon %init_peer_id% $array-inline-28  #array-inline-28-0)\\\\n                            )\\\\n                           )\\\\n                           (call %init_peer_id% (\\\\\\\"run-console\\\\\\\" \\\\\\\"print\\\\\\\") [#array-inline-28-0])\\\\n                          )\\\\n                         )\\\\n                        )\\\\n                        (xor\\\\n                         (seq\\\\n                          (new $result-0\\\\n                           (seq\\\\n                            (xor\\\\n                             (seq\\\\n                              (seq\\\\n                               (call %init_peer_id% (\\\\\\\"worker-spell\\\\\\\" \\\\\\\"get_string\\\\\\\") [sp-0.$.name] ret-55)\\\\n                               (xor\\\\n                                (match ret-55.$.success false\\\\n                                 (ap ret-55.$.success and-1)\\\\n                                )\\\\n                                (ap ret-55.$.absent and-1)\\\\n                               )\\\\n                              )\\\\n                              (new -if-else-error-\\\\n                               (new -else-error-\\\\n                                (new -if-error-\\\\n                                 (xor\\\\n                                  (match and-1 true\\\\n                                   (ap false $result-0)\\\\n                                  )\\\\n                                  (seq\\\\n                                   (ap :error: -if-error-)\\\\n                                   (xor\\\\n                                    (match :error:.$.error_code 10001\\\\n                                     (seq\\\\n                                      (seq\\\\n                                       (seq\\\\n                                        (seq\\\\n                                         (seq\\\\n                                          (seq\\\\n                                           (seq\\\\n                                            (ap ret-55.$.value ret-55_flat)\\\\n                                            (call %init_peer_id% (\\\\\\\"srv\\\\\\\" \\\\\\\"info\\\\\\\") [ret-55_flat] ret-56)\\\\n                                           )\\\\n                                           (call %init_peer_id% (ret-55_flat \\\\\\\"script_cid\\\\\\\") [] ret-57)\\\\n                                          )\\\\n                                          (new $array-inline-29\\\\n                                           (seq\\\\n                                            (seq\\\\n                                             (seq\\\\n                                              (seq\\\\n                                               (seq\\\\n                                                (ap ret-55_flat $array-inline-29)\\\\n                                                (ap \\\\\\\"script cid was:\\\\\\\" $array-inline-29)\\\\n                                               )\\\\n                                               (ap ret-57.$.value $array-inline-29)\\\\n                                              )\\\\n                                              (ap \\\\\\\"new:\\\\\\\" $array-inline-29)\\\\n                                             )\\\\n                                             (ap sp-0.$.script $array-inline-29)\\\\n                                            )\\\\n                                            (canon %init_peer_id% $array-inline-29  #array-inline-29-0)\\\\n                                           )\\\\n                                          )\\\\n                                         )\\\\n                                         (call %init_peer_id% (\\\\\\\"debug\\\\\\\" \\\\\\\"stringify\\\\\\\") [#array-inline-29-0] ret-58)\\\\n                                        )\\\\n                                        (call %init_peer_id% (\\\\\\\"srv\\\\\\\" \\\\\\\"resolve_alias\\\\\\\") [\\\\\\\"spell\\\\\\\"] ret-59)\\\\n                                       )\\\\n                                       (par\\\\n                                        (call %init_peer_id% (ret-59 \\\\\\\"store_log\\\\\\\") [ret-58] ret-60)\\\\n                                        (seq\\\\n                                         (new $array-inline-30\\\\n                                          (seq\\\\n                                           (seq\\\\n                                            (ap ret-59 $array-inline-30)\\\\n                                            (ap #array-inline-29-0 $array-inline-30)\\\\n                                           )\\\\n                                           (canon %init_peer_id% $array-inline-30  #array-inline-30-0)\\\\n                                          )\\\\n                                         )\\\\n                                         (call %init_peer_id% (\\\\\\\"run-console\\\\\\\" \\\\\\\"print\\\\\\\") [#array-inline-30-0])\\\\n                                        )\\\\n                                       )\\\\n                                      )\\\\n                                      (new -if-else-error-\\\\n                                       (new -else-error-\\\\n                                        (new -if-error-\\\\n                                         (xor\\\\n                                          (match ret-57.$.value sp-0.$.script\\\\n                                           (ap true $result-0)\\\\n                                          )\\\\n                                          (seq\\\\n                                           (ap :error: -if-error-)\\\\n                                           (xor\\\\n                                            (match :error:.$.error_code 10001\\\\n                                             (seq\\\\n                                              (seq\\\\n                                               (seq\\\\n                                                (seq\\\\n                                                 (seq\\\\n                                                  (seq\\\\n                                                   (seq\\\\n                                                    (seq\\\\n                                                     (seq\\\\n                                                      (seq\\\\n                                                       (seq\\\\n                                                        (seq\\\\n                                                         (seq\\\\n                                                          (new $array-inline-31\\\\n                                                           (seq\\\\n                                                            (seq\\\\n                                                             (ap sp-0.$.name $array-inline-31)\\\\n                                                             (ap \\\\\\\"script changed, need to redeploy\\\\\\\" $array-inline-31)\\\\n                                                            )\\\\n                                                            (canon %init_peer_id% $array-inline-31  #array-inline-31-0)\\\\n                                                           )\\\\n                                                          )\\\\n                                                          (call %init_peer_id% (\\\\\\\"debug\\\\\\\" \\\\\\\"stringify\\\\\\\") [#array-inline-31-0] ret-61)\\\\n                                                         )\\\\n                                                         (call %init_peer_id% (\\\\\\\"srv\\\\\\\" \\\\\\\"resolve_alias\\\\\\\") [\\\\\\\"spell\\\\\\\"] ret-62)\\\\n                                                        )\\\\n                                                        (par\\\\n                                                         (call %init_peer_id% (ret-62 \\\\\\\"store_log\\\\\\\") [ret-61] ret-63)\\\\n                                                         (seq\\\\n                                                          (new $array-inline-32\\\\n                                                           (seq\\\\n                                                            (seq\\\\n                                                             (ap ret-62 $array-inline-32)\\\\n                                                             (ap #array-inline-31-0 $array-inline-32)\\\\n                                                            )\\\\n                                                            (canon %init_peer_id% $array-inline-32  #array-inline-32-0)\\\\n                                                           )\\\\n                                                          )\\\\n                                                          (call %init_peer_id% (\\\\\\\"run-console\\\\\\\" \\\\\\\"print\\\\\\\") [#array-inline-32-0])\\\\n                                                         )\\\\n                                                        )\\\\n                                                       )\\\\n                                                       (new $array-inline-33\\\\n                                                        (seq\\\\n                                                         (seq\\\\n                                                          (seq\\\\n                                                           (ap sp-0.$.name $array-inline-33)\\\\n                                                           (ap \\\\\\\"removing old spell\\\\\\\" $array-inline-33)\\\\n                                                          )\\\\n                                                          (ap ret-55_flat $array-inline-33)\\\\n                                                         )\\\\n                                                         (canon %init_peer_id% $array-inline-33  #array-inline-33-0)\\\\n                                                        )\\\\n                                                       )\\\\n                                                      )\\\\n                                                      (call %init_peer_id% (\\\\\\\"debug\\\\\\\" \\\\\\\"stringify\\\\\\\") [#array-inline-33-0] ret-64)\\\\n                                                     )\\\\n                                                     (call %init_peer_id% (\\\\\\\"srv\\\\\\\" \\\\\\\"resolve_alias\\\\\\\") [\\\\\\\"spell\\\\\\\"] ret-65)\\\\n                                                    )\\\\n                                                    (par\\\\n                                                     (call %init_peer_id% (ret-65 \\\\\\\"store_log\\\\\\\") [ret-64] ret-66)\\\\n                                                     (seq\\\\n                                                      (new $array-inline-34\\\\n                                                       (seq\\\\n                                                        (seq\\\\n                                                         (ap ret-65 $array-inline-34)\\\\n                                                         (ap #array-inline-33-0 $array-inline-34)\\\\n                                                        )\\\\n                                                        (canon %init_peer_id% $array-inline-34  #array-inline-34-0)\\\\n                                                       )\\\\n                                                      )\\\\n                                                      (call %init_peer_id% (\\\\\\\"run-console\\\\\\\" \\\\\\\"print\\\\\\\") [#array-inline-34-0])\\\\n                                                     )\\\\n                                                    )\\\\n                                                   )\\\\n                                                   (call %init_peer_id% (\\\\\\\"spell\\\\\\\" \\\\\\\"remove\\\\\\\") [ret-55_flat])\\\\n                                                  )\\\\n                                                  (new $array-inline-35\\\\n                                                   (seq\\\\n                                                    (seq\\\\n                                                     (seq\\\\n                                                      (ap sp-0.$.name $array-inline-35)\\\\n                                                      (ap \\\\\\\"old spell successfully removed\\\\\\\" $array-inline-35)\\\\n                                                     )\\\\n                                                     (ap ret-55_flat $array-inline-35)\\\\n                                                    )\\\\n                                                    (canon %init_peer_id% $array-inline-35  #array-inline-35-0)\\\\n                                                   )\\\\n                                                  )\\\\n                                                 )\\\\n                                                 (call %init_peer_id% (\\\\\\\"debug\\\\\\\" \\\\\\\"stringify\\\\\\\") [#array-inline-35-0] ret-67)\\\\n                                                )\\\\n                                                (call %init_peer_id% (\\\\\\\"srv\\\\\\\" \\\\\\\"resolve_alias\\\\\\\") [\\\\\\\"spell\\\\\\\"] ret-68)\\\\n                                               )\\\\n                                               (par\\\\n                                                (call %init_peer_id% (ret-68 \\\\\\\"store_log\\\\\\\") [ret-67] ret-69)\\\\n                                                (seq\\\\n                                                 (new $array-inline-36\\\\n                                                  (seq\\\\n                                                   (seq\\\\n                                                    (ap ret-68 $array-inline-36)\\\\n                                                    (ap #array-inline-35-0 $array-inline-36)\\\\n                                                   )\\\\n                                                   (canon %init_peer_id% $array-inline-36  #array-inline-36-0)\\\\n                                                  )\\\\n                                                 )\\\\n                                                 (call %init_peer_id% (\\\\\\\"run-console\\\\\\\" \\\\\\\"print\\\\\\\") [#array-inline-36-0])\\\\n                                                )\\\\n                                               )\\\\n                                              )\\\\n                                              (ap false $result-0)\\\\n                                             )\\\\n                                            )\\\\n                                            (seq\\\\n                                             (seq\\\\n                                              (ap :error: -else-error-)\\\\n                                              (xor\\\\n                                               (match :error:.$.error_code 10001\\\\n                                                (ap -if-error- -if-else-error-)\\\\n                                               )\\\\n                                               (ap -else-error- -if-else-error-)\\\\n                                              )\\\\n                                             )\\\\n                                             (fail -if-else-error-)\\\\n                                            )\\\\n                                           )\\\\n                                          )\\\\n                                         )\\\\n                                        )\\\\n                                       )\\\\n                                      )\\\\n                                     )\\\\n                                    )\\\\n                                    (seq\\\\n                                     (seq\\\\n                                      (ap :error: -else-error-)\\\\n                                      (xor\\\\n                                       (match :error:.$.error_code 10001\\\\n                                        (ap -if-error- -if-else-error-)\\\\n                                       )\\\\n                                       (ap -else-error- -if-else-error-)\\\\n                                      )\\\\n                                     )\\\\n                                     (fail -if-else-error-)\\\\n                                    )\\\\n                                   )\\\\n                                  )\\\\n                                 )\\\\n                                )\\\\n                               )\\\\n                              )\\\\n                             )\\\\n                             (seq\\\\n                              (seq\\\\n                               (seq\\\\n                                (seq\\\\n                                 (new $array-inline-37\\\\n                                  (seq\\\\n                                   (seq\\\\n                                    (seq\\\\n                                     (ap \\\\\\\"Error check spell deployed\\\\\\\" $array-inline-37)\\\\n                                     (ap sp-0.$.name $array-inline-37)\\\\n                                    )\\\\n                                    (ap :error: $array-inline-37)\\\\n                                   )\\\\n                                   (canon %init_peer_id% $array-inline-37  #array-inline-37-0)\\\\n                                  )\\\\n                                 )\\\\n                                 (call %init_peer_id% (\\\\\\\"debug\\\\\\\" \\\\\\\"stringify\\\\\\\") [#array-inline-37-0] ret-70)\\\\n                                )\\\\n                                (call %init_peer_id% (\\\\\\\"srv\\\\\\\" \\\\\\\"resolve_alias\\\\\\\") [\\\\\\\"spell\\\\\\\"] ret-71)\\\\n                               )\\\\n                               (par\\\\n                                (call %init_peer_id% (ret-71 \\\\\\\"store_log\\\\\\\") [ret-70] ret-72)\\\\n                                (seq\\\\n                                 (new $array-inline-38\\\\n                                  (seq\\\\n                                   (seq\\\\n                                    (ap ret-71 $array-inline-38)\\\\n                                    (ap #array-inline-37-0 $array-inline-38)\\\\n                                   )\\\\n                                   (canon %init_peer_id% $array-inline-38  #array-inline-38-0)\\\\n                                  )\\\\n                                 )\\\\n                                 (call %init_peer_id% (\\\\\\\"run-console\\\\\\\" \\\\\\\"print\\\\\\\") [#array-inline-38-0])\\\\n                                )\\\\n                               )\\\\n                              )\\\\n                              (ap false $result-0)\\\\n                             )\\\\n                            )\\\\n                            (new $result-0_test\\\\n                             (seq\\\\n                              (seq\\\\n                               (fold $result-0 result-0_fold_var\\\\n                                (seq\\\\n                                 (seq\\\\n                                  (ap result-0_fold_var $result-0_test)\\\\n                                  (canon %init_peer_id% $result-0_test  #result-0_iter_canon)\\\\n                                 )\\\\n                                 (xor\\\\n                                  (match #result-0_iter_canon.length 1\\\\n                                   (null)\\\\n                                  )\\\\n                                  (next result-0_fold_var)\\\\n                                 )\\\\n                                )\\\\n                                (never)\\\\n                               )\\\\n                               (canon %init_peer_id% $result-0_test  #result-0_result_canon)\\\\n                              )\\\\n                              (ap #result-0_result_canon result-0_gate)\\\\n                             )\\\\n                            )\\\\n                           )\\\\n                          )\\\\n                          (new -if-else-error-\\\\n                           (new -else-error-\\\\n                            (new -if-error-\\\\n                             (xor\\\\n                              (match result-0_gate.$.[0] true\\\\n                               (seq\\\\n                                (seq\\\\n                                 (seq\\\\n                                  (seq\\\\n                                   (seq\\\\n                                    (seq\\\\n                                     (seq\\\\n                                      (seq\\\\n                                       (seq\\\\n                                        (new $array-inline-39\\\\n                                         (seq\\\\n                                          (seq\\\\n                                           (ap sp-0.$.name $array-inline-39)\\\\n                                           (ap \\\\\\\"spell is already deployed, checking config and init_args\\\\\\\" $array-inline-39)\\\\n                                          )\\\\n                                          (canon %init_peer_id% $array-inline-39  #array-inline-39-0)\\\\n                                         )\\\\n                                        )\\\\n                                        (call %init_peer_id% (\\\\\\\"debug\\\\\\\" \\\\\\\"stringify\\\\\\\") [#array-inline-39-0] ret-73)\\\\n                                       )\\\\n                                       (call %init_peer_id% (\\\\\\\"srv\\\\\\\" \\\\\\\"resolve_alias\\\\\\\") [\\\\\\\"spell\\\\\\\"] ret-74)\\\\n                                      )\\\\n                                      (par\\\\n                                       (call %init_peer_id% (ret-74 \\\\\\\"store_log\\\\\\\") [ret-73] ret-75)\\\\n                                       (seq\\\\n                                        (new $array-inline-40\\\\n                                         (seq\\\\n                                          (seq\\\\n                                           (ap ret-74 $array-inline-40)\\\\n                                           (ap #array-inline-39-0 $array-inline-40)\\\\n                                          )\\\\n                                          (canon %init_peer_id% $array-inline-40  #array-inline-40-0)\\\\n                                         )\\\\n                                        )\\\\n                                        (call %init_peer_id% (\\\\\\\"run-console\\\\\\\" \\\\\\\"print\\\\\\\") [#array-inline-40-0])\\\\n                                       )\\\\n                                      )\\\\n                                     )\\\\n                                     (call %init_peer_id% (\\\\\\\"op\\\\\\\" \\\\\\\"concat_strings\\\\\\\") [\\\\\\\"trigger_config:\\\\\\\" sp-0.$.name] ret-76)\\\\n                                    )\\\\n                                    (call %init_peer_id% (\\\\\\\"worker-spell\\\\\\\" \\\\\\\"get_string\\\\\\\") [ret-76] ret-77)\\\\n                                   )\\\\n                                   (new -if-error-\\\\n                                    (xor\\\\n                                     (mismatch ret-77.$.value sp-0.$.config\\\\n                                      (seq\\\\n                                       (seq\\\\n                                        (seq\\\\n                                         (seq\\\\n                                          (seq\\\\n                                           (new $array-inline-41\\\\n                                            (seq\\\\n                                             (seq\\\\n                                              (ap sp-0.$.name $array-inline-41)\\\\n                                              (ap \\\\\\\"config mismath, updating config\\\\\\\" $array-inline-41)\\\\n                                             )\\\\n                                             (canon %init_peer_id% $array-inline-41  #array-inline-41-0)\\\\n                                            )\\\\n                                           )\\\\n                                           (call %init_peer_id% (\\\\\\\"debug\\\\\\\" \\\\\\\"stringify\\\\\\\") [#array-inline-41-0] ret-78)\\\\n                                          )\\\\n                                          (call %init_peer_id% (\\\\\\\"srv\\\\\\\" \\\\\\\"resolve_alias\\\\\\\") [\\\\\\\"spell\\\\\\\"] ret-79)\\\\n                                         )\\\\n                                         (par\\\\n                                          (call %init_peer_id% (ret-79 \\\\\\\"store_log\\\\\\\") [ret-78] ret-80)\\\\n                                          (seq\\\\n                                           (new $array-inline-42\\\\n                                            (seq\\\\n                                             (seq\\\\n                                              (ap ret-79 $array-inline-42)\\\\n                                              (ap #array-inline-41-0 $array-inline-42)\\\\n                                             )\\\\n                                             (canon %init_peer_id% $array-inline-42  #array-inline-42-0)\\\\n                                            )\\\\n                                           )\\\\n                                           (call %init_peer_id% (\\\\\\\"run-console\\\\\\\" \\\\\\\"print\\\\\\\") [#array-inline-42-0])\\\\n                                          )\\\\n                                         )\\\\n                                        )\\\\n                                        (call %init_peer_id% (\\\\\\\"aqua-ipfs\\\\\\\" \\\\\\\"cat_from\\\\\\\") [sp-0.$.config -ipfs-arg-] ret-81)\\\\n                                       )\\\\n                                       (new -if-else-error-\\\\n                                        (new -else-error-\\\\n                                         (new -if-error-\\\\n                                          (xor\\\\n                                           (match ret-81.$.success true\\\\n                                            (seq\\\\n                                             (seq\\\\n                                              (seq\\\\n                                               (seq\\\\n                                                (seq\\\\n                                                 (seq\\\\n                                                  (seq\\\\n                                                   (seq\\\\n                                                    (call %init_peer_id% (\\\\\\\"json\\\\\\\" \\\\\\\"parse\\\\\\\") [ret-81.$.contents] ret-82)\\\\n                                                    (call %init_peer_id% (\\\\\\\"srv\\\\\\\" \\\\\\\"resolve_alias\\\\\\\") [sp-0.$.name] ret-83)\\\\n                                                   )\\\\n                                                   (call %init_peer_id% (\\\\\\\"spell\\\\\\\" \\\\\\\"update_trigger_config\\\\\\\") [ret-83 ret-82])\\\\n                                                  )\\\\n                                                  (call %init_peer_id% (\\\\\\\"op\\\\\\\" \\\\\\\"concat_strings\\\\\\\") [\\\\\\\"trigger_config:\\\\\\\" sp-0.$.name] ret-84)\\\\n                                                 )\\\\n                                                 (call %init_peer_id% (\\\\\\\"worker-spell\\\\\\\" \\\\\\\"set_string\\\\\\\") [ret-84 sp-0.$.config] ret-85)\\\\n                                                )\\\\n                                                (new $array-inline-43\\\\n                                                 (seq\\\\n                                                  (seq\\\\n                                                   (ap sp-0.$.name $array-inline-43)\\\\n                                                   (ap \\\\\\\"config successfully updated\\\\\\\" $array-inline-43)\\\\n                                                  )\\\\n                                                  (canon %init_peer_id% $array-inline-43  #array-inline-43-0)\\\\n                                                 )\\\\n                                                )\\\\n                                               )\\\\n                                               (call %init_peer_id% (\\\\\\\"debug\\\\\\\" \\\\\\\"stringify\\\\\\\") [#array-inline-43-0] ret-86)\\\\n                                              )\\\\n                                              (call %init_peer_id% (\\\\\\\"srv\\\\\\\" \\\\\\\"resolve_alias\\\\\\\") [\\\\\\\"spell\\\\\\\"] ret-87)\\\\n                                             )\\\\n                                             (par\\\\n                                              (call %init_peer_id% (ret-87 \\\\\\\"store_log\\\\\\\") [ret-86] ret-88)\\\\n                                              (seq\\\\n                                               (new $array-inline-44\\\\n                                                (seq\\\\n                                                 (seq\\\\n                                                  (ap ret-87 $array-inline-44)\\\\n                                                  (ap #array-inline-43-0 $array-inline-44)\\\\n                                                 )\\\\n                                                 (canon %init_peer_id% $array-inline-44  #array-inline-44-0)\\\\n                                                )\\\\n                                               )\\\\n                                               (call %init_peer_id% (\\\\\\\"run-console\\\\\\\" \\\\\\\"print\\\\\\\") [#array-inline-44-0])\\\\n                                              )\\\\n                                             )\\\\n                                            )\\\\n                                           )\\\\n                                           (seq\\\\n                                            (ap :error: -if-error-)\\\\n                                            (xor\\\\n                                             (match :error:.$.error_code 10001\\\\n                                              (seq\\\\n                                               (seq\\\\n                                                (seq\\\\n                                                 (new $array-inline-45\\\\n                                                  (seq\\\\n                                                   (seq\\\\n                                                    (seq\\\\n                                                     (seq\\\\n                                                      (ap sp-0.$.name $array-inline-45)\\\\n                                                      (ap \\\\\\\"error retrieving config\\\\\\\" $array-inline-45)\\\\n                                                     )\\\\n                                                     (ap sp-0.$.config $array-inline-45)\\\\n                                                    )\\\\n                                                    (ap ret-81.$.error $array-inline-45)\\\\n                                                   )\\\\n                                                   (canon %init_peer_id% $array-inline-45  #array-inline-45-0)\\\\n                                                  )\\\\n                                                 )\\\\n                                                 (call %init_peer_id% (\\\\\\\"debug\\\\\\\" \\\\\\\"stringify\\\\\\\") [#array-inline-45-0] ret-89)\\\\n                                                )\\\\n                                                (call %init_peer_id% (\\\\\\\"srv\\\\\\\" \\\\\\\"resolve_alias\\\\\\\") [\\\\\\\"spell\\\\\\\"] ret-90)\\\\n                                               )\\\\n                                               (par\\\\n                                                (call %init_peer_id% (ret-90 \\\\\\\"store_log\\\\\\\") [ret-89] ret-91)\\\\n                                                (seq\\\\n                                                 (new $array-inline-46\\\\n                                                  (seq\\\\n                                                   (seq\\\\n                                                    (ap ret-90 $array-inline-46)\\\\n                                                    (ap #array-inline-45-0 $array-inline-46)\\\\n                                                   )\\\\n                                                   (canon %init_peer_id% $array-inline-46  #array-inline-46-0)\\\\n                                                  )\\\\n                                                 )\\\\n                                                 (call %init_peer_id% (\\\\\\\"run-console\\\\\\\" \\\\\\\"print\\\\\\\") [#array-inline-46-0])\\\\n                                                )\\\\n                                               )\\\\n                                              )\\\\n                                             )\\\\n                                             (seq\\\\n                                              (seq\\\\n                                               (ap :error: -else-error-)\\\\n                                               (xor\\\\n                                                (match :error:.$.error_code 10001\\\\n                                                 (ap -if-error- -if-else-error-)\\\\n                                                )\\\\n                                                (ap -else-error- -if-else-error-)\\\\n                                               )\\\\n                                              )\\\\n                                              (fail -if-else-error-)\\\\n                                             )\\\\n                                            )\\\\n                                           )\\\\n                                          )\\\\n                                         )\\\\n                                        )\\\\n                                       )\\\\n                                      )\\\\n                                     )\\\\n                                     (seq\\\\n                                      (ap :error: -if-error-)\\\\n                                      (xor\\\\n                                       (match :error:.$.error_code 10002\\\\n                                        (null)\\\\n                                       )\\\\n                                       (fail -if-error-)\\\\n                                      )\\\\n                                     )\\\\n                                    )\\\\n                                   )\\\\n                                  )\\\\n                                  (call %init_peer_id% (\\\\\\\"op\\\\\\\" \\\\\\\"concat_strings\\\\\\\") [\\\\\\\"init_args:\\\\\\\" sp-0.$.name] ret-92)\\\\n                                 )\\\\n                                 (call %init_peer_id% (\\\\\\\"worker-spell\\\\\\\" \\\\\\\"get_string\\\\\\\") [ret-92] ret-93)\\\\n                                )\\\\n                                (new -if-error-\\\\n                                 (xor\\\\n                                  (mismatch ret-93.$.value sp-0.$.init_args\\\\n                                   (seq\\\\n                                    (seq\\\\n                                     (seq\\\\n                                      (seq\\\\n                                       (seq\\\\n                                        (seq\\\\n                                         (seq\\\\n                                          (seq\\\\n                                           (seq\\\\n                                            (seq\\\\n                                             (seq\\\\n                                              (new $array-inline-47\\\\n                                               (seq\\\\n                                                (seq\\\\n                                                 (ap sp-0.$.name $array-inline-47)\\\\n                                                 (ap \\\\\\\"init_args changed, updating\\\\\\\" $array-inline-47)\\\\n                                                )\\\\n                                                (canon %init_peer_id% $array-inline-47  #array-inline-47-0)\\\\n                                               )\\\\n                                              )\\\\n                                              (call %init_peer_id% (\\\\\\\"debug\\\\\\\" \\\\\\\"stringify\\\\\\\") [#array-inline-47-0] ret-94)\\\\n                                             )\\\\n                                             (call %init_peer_id% (\\\\\\\"srv\\\\\\\" \\\\\\\"resolve_alias\\\\\\\") [\\\\\\\"spell\\\\\\\"] ret-95)\\\\n                                            )\\\\n                                            (par\\\\n                                             (call %init_peer_id% (ret-95 \\\\\\\"store_log\\\\\\\") [ret-94] ret-96)\\\\n                                             (seq\\\\n                                              (new $array-inline-48\\\\n                                               (seq\\\\n                                                (seq\\\\n                                                 (ap ret-95 $array-inline-48)\\\\n                                                 (ap #array-inline-47-0 $array-inline-48)\\\\n                                                )\\\\n                                                (canon %init_peer_id% $array-inline-48  #array-inline-48-0)\\\\n                                               )\\\\n                                              )\\\\n                                              (call %init_peer_id% (\\\\\\\"run-console\\\\\\\" \\\\\\\"print\\\\\\\") [#array-inline-48-0])\\\\n                                             )\\\\n                                            )\\\\n                                           )\\\\n                                           (call %init_peer_id% (\\\\\\\"aqua-ipfs\\\\\\\" \\\\\\\"cat_from\\\\\\\") [sp-0.$.init_args -ipfs-arg-] ret-97)\\\\n                                          )\\\\n                                          (new -if-else-error-\\\\n                                           (new -else-error-\\\\n                                            (new -if-error-\\\\n                                             (xor\\\\n                                              (match ret-97.$.success true\\\\n                                               (call %init_peer_id% (sp-0.$.name \\\\\\\"set_json_fields\\\\\\\") [ret-97.$.contents] ret-98)\\\\n                                              )\\\\n                                              (seq\\\\n                                               (ap :error: -if-error-)\\\\n                                               (xor\\\\n                                                (match :error:.$.error_code 10001\\\\n                                                 (seq\\\\n                                                  (seq\\\\n                                                   (seq\\\\n                                                    (new $array-inline-49\\\\n                                                     (seq\\\\n                                                      (seq\\\\n                                                       (seq\\\\n                                                        (seq\\\\n                                                         (ap sp-0.$.name $array-inline-49)\\\\n                                                         (ap \\\\\\\"error retrieving init_args\\\\\\\" $array-inline-49)\\\\n                                                        )\\\\n                                                        (ap sp-0.$.init_args $array-inline-49)\\\\n                                                       )\\\\n                                                       (ap ret-97.$.error $array-inline-49)\\\\n                                                      )\\\\n                                                      (canon %init_peer_id% $array-inline-49  #array-inline-49-0)\\\\n                                                     )\\\\n                                                    )\\\\n                                                    (call %init_peer_id% (\\\\\\\"debug\\\\\\\" \\\\\\\"stringify\\\\\\\") [#array-inline-49-0] ret-99)\\\\n                                                   )\\\\n                                                   (call %init_peer_id% (\\\\\\\"srv\\\\\\\" \\\\\\\"resolve_alias\\\\\\\") [\\\\\\\"spell\\\\\\\"] ret-100)\\\\n                                                  )\\\\n                                                  (par\\\\n                                                   (call %init_peer_id% (ret-100 \\\\\\\"store_log\\\\\\\") [ret-99] ret-101)\\\\n                                                   (seq\\\\n                                                    (new $array-inline-50\\\\n                                                     (seq\\\\n                                                      (seq\\\\n                                                       (ap ret-100 $array-inline-50)\\\\n                                                       (ap #array-inline-49-0 $array-inline-50)\\\\n                                                      )\\\\n                                                      (canon %init_peer_id% $array-inline-50  #array-inline-50-0)\\\\n                                                     )\\\\n                                                    )\\\\n                                                    (call %init_peer_id% (\\\\\\\"run-console\\\\\\\" \\\\\\\"print\\\\\\\") [#array-inline-50-0])\\\\n                                                   )\\\\n                                                  )\\\\n                                                 )\\\\n                                                )\\\\n                                                (seq\\\\n                                                 (seq\\\\n                                                  (ap :error: -else-error-)\\\\n                                                  (xor\\\\n                                                   (match :error:.$.error_code 10001\\\\n                                                    (ap -if-error- -if-else-error-)\\\\n                                                   )\\\\n                                                   (ap -else-error- -if-else-error-)\\\\n                                                  )\\\\n                                                 )\\\\n                                                 (fail -if-else-error-)\\\\n                                                )\\\\n                                               )\\\\n                                              )\\\\n                                             )\\\\n                                            )\\\\n                                           )\\\\n                                          )\\\\n                                         )\\\\n                                         (call %init_peer_id% (\\\\\\\"op\\\\\\\" \\\\\\\"concat_strings\\\\\\\") [\\\\\\\"init_args:\\\\\\\" sp-0.$.name] ret-102)\\\\n                                        )\\\\n                                        (call %init_peer_id% (\\\\\\\"worker-spell\\\\\\\" \\\\\\\"set_string\\\\\\\") [ret-102 sp-0.$.init_args] ret-103)\\\\n                                       )\\\\n                                       (new $array-inline-51\\\\n                                        (seq\\\\n                                         (seq\\\\n                                          (ap sp-0.$.name $array-inline-51)\\\\n                                          (ap \\\\\\\"init_args successfully updated\\\\\\\" $array-inline-51)\\\\n                                         )\\\\n                                         (canon %init_peer_id% $array-inline-51  #array-inline-51-0)\\\\n                                        )\\\\n                                       )\\\\n                                      )\\\\n                                      (call %init_peer_id% (\\\\\\\"debug\\\\\\\" \\\\\\\"stringify\\\\\\\") [#array-inline-51-0] ret-104)\\\\n                                     )\\\\n                                     (call %init_peer_id% (\\\\\\\"srv\\\\\\\" \\\\\\\"resolve_alias\\\\\\\") [\\\\\\\"spell\\\\\\\"] ret-105)\\\\n                                    )\\\\n                                    (par\\\\n                                     (call %init_peer_id% (ret-105 \\\\\\\"store_log\\\\\\\") [ret-104] ret-106)\\\\n                                     (seq\\\\n                                      (new $array-inline-52\\\\n                                       (seq\\\\n                                        (seq\\\\n                                         (ap ret-105 $array-inline-52)\\\\n                                         (ap #array-inline-51-0 $array-inline-52)\\\\n                                        )\\\\n                                        (canon %init_peer_id% $array-inline-52  #array-inline-52-0)\\\\n                                       )\\\\n                                      )\\\\n                                      (call %init_peer_id% (\\\\\\\"run-console\\\\\\\" \\\\\\\"print\\\\\\\") [#array-inline-52-0])\\\\n                                     )\\\\n                                    )\\\\n                                   )\\\\n                                  )\\\\n                                  (seq\\\\n                                   (ap :error: -if-error-)\\\\n                                   (xor\\\\n                                    (match :error:.$.error_code 10002\\\\n                                     (null)\\\\n                                    )\\\\n                                    (fail -if-error-)\\\\n                                   )\\\\n                                  )\\\\n                                 )\\\\n                                )\\\\n                               )\\\\n                              )\\\\n                              (seq\\\\n                               (ap :error: -if-error-)\\\\n                               (xor\\\\n                                (match :error:.$.error_code 10001\\\\n                                 (seq\\\\n                                  (seq\\\\n                                   (seq\\\\n                                    (seq\\\\n                                     (seq\\\\n                                      (seq\\\\n                                       (seq\\\\n                                        (seq\\\\n                                         (seq\\\\n                                          (call %init_peer_id% (\\\\\\\"peer\\\\\\\" \\\\\\\"timestamp_sec\\\\\\\") [] ret-107)\\\\n                                          (new %Status_obj-0_map\\\\n                                           (seq\\\\n                                            (seq\\\\n                                             (seq\\\\n                                              (ap (\\\\\\\"message\\\\\\\" \\\\\\\"\\\\\\\") %Status_obj-0_map)\\\\n                                              (ap (\\\\\\\"state\\\\\\\" \\\\\\\"INSTALLATION_IN_PROGRESS\\\\\\\") %Status_obj-0_map)\\\\n                                             )\\\\n                                             (ap (\\\\\\\"timestamp\\\\\\\" ret-107) %Status_obj-0_map)\\\\n                                            )\\\\n                                            (canon %init_peer_id% %Status_obj-0_map  Status_obj-0)\\\\n                                           )\\\\n                                          )\\\\n                                         )\\\\n                                         (call %init_peer_id% (\\\\\\\"json\\\\\\\" \\\\\\\"stringify\\\\\\\") [Status_obj-0] ret-108)\\\\n                                        )\\\\n                                        (call %init_peer_id% (\\\\\\\"worker-spell\\\\\\\" \\\\\\\"list_push_string\\\\\\\") [\\\\\\\"__installation_spell_status__\\\\\\\" ret-108] ret-109)\\\\n                                       )\\\\n                                       (call %init_peer_id% (\\\\\\\"aqua-ipfs\\\\\\\" \\\\\\\"cat_from\\\\\\\") [sp-0.$.script -ipfs-arg-] ret-110)\\\\n                                      )\\\\n                                      (call %init_peer_id% (\\\\\\\"aqua-ipfs\\\\\\\" \\\\\\\"cat_from\\\\\\\") [sp-0.$.config -ipfs-arg-] ret-111)\\\\n                                     )\\\\n                                     (call %init_peer_id% (\\\\\\\"aqua-ipfs\\\\\\\" \\\\\\\"cat_from\\\\\\\") [sp-0.$.init_args -ipfs-arg-] ret-112)\\\\n                                    )\\\\n                                    (xor\\\\n                                     (match ret-110.$.success false\\\\n                                      (ap ret-110.$.success and-2)\\\\n                                     )\\\\n                                     (ap ret-111.$.success and-2)\\\\n                                    )\\\\n                                   )\\\\n                                   (xor\\\\n                                    (match and-2 false\\\\n                                     (ap and-2 and-3)\\\\n                                    )\\\\n                                    (ap ret-112.$.success and-3)\\\\n                                   )\\\\n                                  )\\\\n                                  (new -if-else-error-\\\\n                                   (new -else-error-\\\\n                                    (new -if-error-\\\\n                                     (xor\\\\n                                      (match and-3 true\\\\n                                       (seq\\\\n                                        (seq\\\\n                                         (call %init_peer_id% (\\\\\\\"json\\\\\\\" \\\\\\\"parse\\\\\\\") [ret-111.$.contents] ret-113)\\\\n                                         (call %init_peer_id% (\\\\\\\"json\\\\\\\" \\\\\\\"parse\\\\\\\") [ret-112.$.contents] ret-114)\\\\n                                        )\\\\n                                        (xor\\\\n                                         (seq\\\\n                                          (seq\\\\n                                           (seq\\\\n                                            (seq\\\\n                                             (seq\\\\n                                              (seq\\\\n                                               (seq\\\\n                                                (seq\\\\n                                                 (seq\\\\n                                                  (call %init_peer_id% (\\\\\\\"spell\\\\\\\" \\\\\\\"install\\\\\\\") [ret-110.$.contents ret-114 ret-113 sp-0.$.name] ret-115)\\\\n                                                  (new $array-inline-53\\\\n                                                   (seq\\\\n                                                    (seq\\\\n                                                     (seq\\\\n                                                      (ap \\\\\\\"Installed spell\\\\\\\" $array-inline-53)\\\\n                                                      (ap sp-0.$.name $array-inline-53)\\\\n                                                     )\\\\n                                                     (ap ret-115 $array-inline-53)\\\\n                                                    )\\\\n                                                    (canon %init_peer_id% $array-inline-53  #array-inline-53-0)\\\\n                                                   )\\\\n                                                  )\\\\n                                                 )\\\\n                                                 (call %init_peer_id% (\\\\\\\"debug\\\\\\\" \\\\\\\"stringify\\\\\\\") [#array-inline-53-0] ret-116)\\\\n                                                )\\\\n                                                (call %init_peer_id% (\\\\\\\"srv\\\\\\\" \\\\\\\"resolve_alias\\\\\\\") [\\\\\\\"spell\\\\\\\"] ret-117)\\\\n                                               )\\\\n                                               (par\\\\n                                                (call %init_peer_id% (ret-117 \\\\\\\"store_log\\\\\\\") [ret-116] ret-118)\\\\n                                                (seq\\\\n                                                 (new $array-inline-54\\\\n                                                  (seq\\\\n                                                   (seq\\\\n                                                    (ap ret-117 $array-inline-54)\\\\n                                                    (ap #array-inline-53-0 $array-inline-54)\\\\n                                                   )\\\\n                                                   (canon %init_peer_id% $array-inline-54  #array-inline-54-0)\\\\n                                                  )\\\\n                                                 )\\\\n                                                 (call %init_peer_id% (\\\\\\\"run-console\\\\\\\" \\\\\\\"print\\\\\\\") [#array-inline-54-0])\\\\n                                                )\\\\n                                               )\\\\n                                              )\\\\n                                              (call %init_peer_id% (\\\\\\\"worker-spell\\\\\\\" \\\\\\\"set_string\\\\\\\") [sp-0.$.name ret-115] ret-119)\\\\n                                             )\\\\n                                             (call %init_peer_id% (\\\\\\\"op\\\\\\\" \\\\\\\"concat_strings\\\\\\\") [\\\\\\\"trigger_config:\\\\\\\" sp-0.$.name] ret-120)\\\\n                                            )\\\\n                                            (call %init_peer_id% (\\\\\\\"worker-spell\\\\\\\" \\\\\\\"set_string\\\\\\\") [ret-120 sp-0.$.config] ret-121)\\\\n                                           )\\\\n                                           (call %init_peer_id% (\\\\\\\"op\\\\\\\" \\\\\\\"concat_strings\\\\\\\") [\\\\\\\"init_args:\\\\\\\" sp-0.$.name] ret-122)\\\\n                                          )\\\\n                                          (call %init_peer_id% (\\\\\\\"worker-spell\\\\\\\" \\\\\\\"set_string\\\\\\\") [ret-122 sp-0.$.init_args] ret-123)\\\\n                                         )\\\\n                                         (seq\\\\n                                          (seq\\\\n                                           (seq\\\\n                                            (new $array-inline-55\\\\n                                             (seq\\\\n                                              (seq\\\\n                                               (seq\\\\n                                                (ap \\\\\\\"Error installing the spell\\\\\\\" $array-inline-55)\\\\n                                                (ap sp-0.$.name $array-inline-55)\\\\n                                               )\\\\n                                               (ap :error: $array-inline-55)\\\\n                                              )\\\\n                                              (canon %init_peer_id% $array-inline-55  #array-inline-55-0)\\\\n                                             )\\\\n                                            )\\\\n                                            (call %init_peer_id% (\\\\\\\"debug\\\\\\\" \\\\\\\"stringify\\\\\\\") [#array-inline-55-0] ret-124)\\\\n                                           )\\\\n                                           (call %init_peer_id% (\\\\\\\"srv\\\\\\\" \\\\\\\"resolve_alias\\\\\\\") [\\\\\\\"spell\\\\\\\"] ret-125)\\\\n                                          )\\\\n                                          (par\\\\n                                           (call %init_peer_id% (ret-125 \\\\\\\"store_log\\\\\\\") [ret-124] ret-126)\\\\n                                           (seq\\\\n                                            (new $array-inline-56\\\\n                                             (seq\\\\n                                              (seq\\\\n                                               (ap ret-125 $array-inline-56)\\\\n                                               (ap #array-inline-55-0 $array-inline-56)\\\\n                                              )\\\\n                                              (canon %init_peer_id% $array-inline-56  #array-inline-56-0)\\\\n                                             )\\\\n                                            )\\\\n                                            (call %init_peer_id% (\\\\\\\"run-console\\\\\\\" \\\\\\\"print\\\\\\\") [#array-inline-56-0])\\\\n                                           )\\\\n                                          )\\\\n                                         )\\\\n                                        )\\\\n                                       )\\\\n                                      )\\\\n                                      (seq\\\\n                                       (ap :error: -if-error-)\\\\n                                       (xor\\\\n                                        (match :error:.$.error_code 10001\\\\n                                         (seq\\\\n                                          (seq\\\\n                                           (seq\\\\n                                            (new $array-inline-57\\\\n                                             (seq\\\\n                                              (seq\\\\n                                               (seq\\\\n                                                (seq\\\\n                                                 (seq\\\\n                                                  (seq\\\\n                                                   (seq\\\\n                                                    (seq\\\\n                                                     (new $array-inline-58\\\\n                                                      (seq\\\\n                                                       (seq\\\\n                                                        (seq\\\\n                                                         (ap \\\\\\\"script\\\\\\\" $array-inline-58)\\\\n                                                         (ap sp-0.$.script $array-inline-58)\\\\n                                                        )\\\\n                                                        (ap ret-110 $array-inline-58)\\\\n                                                       )\\\\n                                                       (canon %init_peer_id% $array-inline-58  #array-inline-58-0)\\\\n                                                      )\\\\n                                                     )\\\\n                                                     (new $array-inline-59\\\\n                                                      (seq\\\\n                                                       (seq\\\\n                                                        (seq\\\\n                                                         (ap \\\\\\\"cfg_json\\\\\\\" $array-inline-59)\\\\n                                                         (ap sp-0.$.config $array-inline-59)\\\\n                                                        )\\\\n                                                        (ap ret-111 $array-inline-59)\\\\n                                                       )\\\\n                                                       (canon %init_peer_id% $array-inline-59  #array-inline-59-0)\\\\n                                                      )\\\\n                                                     )\\\\n                                                    )\\\\n                                                    (new $array-inline-60\\\\n                                                     (seq\\\\n                                                      (seq\\\\n                                                       (seq\\\\n                                                        (ap \\\\\\\"init_args_str\\\\\\\" $array-inline-60)\\\\n                                                        (ap sp-0.$.init_args $array-inline-60)\\\\n                                                       )\\\\n                                                       (ap ret-112 $array-inline-60)\\\\n                                                      )\\\\n                                                      (canon %init_peer_id% $array-inline-60  #array-inline-60-0)\\\\n                                                     )\\\\n                                                    )\\\\n                                                   )\\\\n                                                   (ap sp-0.$.name $array-inline-57)\\\\n                                                  )\\\\n                                                  (ap \\\\\\\"error retrieving from IPFS\\\\\\\" $array-inline-57)\\\\n                                                 )\\\\n                                                 (ap #array-inline-58-0 $array-inline-57)\\\\n                                                )\\\\n                                                (ap #array-inline-59-0 $array-inline-57)\\\\n                                               )\\\\n                                               (ap #array-inline-60-0 $array-inline-57)\\\\n                                              )\\\\n                                              (canon %init_peer_id% $array-inline-57  #array-inline-57-0)\\\\n                                             )\\\\n                                            )\\\\n                                            (call %init_peer_id% (\\\\\\\"debug\\\\\\\" \\\\\\\"stringify\\\\\\\") [#array-inline-57-0] ret-127)\\\\n                                           )\\\\n                                           (call %init_peer_id% (\\\\\\\"srv\\\\\\\" \\\\\\\"resolve_alias\\\\\\\") [\\\\\\\"spell\\\\\\\"] ret-128)\\\\n                                          )\\\\n                                          (par\\\\n                                           (call %init_peer_id% (ret-128 \\\\\\\"store_log\\\\\\\") [ret-127] ret-129)\\\\n                                           (seq\\\\n                                            (new $array-inline-61\\\\n                                             (seq\\\\n                                              (seq\\\\n                                               (ap ret-128 $array-inline-61)\\\\n                                               (ap #array-inline-57-0 $array-inline-61)\\\\n                                              )\\\\n                                              (canon %init_peer_id% $array-inline-61  #array-inline-61-0)\\\\n                                             )\\\\n                                            )\\\\n                                            (call %init_peer_id% (\\\\\\\"run-console\\\\\\\" \\\\\\\"print\\\\\\\") [#array-inline-61-0])\\\\n                                           )\\\\n                                          )\\\\n                                         )\\\\n                                        )\\\\n                                        (seq\\\\n                                         (seq\\\\n                                          (ap :error: -else-error-)\\\\n                                          (xor\\\\n                                           (match :error:.$.error_code 10001\\\\n                                            (ap -if-error- -if-else-error-)\\\\n                                           )\\\\n                                           (ap -else-error- -if-else-error-)\\\\n                                          )\\\\n                                         )\\\\n                                         (fail -if-else-error-)\\\\n                                        )\\\\n                                       )\\\\n                                      )\\\\n                                     )\\\\n                                    )\\\\n                                   )\\\\n                                  )\\\\n                                 )\\\\n                                )\\\\n                                (seq\\\\n                                 (seq\\\\n                                  (ap :error: -else-error-)\\\\n                                  (xor\\\\n                                   (match :error:.$.error_code 10001\\\\n                                    (ap -if-error- -if-else-error-)\\\\n                                   )\\\\n                                   (ap -else-error- -if-else-error-)\\\\n                                  )\\\\n                                 )\\\\n                                 (fail -if-else-error-)\\\\n                                )\\\\n                               )\\\\n                              )\\\\n                             )\\\\n                            )\\\\n                           )\\\\n                          )\\\\n                         )\\\\n                         (seq\\\\n                          (seq\\\\n                           (seq\\\\n                            (new $array-inline-62\\\\n                             (seq\\\\n                              (seq\\\\n                               (seq\\\\n                                (ap \\\\\\\"Error deploy spell\\\\\\\" $array-inline-62)\\\\n                                (ap sp-0.$.name $array-inline-62)\\\\n                               )\\\\n                               (ap :error: $array-inline-62)\\\\n                              )\\\\n                              (canon %init_peer_id% $array-inline-62  #array-inline-62-0)\\\\n                             )\\\\n                            )\\\\n                            (call %init_peer_id% (\\\\\\\"debug\\\\\\\" \\\\\\\"stringify\\\\\\\") [#array-inline-62-0] ret-130)\\\\n                           )\\\\n                           (call %init_peer_id% (\\\\\\\"srv\\\\\\\" \\\\\\\"resolve_alias\\\\\\\") [\\\\\\\"spell\\\\\\\"] ret-131)\\\\n                          )\\\\n                          (par\\\\n                           (call %init_peer_id% (ret-131 \\\\\\\"store_log\\\\\\\") [ret-130] ret-132)\\\\n                           (seq\\\\n                            (new $array-inline-63\\\\n                             (seq\\\\n                              (seq\\\\n                               (ap ret-131 $array-inline-63)\\\\n                               (ap #array-inline-62-0 $array-inline-63)\\\\n                              )\\\\n                              (canon %init_peer_id% $array-inline-63  #array-inline-63-0)\\\\n                             )\\\\n                            )\\\\n                            (call %init_peer_id% (\\\\\\\"run-console\\\\\\\" \\\\\\\"print\\\\\\\") [#array-inline-63-0])\\\\n                           )\\\\n                          )\\\\n                         )\\\\n                        )\\\\n                       )\\\\n                       (seq\\\\n                        (seq\\\\n                         (seq\\\\n                          (new $array-inline-64\\\\n                           (seq\\\\n                            (seq\\\\n                             (seq\\\\n                              (ap \\\\\\\"Error deploying spell\\\\\\\" $array-inline-64)\\\\n                              (ap sp-0.$.name $array-inline-64)\\\\n                             )\\\\n                             (ap :error: $array-inline-64)\\\\n                            )\\\\n                            (canon %init_peer_id% $array-inline-64  #array-inline-64-0)\\\\n                           )\\\\n                          )\\\\n                          (call %init_peer_id% (\\\\\\\"debug\\\\\\\" \\\\\\\"stringify\\\\\\\") [#array-inline-64-0] ret-133)\\\\n                         )\\\\n                         (call %init_peer_id% (\\\\\\\"srv\\\\\\\" \\\\\\\"resolve_alias\\\\\\\") [\\\\\\\"spell\\\\\\\"] ret-134)\\\\n                        )\\\\n                        (par\\\\n                         (call %init_peer_id% (ret-134 \\\\\\\"store_log\\\\\\\") [ret-133] ret-135)\\\\n                         (seq\\\\n                          (new $array-inline-65\\\\n                           (seq\\\\n                            (seq\\\\n                             (ap ret-134 $array-inline-65)\\\\n                             (ap #array-inline-64-0 $array-inline-65)\\\\n                            )\\\\n                            (canon %init_peer_id% $array-inline-65  #array-inline-65-0)\\\\n                           )\\\\n                          )\\\\n                          (call %init_peer_id% (\\\\\\\"run-console\\\\\\\" \\\\\\\"print\\\\\\\") [#array-inline-65-0])\\\\n                         )\\\\n                        )\\\\n                       )\\\\n                      )\\\\n                      (next sp-0)\\\\n                     )\\\\n                    )\\\\n                   )\\\\n                   (call %init_peer_id% (\\\\\\\"debug\\\\\\\" \\\\\\\"stringify\\\\\\\") [\\\\\\\"Installation finished\\\\\\\"] ret-136)\\\\n                  )\\\\n                  (call %init_peer_id% (\\\\\\\"srv\\\\\\\" \\\\\\\"resolve_alias\\\\\\\") [\\\\\\\"spell\\\\\\\"] ret-137)\\\\n                 )\\\\n                 (par\\\\n                  (call %init_peer_id% (ret-137 \\\\\\\"store_log\\\\\\\") [ret-136] ret-138)\\\\n                  (seq\\\\n                   (new $array-inline-66\\\\n                    (seq\\\\n                     (seq\\\\n                      (ap ret-137 $array-inline-66)\\\\n                      (ap \\\\\\\"Installation finished\\\\\\\" $array-inline-66)\\\\n                     )\\\\n                     (canon %init_peer_id% $array-inline-66  #array-inline-66-0)\\\\n                    )\\\\n                   )\\\\n                   (call %init_peer_id% (\\\\\\\"run-console\\\\\\\" \\\\\\\"print\\\\\\\") [#array-inline-66-0])\\\\n                  )\\\\n                 )\\\\n                )\\\\n                (new $status-2\\\\n                 (seq\\\\n                  (seq\\\\n                   (seq\\\\n                    (call %init_peer_id% (\\\\\\\"worker-spell\\\\\\\" \\\\\\\"list_get_strings\\\\\\\") [\\\\\\\"__installation_spell_status__\\\\\\\"] ret-139)\\\\n                    (xor\\\\n                     (match ret-139.$.success true\\\\n                      (ap false not-0)\\\\n                     )\\\\n                     (ap true not-0)\\\\n                    )\\\\n                   )\\\\n                   (new -if-else-error-\\\\n                    (new -else-error-\\\\n                     (new -if-error-\\\\n                      (xor\\\\n                       (match not-0 true\\\\n                        (seq\\\\n                         (new %Status_obj-1_map\\\\n                          (seq\\\\n                           (seq\\\\n                            (seq\\\\n                             (ap (\\\\\\\"message\\\\\\\" ret-139.$.error) %Status_obj-1_map)\\\\n                             (ap (\\\\\\\"state\\\\\\\" \\\\\\\"STATUS_LOAD_ERROR\\\\\\\") %Status_obj-1_map)\\\\n                            )\\\\n                            (ap (\\\\\\\"timestamp\\\\\\\" 0) %Status_obj-1_map)\\\\n                           )\\\\n                           (canon %init_peer_id% %Status_obj-1_map  Status_obj-1)\\\\n                          )\\\\n                         )\\\\n                         (ap Status_obj-1 $status-2)\\\\n                        )\\\\n                       )\\\\n                       (seq\\\\n                        (ap :error: -if-error-)\\\\n                        (xor\\\\n                         (match :error:.$.error_code 10001\\\\n                          (seq\\\\n                           (seq\\\\n                            (seq\\\\n                             (ap ret-139.$.value ret-139_flat)\\\\n                             (ap ret-139_flat ret-139_flat_to_functor)\\\\n                            )\\\\n                            (ap ret-139_flat_to_functor.length ret-139_flat_length)\\\\n                           )\\\\n                           (new -if-else-error-\\\\n                            (new -else-error-\\\\n                             (new -if-error-\\\\n                              (xor\\\\n                               (match ret-139_flat_length 0\\\\n                                (seq\\\\n                                 (new %Status_obj-2_map\\\\n                                  (seq\\\\n                                   (seq\\\\n                                    (seq\\\\n                                     (ap (\\\\\\\"message\\\\\\\" \\\\\\\"Installation has not started yet\\\\\\\") %Status_obj-2_map)\\\\n                                     (ap (\\\\\\\"state\\\\\\\" \\\\\\\"NOT_STARTED\\\\\\\") %Status_obj-2_map)\\\\n                                    )\\\\n                                    (ap (\\\\\\\"timestamp\\\\\\\" 0) %Status_obj-2_map)\\\\n                                   )\\\\n                                   (canon %init_peer_id% %Status_obj-2_map  Status_obj-2)\\\\n                                  )\\\\n                                 )\\\\n                                 (ap Status_obj-2 $status-2)\\\\n                                )\\\\n                               )\\\\n                               (seq\\\\n                                (ap :error: -if-error-)\\\\n                                (xor\\\\n                                 (match :error:.$.error_code 10001\\\\n                                  (seq\\\\n                                   (seq\\\\n                                    (seq\\\\n                                     (seq\\\\n                                      (seq\\\\n                                       (ap ret-139.$.value ret-139_flat-0)\\\\n                                       (ap ret-139_flat-0 ret-139_flat-0_to_functor)\\\\n                                      )\\\\n                                      (ap ret-139_flat-0_to_functor.length ret-139_flat-0_length)\\\\n                                     )\\\\n                                     (call %init_peer_id% (\\\\\\\"math\\\\\\\" \\\\\\\"sub\\\\\\\") [ret-139_flat-0_length 1] sub)\\\\n                                    )\\\\n                                    (call %init_peer_id% (\\\\\\\"json\\\\\\\" \\\\\\\"parse\\\\\\\") [ret-139.$.value.[sub]] ret-140)\\\\n                                   )\\\\n                                   (ap ret-140 $status-2)\\\\n                                  )\\\\n                                 )\\\\n                                 (seq\\\\n                                  (seq\\\\n                                   (ap :error: -else-error-)\\\\n                                   (xor\\\\n                                    (match :error:.$.error_code 10001\\\\n                                     (ap -if-error- -if-else-error-)\\\\n                                    )\\\\n                                    (ap -else-error- -if-else-error-)\\\\n                                   )\\\\n                                  )\\\\n                                  (fail -if-else-error-)\\\\n                                 )\\\\n                                )\\\\n                               )\\\\n                              )\\\\n                             )\\\\n                            )\\\\n                           )\\\\n                          )\\\\n                         )\\\\n                         (seq\\\\n                          (seq\\\\n                           (ap :error: -else-error-)\\\\n                           (xor\\\\n                            (match :error:.$.error_code 10001\\\\n                             (ap -if-error- -if-else-error-)\\\\n                            )\\\\n                            (ap -else-error- -if-else-error-)\\\\n                           )\\\\n                          )\\\\n                          (fail -if-else-error-)\\\\n                         )\\\\n                        )\\\\n                       )\\\\n                      )\\\\n                     )\\\\n                    )\\\\n                   )\\\\n                  )\\\\n                  (new $status-2_test\\\\n                   (seq\\\\n                    (seq\\\\n                     (fold $status-2 status-2_fold_var\\\\n                      (seq\\\\n                       (seq\\\\n                        (ap status-2_fold_var $status-2_test)\\\\n                        (canon %init_peer_id% $status-2_test  #status-2_iter_canon)\\\\n                       )\\\\n                       (xor\\\\n                        (match #status-2_iter_canon.length 1\\\\n                         (null)\\\\n                        )\\\\n                        (next status-2_fold_var)\\\\n                       )\\\\n                      )\\\\n                      (never)\\\\n                     )\\\\n                     (canon %init_peer_id% $status-2_test  #status-2_result_canon)\\\\n                    )\\\\n                    (ap #status-2_result_canon status-2_gate)\\\\n                   )\\\\n                  )\\\\n                 )\\\\n                )\\\\n               )\\\\n               (new -if-error-\\\\n                (xor\\\\n                 (match status-2_gate.$.[0].state \\\\\\\"INSTALLATION_IN_PROGRESS\\\\\\\"\\\\n                  (seq\\\\n                   (seq\\\\n                    (seq\\\\n                     (call %init_peer_id% (\\\\\\\"peer\\\\\\\" \\\\\\\"timestamp_sec\\\\\\\") [] ret-141)\\\\n                     (new %Status_obj-3_map\\\\n                      (seq\\\\n                       (seq\\\\n                        (seq\\\\n                         (ap (\\\\\\\"message\\\\\\\" \\\\\\\"\\\\\\\") %Status_obj-3_map)\\\\n                         (ap (\\\\\\\"state\\\\\\\" \\\\\\\"INSTALLATION_SUCCESSFUL\\\\\\\") %Status_obj-3_map)\\\\n                        )\\\\n                        (ap (\\\\\\\"timestamp\\\\\\\" ret-141) %Status_obj-3_map)\\\\n                       )\\\\n                       (canon %init_peer_id% %Status_obj-3_map  Status_obj-3)\\\\n                      )\\\\n                     )\\\\n                    )\\\\n                    (call %init_peer_id% (\\\\\\\"json\\\\\\\" \\\\\\\"stringify\\\\\\\") [Status_obj-3] ret-142)\\\\n                   )\\\\n                   (call %init_peer_id% (\\\\\\\"worker-spell\\\\\\\" \\\\\\\"list_push_string\\\\\\\") [\\\\\\\"__installation_spell_status__\\\\\\\" ret-142] ret-143)\\\\n                  )\\\\n                 )\\\\n                 (seq\\\\n                  (ap :error: -if-error-)\\\\n                  (xor\\\\n                   (match :error:.$.error_code 10001\\\\n                    (null)\\\\n                   )\\\\n                   (fail -if-error-)\\\\n                  )\\\\n                 )\\\\n                )\\\\n               )\\\\n              )\\\\n             )\\\\n             (seq\\\\n              (ap :error: -if-error-)\\\\n              (xor\\\\n               (match :error:.$.error_code 10001\\\\n                (seq\\\\n                 (seq\\\\n                  (seq\\\\n                   (seq\\\\n                    (seq\\\\n                     (seq\\\\n                      (seq\\\\n                       (seq\\\\n                        (new $array-inline-67\\\\n                         (seq\\\\n                          (seq\\\\n                           (seq\\\\n                            (seq\\\\n                             (ap \\\\\\\"Error downloading worker definition from IPFS\\\\\\\" $array-inline-67)\\\\n                             (ap -ipfs-arg- $array-inline-67)\\\\n                            )\\\\n                            (ap -worker_def_cid-arg- $array-inline-67)\\\\n                           )\\\\n                           (ap ret-2 $array-inline-67)\\\\n                          )\\\\n                          (canon %init_peer_id% $array-inline-67  #array-inline-67-0)\\\\n                         )\\\\n                        )\\\\n                        (call %init_peer_id% (\\\\\\\"debug\\\\\\\" \\\\\\\"stringify\\\\\\\") [#array-inline-67-0] ret-144)\\\\n                       )\\\\n                       (call %init_peer_id% (\\\\\\\"srv\\\\\\\" \\\\\\\"resolve_alias\\\\\\\") [\\\\\\\"spell\\\\\\\"] ret-145)\\\\n                      )\\\\n                      (par\\\\n                       (call %init_peer_id% (ret-145 \\\\\\\"store_log\\\\\\\") [ret-144] ret-146)\\\\n                       (seq\\\\n                        (new $array-inline-68\\\\n                         (seq\\\\n                          (seq\\\\n                           (ap ret-145 $array-inline-68)\\\\n                           (ap #array-inline-67-0 $array-inline-68)\\\\n                          )\\\\n                          (canon %init_peer_id% $array-inline-68  #array-inline-68-0)\\\\n                         )\\\\n                        )\\\\n                        (call %init_peer_id% (\\\\\\\"run-console\\\\\\\" \\\\\\\"print\\\\\\\") [#array-inline-68-0])\\\\n                       )\\\\n                      )\\\\n                     )\\\\n                     (call %init_peer_id% (\\\\\\\"debug\\\\\\\" \\\\\\\"stringify\\\\\\\") [#array-inline-67-0] ret-147)\\\\n                    )\\\\n                    (call %init_peer_id% (\\\\\\\"peer\\\\\\\" \\\\\\\"timestamp_sec\\\\\\\") [] ret-148)\\\\n                   )\\\\n                   (new %Status_obj-4_map\\\\n                    (seq\\\\n                     (seq\\\\n                      (seq\\\\n                       (ap (\\\\\\\"message\\\\\\\" ret-147) %Status_obj-4_map)\\\\n                       (ap (\\\\\\\"state\\\\\\\" \\\\\\\"INSTALLATION_FAILED\\\\\\\") %Status_obj-4_map)\\\\n                      )\\\\n                      (ap (\\\\\\\"timestamp\\\\\\\" ret-148) %Status_obj-4_map)\\\\n                     )\\\\n                     (canon %init_peer_id% %Status_obj-4_map  Status_obj-4)\\\\n                    )\\\\n                   )\\\\n                  )\\\\n                  (call %init_peer_id% (\\\\\\\"json\\\\\\\" \\\\\\\"stringify\\\\\\\") [Status_obj-4] ret-149)\\\\n                 )\\\\n                 (call %init_peer_id% (\\\\\\\"worker-spell\\\\\\\" \\\\\\\"list_push_string\\\\\\\") [\\\\\\\"__installation_spell_status__\\\\\\\" ret-149] ret-150)\\\\n                )\\\\n               )\\\\n               (seq\\\\n                (seq\\\\n                 (ap :error: -else-error-)\\\\n                 (xor\\\\n                  (match :error:.$.error_code 10001\\\\n                   (ap -if-error- -if-else-error-)\\\\n                  )\\\\n                  (ap -else-error- -if-else-error-)\\\\n                 )\\\\n                )\\\\n                (fail -if-else-error-)\\\\n               )\\\\n              )\\\\n             )\\\\n            )\\\\n           )\\\\n          )\\\\n         )\\\\n        )\\\\n        (seq\\\\n         (seq\\\\n          (seq\\\\n           (seq\\\\n            (seq\\\\n             (seq\\\\n              (seq\\\\n               (seq\\\\n                (new $array-inline-69\\\\n                 (seq\\\\n                  (seq\\\\n                   (ap \\\\\\\"Error installing worker\\\\\\\" $array-inline-69)\\\\n                   (ap :error: $array-inline-69)\\\\n                  )\\\\n                  (canon %init_peer_id% $array-inline-69  #array-inline-69-0)\\\\n                 )\\\\n                )\\\\n                (call %init_peer_id% (\\\\\\\"debug\\\\\\\" \\\\\\\"stringify\\\\\\\") [#array-inline-69-0] ret-151)\\\\n               )\\\\n               (call %init_peer_id% (\\\\\\\"srv\\\\\\\" \\\\\\\"resolve_alias\\\\\\\") [\\\\\\\"spell\\\\\\\"] ret-152)\\\\n              )\\\\n              (par\\\\n               (call %init_peer_id% (ret-152 \\\\\\\"store_log\\\\\\\") [ret-151] ret-153)\\\\n               (seq\\\\n                (new $array-inline-70\\\\n                 (seq\\\\n                  (seq\\\\n                   (ap ret-152 $array-inline-70)\\\\n                   (ap #array-inline-69-0 $array-inline-70)\\\\n                  )\\\\n                  (canon %init_peer_id% $array-inline-70  #array-inline-70-0)\\\\n                 )\\\\n                )\\\\n                (call %init_peer_id% (\\\\\\\"run-console\\\\\\\" \\\\\\\"print\\\\\\\") [#array-inline-70-0])\\\\n               )\\\\n              )\\\\n             )\\\\n             (call %init_peer_id% (\\\\\\\"debug\\\\\\\" \\\\\\\"stringify\\\\\\\") [#array-inline-69-0] ret-154)\\\\n            )\\\\n            (call %init_peer_id% (\\\\\\\"peer\\\\\\\" \\\\\\\"timestamp_sec\\\\\\\") [] ret-155)\\\\n           )\\\\n           (new %Status_obj-5_map\\\\n            (seq\\\\n             (seq\\\\n              (seq\\\\n               (ap (\\\\\\\"message\\\\\\\" ret-154) %Status_obj-5_map)\\\\n               (ap (\\\\\\\"state\\\\\\\" \\\\\\\"INSTALLATION_FAILED\\\\\\\") %Status_obj-5_map)\\\\n              )\\\\n              (ap (\\\\\\\"timestamp\\\\\\\" ret-155) %Status_obj-5_map)\\\\n             )\\\\n             (canon %init_peer_id% %Status_obj-5_map  Status_obj-5)\\\\n            )\\\\n           )\\\\n          )\\\\n          (call %init_peer_id% (\\\\\\\"json\\\\\\\" \\\\\\\"stringify\\\\\\\") [Status_obj-5] ret-156)\\\\n         )\\\\n         (call %init_peer_id% (\\\\\\\"worker-spell\\\\\\\" \\\\\\\"list_push_string\\\\\\\") [\\\\\\\"__installation_spell_status__\\\\\\\" ret-156] ret-157)\\\\n        )\\\\n       )\\\\n      )\\\\n      (new $status-6\\\\n       (seq\\\\n        (seq\\\\n         (seq\\\\n          (call %init_peer_id% (\\\\\\\"worker-spell\\\\\\\" \\\\\\\"list_get_strings\\\\\\\") [\\\\\\\"__installation_spell_status__\\\\\\\"] ret-158)\\\\n          (xor\\\\n           (match ret-158.$.success true\\\\n            (ap false not-1)\\\\n           )\\\\n           (ap true not-1)\\\\n          )\\\\n         )\\\\n         (new -if-else-error-\\\\n          (new -else-error-\\\\n           (new -if-error-\\\\n            (xor\\\\n             (match not-1 true\\\\n              (seq\\\\n               (new %Status_obj-6_map\\\\n                (seq\\\\n                 (seq\\\\n                  (seq\\\\n                   (ap (\\\\\\\"message\\\\\\\" ret-158.$.error) %Status_obj-6_map)\\\\n                   (ap (\\\\\\\"state\\\\\\\" \\\\\\\"STATUS_LOAD_ERROR\\\\\\\") %Status_obj-6_map)\\\\n                  )\\\\n                  (ap (\\\\\\\"timestamp\\\\\\\" 0) %Status_obj-6_map)\\\\n                 )\\\\n                 (canon %init_peer_id% %Status_obj-6_map  Status_obj-6)\\\\n                )\\\\n               )\\\\n               (ap Status_obj-6 $status-6)\\\\n              )\\\\n             )\\\\n             (seq\\\\n              (ap :error: -if-error-)\\\\n              (xor\\\\n               (match :error:.$.error_code 10001\\\\n                (seq\\\\n                 (seq\\\\n                  (seq\\\\n                   (ap ret-158.$.value ret-158_flat)\\\\n                   (ap ret-158_flat ret-158_flat_to_functor)\\\\n                  )\\\\n                  (ap ret-158_flat_to_functor.length ret-158_flat_length)\\\\n                 )\\\\n                 (new -if-else-error-\\\\n                  (new -else-error-\\\\n                   (new -if-error-\\\\n                    (xor\\\\n                     (match ret-158_flat_length 0\\\\n                      (seq\\\\n                       (new %Status_obj-7_map\\\\n                        (seq\\\\n                         (seq\\\\n                          (seq\\\\n                           (ap (\\\\\\\"message\\\\\\\" \\\\\\\"Installation has not started yet\\\\\\\") %Status_obj-7_map)\\\\n                           (ap (\\\\\\\"state\\\\\\\" \\\\\\\"NOT_STARTED\\\\\\\") %Status_obj-7_map)\\\\n                          )\\\\n                          (ap (\\\\\\\"timestamp\\\\\\\" 0) %Status_obj-7_map)\\\\n                         )\\\\n                         (canon %init_peer_id% %Status_obj-7_map  Status_obj-7)\\\\n                        )\\\\n                       )\\\\n                       (ap Status_obj-7 $status-6)\\\\n                      )\\\\n                     )\\\\n                     (seq\\\\n                      (ap :error: -if-error-)\\\\n                      (xor\\\\n                       (match :error:.$.error_code 10001\\\\n                        (seq\\\\n                         (seq\\\\n                          (seq\\\\n                           (seq\\\\n                            (seq\\\\n                             (ap ret-158.$.value ret-158_flat-0)\\\\n                             (ap ret-158_flat-0 ret-158_flat-0_to_functor)\\\\n                            )\\\\n                            (ap ret-158_flat-0_to_functor.length ret-158_flat-0_length)\\\\n                           )\\\\n                           (call %init_peer_id% (\\\\\\\"math\\\\\\\" \\\\\\\"sub\\\\\\\") [ret-158_flat-0_length 1] sub-0)\\\\n                          )\\\\n                          (call %init_peer_id% (\\\\\\\"json\\\\\\\" \\\\\\\"parse\\\\\\\") [ret-158.$.value.[sub-0]] ret-159)\\\\n                         )\\\\n                         (ap ret-159 $status-6)\\\\n                        )\\\\n                       )\\\\n                       (seq\\\\n                        (seq\\\\n                         (ap :error: -else-error-)\\\\n                         (xor\\\\n                          (match :error:.$.error_code 10001\\\\n                           (ap -if-error- -if-else-error-)\\\\n                          )\\\\n                          (ap -else-error- -if-else-error-)\\\\n                         )\\\\n                        )\\\\n                        (fail -if-else-error-)\\\\n                       )\\\\n                      )\\\\n                     )\\\\n                    )\\\\n                   )\\\\n                  )\\\\n                 )\\\\n                )\\\\n               )\\\\n               (seq\\\\n                (seq\\\\n                 (ap :error: -else-error-)\\\\n                 (xor\\\\n                  (match :error:.$.error_code 10001\\\\n                   (ap -if-error- -if-else-error-)\\\\n                  )\\\\n                  (ap -else-error- -if-else-error-)\\\\n                 )\\\\n                )\\\\n                (fail -if-else-error-)\\\\n               )\\\\n              )\\\\n             )\\\\n            )\\\\n           )\\\\n          )\\\\n         )\\\\n        )\\\\n        (new $status-6_test\\\\n         (seq\\\\n          (seq\\\\n           (fold $status-6 status-6_fold_var\\\\n            (seq\\\\n             (seq\\\\n              (ap status-6_fold_var $status-6_test)\\\\n              (canon %init_peer_id% $status-6_test  #status-6_iter_canon)\\\\n             )\\\\n             (xor\\\\n              (match #status-6_iter_canon.length 1\\\\n               (null)\\\\n              )\\\\n              (next status-6_fold_var)\\\\n             )\\\\n            )\\\\n            (never)\\\\n           )\\\\n           (canon %init_peer_id% $status-6_test  #status-6_result_canon)\\\\n          )\\\\n          (ap #status-6_result_canon status-6_gate)\\\\n         )\\\\n        )\\\\n       )\\\\n      )\\\\n     )\\\\n     (new $array-inline-71\\\\n      (seq\\\\n       (seq\\\\n        (ap \\\\\\\"Worker installation finished with status\\\\\\\" $array-inline-71)\\\\n        (ap status-6_gate.$.[0] $array-inline-71)\\\\n       )\\\\n       (canon %init_peer_id% $array-inline-71  #array-inline-71-0)\\\\n      )\\\\n     )\\\\n    )\\\\n    (call %init_peer_id% (\\\\\\\"debug\\\\\\\" \\\\\\\"stringify\\\\\\\") [#array-inline-71-0] ret-160)\\\\n   )\\\\n   (call %init_peer_id% (\\\\\\\"srv\\\\\\\" \\\\\\\"resolve_alias\\\\\\\") [\\\\\\\"spell\\\\\\\"] ret-161)\\\\n  )\\\\n  (par\\\\n   (call %init_peer_id% (ret-161 \\\\\\\"store_log\\\\\\\") [ret-160] ret-162)\\\\n   (seq\\\\n    (new $array-inline-72\\\\n     (seq\\\\n      (seq\\\\n       (ap ret-161 $array-inline-72)\\\\n       (ap #array-inline-71-0 $array-inline-72)\\\\n      )\\\\n      (canon %init_peer_id% $array-inline-72  #array-inline-72-0)\\\\n     )\\\\n    )\\\\n    (call %init_peer_id% (\\\\\\\"run-console\\\\\\\" \\\\\\\"print\\\\\\\") [#array-inline-72-0])\\\\n   )\\\\n  )\\\\n )\\\\n (call %init_peer_id% (\\\\\\\"errorHandlingSrv\\\\\\\" \\\\\\\"error\\\\\\\") [:error: 0])\\\\n)\\\\n\\\"}\",\"error:\",{\"error_code\":10007,\"instruction\":\"call %init_peer_id% (\\\"json\\\" \\\"stringify\\\") [ret-328.$.tx_info] ret-329\",\"message\":\"value '{\\\"config\\\":{\\\"blockchain\\\":{\\\"end_block\\\":0,\\\"start_block\\\":0},\\\"clock\\\":{\\\"end_sec\\\":0,\\\"period_sec\\\":0,\\\"start_sec\\\":1},\\\"connections\\\":{\\\"connect\\\":false,\\\"disconnect\\\":false}},\\\"ipfs\\\":\\\"/ip4/127.0.0.1/tcp/5001\\\",\\\"script\\\":\\\"(xor\\\\n (seq\\\\n  (seq\\\\n   (seq\\\\n    (seq\\\\n     (seq\\\\n      (seq\\\\n       (seq\\\\n        (seq\\\\n         (seq\\\\n          (seq\\\\n           (seq\\\\n            (seq\\\\n             (seq\\\\n              (seq\\\\n               (seq\\\\n                (seq\\\\n                 (call %init_peer_id% (\\\\\\\"getDataSrv\\\\\\\" \\\\\\\"-relay-\\\\\\\") [] -relay-)\\\\n                 (call %init_peer_id% (\\\\\\\"getDataSrv\\\\\\\" \\\\\\\"spell_id\\\\\\\") [] -spell_id-arg-)\\\\n                )\\\\n                (call %init_peer_id% (\\\\\\\"getDataSrv\\\\\\\" \\\\\\\"ipfs\\\\\\\") [] -ipfs-arg-)\\\\n               )\\\\n               (call %init_peer_id% (\\\\\\\"getDataSrv\\\\\\\" \\\\\\\"deal_id\\\\\\\") [] -deal_id-arg-)\\\\n              )\\\\n              (call %init_peer_id% (\\\\\\\"getDataSrv\\\\\\\" \\\\\\\"worker_def_cid\\\\\\\") [] -worker_def_cid-arg-)\\\\n             )\\\\n             (new $array-inline\\\\n              (seq\\\\n               (seq\\\\n                (seq\\\\n                 (seq\\\\n                  (seq\\\\n                   (ap \\\\\\\"worker\\\\\\\" $array-inline)\\\\n                   (ap -spell_id-arg- $array-inline)\\\\n                  )\\\\n                  (ap -deal_id-arg- $array-inline)\\\\n                 )\\\\n                 (ap -worker_def_cid-arg- $array-inline)\\\\n                )\\\\n                (ap -ipfs-arg- $array-inline)\\\\n               )\\\\n               (canon %init_peer_id% $array-inline  #array-inline-0)\\\\n              )\\\\n             )\\\\n            )\\\\n            (call %init_peer_id% (\\\\\\\"run-console\\\\\\\" \\\\\\\"print\\\\\\\") [#array-inline-0])\\\\n           )\\\\n           (new $array-inline-1\\\\n            (seq\\\\n             (seq\\\\n              (ap \\\\\\\"Installing worker for deal\\\\\\\" $array-inline-1)\\\\n              (ap -deal_id-arg- $array-inline-1)\\\\n             )\\\\n             (canon %init_peer_id% $array-inline-1  #array-inline-1-0)\\\\n            )\\\\n           )\\\\n          )\\\\n          (call %init_peer_id% (\\\\\\\"debug\\\\\\\" \\\\\\\"stringify\\\\\\\") [#array-inline-1-0] ret)\\\\n         )\\\\n         (call %init_peer_id% (\\\\\\\"srv\\\\\\\" \\\\\\\"resolve_alias\\\\\\\") [\\\\\\\"spell\\\\\\\"] ret-0)\\\\n        )\\\\n        (par\\\\n         (call %init_peer_id% (ret-0 \\\\\\\"store_log\\\\\\\") [ret] ret-1)\\\\n         (seq\\\\n          (new $array-inline-2\\\\n           (seq\\\\n            (seq\\\\n             (ap ret-0 $array-inline-2)\\\\n             (ap #array-inline-1-0 $array-inline-2)\\\\n            )\\\\n            (canon %init_peer_id% $array-inline-2  #array-inline-2-0)\\\\n           )\\\\n          )\\\\n          (call %init_peer_id% (\\\\\\\"run-console\\\\\\\" \\\\\\\"print\\\\\\\") [#array-inline-2-0])\\\\n         )\\\\n        )\\\\n       )\\\\n       (xor\\\\n        (seq\\\\n         (call %init_peer_id% (\\\\\\\"aqua-ipfs\\\\\\\" \\\\\\\"cat_from\\\\\\\") [-worker_def_cid-arg- -ipfs-arg-] ret-2)\\\\n         (new -if-else-error-\\\\n          (new -else-error-\\\\n           (new -if-error-\\\\n            (xor\\\\n             (match ret-2.$.success true\\\\n              (seq\\\\n               (seq\\\\n                (seq\\\\n                 (seq\\\\n                  (seq\\\\n                   (seq\\\\n                    (seq\\\\n                     (seq\\\\n                      (seq\\\\n                       (seq\\\\n                        (seq\\\\n                         (call %init_peer_id% (\\\\\\\"json\\\\\\\" \\\\\\\"parse\\\\\\\") [ret-2.$.contents] ret-3)\\\\n                         (new $array-inline-3\\\\n                          (seq\\\\n                           (seq\\\\n                            (seq\\\\n                             (ap \\\\\\\"parsed worker definition\\\\\\\" $array-inline-3)\\\\n                             (ap -worker_def_cid-arg- $array-inline-3)\\\\n                            )\\\\n                            (ap ret-3 $array-inline-3)\\\\n                           )\\\\n                           (canon %init_peer_id% $array-inline-3  #array-inline-3-0)\\\\n                          )\\\\n                         )\\\\n                        )\\\\n                        (call %init_peer_id% (\\\\\\\"debug\\\\\\\" \\\\\\\"stringify\\\\\\\") [#array-inline-3-0] ret-4)\\\\n                       )\\\\n                       (call %init_peer_id% (\\\\\\\"srv\\\\\\\" \\\\\\\"resolve_alias\\\\\\\") [\\\\\\\"spell\\\\\\\"] ret-5)\\\\n                      )\\\\n                      (par\\\\n                       (call %init_peer_id% (ret-5 \\\\\\\"store_log\\\\\\\") [ret-4] ret-6)\\\\n                       (seq\\\\n                        (new $array-inline-4\\\\n                         (seq\\\\n                          (seq\\\\n                           (ap ret-5 $array-inline-4)\\\\n                           (ap #array-inline-3-0 $array-inline-4)\\\\n                          )\\\\n                          (canon %init_peer_id% $array-inline-4  #array-inline-4-0)\\\\n                         )\\\\n                        )\\\\n                        (call %init_peer_id% (\\\\\\\"run-console\\\\\\\" \\\\\\\"print\\\\\\\") [#array-inline-4-0])\\\\n                       )\\\\n                      )\\\\n                     )\\\\n                     (fold ret-3.$.services s-0\\\\n                      (seq\\\\n                       (xor\\\\n                        (seq\\\\n                         (seq\\\\n                          (new $hashes-0\\\\n                           (seq\\\\n                            (seq\\\\n                             (fold s-0.$.modules m-0\\\\n                              (seq\\\\n                               (seq\\\\n                                (seq\\\\n                                 (seq\\\\n                                  (call %init_peer_id% (\\\\\\\"aqua-ipfs\\\\\\\" \\\\\\\"get_from\\\\\\\") [m-0.$.wasm -ipfs-arg-] ret-7)\\\\n                                  (call %init_peer_id% (\\\\\\\"aqua-ipfs\\\\\\\" \\\\\\\"cat_from\\\\\\\") [m-0.$.config -ipfs-arg-] ret-8)\\\\n                                 )\\\\n                                 (xor\\\\n                                  (match ret-7.$.success false\\\\n                                   (ap ret-7.$.success and)\\\\n                                  )\\\\n                                  (ap ret-8.$.success and)\\\\n                                 )\\\\n                                )\\\\n                                (new -if-else-error-\\\\n                                 (new -else-error-\\\\n                                  (new -if-error-\\\\n                                   (xor\\\\n                                    (match and true\\\\n                                     (seq\\\\n                                      (seq\\\\n                                       (call %init_peer_id% (\\\\\\\"json\\\\\\\" \\\\\\\"parse\\\\\\\") [ret-8.$.contents] ret-9)\\\\n                                       (call %init_peer_id% (\\\\\\\"dist\\\\\\\" \\\\\\\"add_module_from_vault\\\\\\\") [ret-7.$.path ret-9] ret-10)\\\\n                                      )\\\\n                                      (ap ret-10 $hashes-0)\\\\n                                     )\\\\n                                    )\\\\n                                    (seq\\\\n                                     (ap :error: -if-error-)\\\\n                                     (xor\\\\n                                      (match :error:.$.error_code 10001\\\\n                                       (seq\\\\n                                        (seq\\\\n                                         (seq\\\\n                                          (new $array-inline-5\\\\n                                           (seq\\\\n                                            (seq\\\\n                                             (seq\\\\n                                              (seq\\\\n                                               (seq\\\\n                                                (seq\\\\n                                                 (new $array-inline-6\\\\n                                                  (seq\\\\n                                                   (seq\\\\n                                                    (seq\\\\n                                                     (ap \\\\\\\"wasm\\\\\\\" $array-inline-6)\\\\n                                                     (ap m-0.$.wasm $array-inline-6)\\\\n                                                    )\\\\n                                                    (ap ret-7 $array-inline-6)\\\\n                                                   )\\\\n                                                   (canon %init_peer_id% $array-inline-6  #array-inline-6-0)\\\\n                                                  )\\\\n                                                 )\\\\n                                                 (new $array-inline-7\\\\n                                                  (seq\\\\n                                                   (seq\\\\n                                                    (seq\\\\n                                                     (ap \\\\\\\"config\\\\\\\" $array-inline-7)\\\\n                                                     (ap m-0.$.config $array-inline-7)\\\\n                                                    )\\\\n                                                    (ap ret-8 $array-inline-7)\\\\n                                                   )\\\\n                                                   (canon %init_peer_id% $array-inline-7  #array-inline-7-0)\\\\n                                                  )\\\\n                                                 )\\\\n                                                )\\\\n                                                (ap s-0.$.name $array-inline-5)\\\\n                                               )\\\\n                                               (ap \\\\\\\"error retrieving module\\\\\\\" $array-inline-5)\\\\n                                              )\\\\n                                              (ap #array-inline-6-0 $array-inline-5)\\\\n                                             )\\\\n                                             (ap #array-inline-7-0 $array-inline-5)\\\\n                                            )\\\\n                                            (canon %init_peer_id% $array-inline-5  #array-inline-5-0)\\\\n                                           )\\\\n                                          )\\\\n                                          (call %init_peer_id% (\\\\\\\"debug\\\\\\\" \\\\\\\"stringify\\\\\\\") [#array-inline-5-0] ret-11)\\\\n                                         )\\\\n                                         (call %init_peer_id% (\\\\\\\"srv\\\\\\\" \\\\\\\"resolve_alias\\\\\\\") [\\\\\\\"spell\\\\\\\"] ret-12)\\\\n                                        )\\\\n                                        (par\\\\n                                         (call %init_peer_id% (ret-12 \\\\\\\"store_log\\\\\\\") [ret-11] ret-13)\\\\n                                         (seq\\\\n                                          (new $array-inline-8\\\\n                                           (seq\\\\n                                            (seq\\\\n                                             (ap ret-12 $array-inline-8)\\\\n                                             (ap #array-inline-5-0 $array-inline-8)\\\\n                                            )\\\\n                                            (canon %init_peer_id% $array-inline-8  #array-inline-8-0)\\\\n                                           )\\\\n                                          )\\\\n                                          (call %init_peer_id% (\\\\\\\"run-console\\\\\\\" \\\\\\\"print\\\\\\\") [#array-inline-8-0])\\\\n                                         )\\\\n                                        )\\\\n                                       )\\\\n                                      )\\\\n                                      (seq\\\\n                                       (seq\\\\n                                        (ap :error: -else-error-)\\\\n                                        (xor\\\\n                                         (match :error:.$.error_code 10001\\\\n                                          (ap -if-error- -if-else-error-)\\\\n                                         )\\\\n                                         (ap -else-error- -if-else-error-)\\\\n                                        )\\\\n                                       )\\\\n                                       (fail -if-else-error-)\\\\n                                      )\\\\n                                     )\\\\n                                    )\\\\n                                   )\\\\n                                  )\\\\n                                 )\\\\n                                )\\\\n                               )\\\\n                               (next m-0)\\\\n                              )\\\\n                             )\\\\n                             (canon %init_peer_id% $hashes-0  #-hashes-fix-0)\\\\n                            )\\\\n                            (ap #-hashes-fix-0 -hashes-flat-0)\\\\n                           )\\\\n                          )\\\\n                          (par\\\\n                           (seq\\\\n                            (ap -hashes-flat-0 -hashes-flat-0_to_functor)\\\\n                            (ap -hashes-flat-0_to_functor.length -hashes-flat-0_length)\\\\n                           )\\\\n                           (seq\\\\n                            (seq\\\\n                             (ap s-0.$.modules s-0_flat)\\\\n                             (ap s-0_flat s-0_flat_to_functor)\\\\n                            )\\\\n                            (ap s-0_flat_to_functor.length s-0_flat_length)\\\\n                           )\\\\n                          )\\\\n                         )\\\\n                         (new -if-else-error-\\\\n                          (new -else-error-\\\\n                           (new -if-error-\\\\n                            (xor\\\\n                             (match -hashes-flat-0_length s-0_flat_length\\\\n                              (seq\\\\n                               (seq\\\\n                                (seq\\\\n                                 (seq\\\\n                                  (call %init_peer_id% (\\\\\\\"dist\\\\\\\" \\\\\\\"make_blueprint\\\\\\\") [s-0.$.name -hashes-flat-0] ret-14)\\\\n                                  (call %init_peer_id% (\\\\\\\"dist\\\\\\\" \\\\\\\"add_blueprint\\\\\\\") [ret-14] ret-15)\\\\n                                 )\\\\n                                 (new $result\\\\n                                  (seq\\\\n                                   (seq\\\\n                                    (seq\\\\n                                     (call %init_peer_id% (\\\\\\\"worker-spell\\\\\\\" \\\\\\\"get_string\\\\\\\") [s-0.$.name] ret-16)\\\\n                                     (xor\\\\n                                      (match ret-16.$.success false\\\\n                                       (ap ret-16.$.success and-0)\\\\n                                      )\\\\n                                      (ap ret-16.$.absent and-0)\\\\n                                     )\\\\n                                    )\\\\n                                    (new -if-else-error-\\\\n                                     (new -else-error-\\\\n                                      (new -if-error-\\\\n                                       (xor\\\\n                                        (match and-0 true\\\\n                                         (ap false $result)\\\\n                                        )\\\\n                                        (seq\\\\n                                         (ap :error: -if-error-)\\\\n                                         (xor\\\\n                                          (match :error:.$.error_code 10001\\\\n                                           (seq\\\\n                                            (seq\\\\n                                             (ap ret-16.$.value ret-16_flat)\\\\n                                             (call %init_peer_id% (\\\\\\\"srv\\\\\\\" \\\\\\\"info\\\\\\\") [ret-16_flat] ret-17)\\\\n                                            )\\\\n                                            (new -if-else-error-\\\\n                                             (new -else-error-\\\\n                                              (new -if-error-\\\\n                                               (xor\\\\n                                                (match ret-17.$.blueprint_id ret-15\\\\n                                                 (ap true $result)\\\\n                                                )\\\\n                                                (seq\\\\n                                                 (ap :error: -if-error-)\\\\n                                                 (xor\\\\n                                                  (match :error:.$.error_code 10001\\\\n                                                   (seq\\\\n                                                    (seq\\\\n                                                     (seq\\\\n                                                      (seq\\\\n                                                       (seq\\\\n                                                        (new $array-inline-9\\\\n                                                         (seq\\\\n                                                          (seq\\\\n                                                           (ap s-0.$.name $array-inline-9)\\\\n                                                           (ap \\\\\\\"blueprint changed, need to redeploy\\\\\\\" $array-inline-9)\\\\n                                                          )\\\\n                                                          (canon %init_peer_id% $array-inline-9  #array-inline-9-0)\\\\n                                                         )\\\\n                                                        )\\\\n                                                        (call %init_peer_id% (\\\\\\\"debug\\\\\\\" \\\\\\\"stringify\\\\\\\") [#array-inline-9-0] ret-18)\\\\n                                                       )\\\\n                                                       (call %init_peer_id% (\\\\\\\"srv\\\\\\\" \\\\\\\"resolve_alias\\\\\\\") [\\\\\\\"spell\\\\\\\"] ret-19)\\\\n                                                      )\\\\n                                                      (par\\\\n                                                       (call %init_peer_id% (ret-19 \\\\\\\"store_log\\\\\\\") [ret-18] ret-20)\\\\n                                                       (seq\\\\n                                                        (new $array-inline-10\\\\n                                                         (seq\\\\n                                                          (seq\\\\n                                                           (ap ret-19 $array-inline-10)\\\\n                                                           (ap #array-inline-9-0 $array-inline-10)\\\\n                                                          )\\\\n                                                          (canon %init_peer_id% $array-inline-10  #array-inline-10-0)\\\\n                                                         )\\\\n                                                        )\\\\n                                                        (call %init_peer_id% (\\\\\\\"run-console\\\\\\\" \\\\\\\"print\\\\\\\") [#array-inline-10-0])\\\\n                                                       )\\\\n                                                      )\\\\n                                                     )\\\\n                                                     (xor\\\\n                                                      (seq\\\\n                                                       (seq\\\\n                                                        (seq\\\\n                                                         (seq\\\\n                                                          (seq\\\\n                                                           (seq\\\\n                                                            (seq\\\\n                                                             (seq\\\\n                                                              (new $array-inline-11\\\\n                                                               (seq\\\\n                                                                (seq\\\\n                                                                 (seq\\\\n                                                                  (ap s-0.$.name $array-inline-11)\\\\n                                                                  (ap \\\\\\\"removing old service\\\\\\\" $array-inline-11)\\\\n                                                                 )\\\\n                                                                 (ap ret-16_flat $array-inline-11)\\\\n                                                                )\\\\n                                                                (canon %init_peer_id% $array-inline-11  #array-inline-11-0)\\\\n                                                               )\\\\n                                                              )\\\\n                                                              (call %init_peer_id% (\\\\\\\"debug\\\\\\\" \\\\\\\"stringify\\\\\\\") [#array-inline-11-0] ret-21)\\\\n                                                             )\\\\n                                                             (call %init_peer_id% (\\\\\\\"srv\\\\\\\" \\\\\\\"resolve_alias\\\\\\\") [\\\\\\\"spell\\\\\\\"] ret-22)\\\\n                                                            )\\\\n                                                            (par\\\\n                                                             (call %init_peer_id% (ret-22 \\\\\\\"store_log\\\\\\\") [ret-21] ret-23)\\\\n                                                             (seq\\\\n                                                              (new $array-inline-12\\\\n                                                               (seq\\\\n                                                                (seq\\\\n                                                                 (ap ret-22 $array-inline-12)\\\\n                                                                 (ap #array-inline-11-0 $array-inline-12)\\\\n                                                                )\\\\n                                                                (canon %init_peer_id% $array-inline-12  #array-inline-12-0)\\\\n                                                               )\\\\n                                                              )\\\\n                                                              (call %init_peer_id% (\\\\\\\"run-console\\\\\\\" \\\\\\\"print\\\\\\\") [#array-inline-12-0])\\\\n                                                             )\\\\n                                                            )\\\\n                                                           )\\\\n                                                           (call %init_peer_id% (\\\\\\\"srv\\\\\\\" \\\\\\\"remove\\\\\\\") [ret-16_flat])\\\\n                                                          )\\\\n                                                          (new $array-inline-13\\\\n                                                           (seq\\\\n                                                            (seq\\\\n                                                             (seq\\\\n                                                              (ap s-0.$.name $array-inline-13)\\\\n                                                              (ap \\\\\\\"old service successfully removed\\\\\\\" $array-inline-13)\\\\n                                                             )\\\\n                                                             (ap ret-16_flat $array-inline-13)\\\\n                                                            )\\\\n                                                            (canon %init_peer_id% $array-inline-13  #array-inline-13-0)\\\\n                                                           )\\\\n                                                          )\\\\n                                                         )\\\\n                                                         (call %init_peer_id% (\\\\\\\"debug\\\\\\\" \\\\\\\"stringify\\\\\\\") [#array-inline-13-0] ret-24)\\\\n                                                        )\\\\n                                                        (call %init_peer_id% (\\\\\\\"srv\\\\\\\" \\\\\\\"resolve_alias\\\\\\\") [\\\\\\\"spell\\\\\\\"] ret-25)\\\\n                                                       )\\\\n                                                       (par\\\\n                                                        (call %init_peer_id% (ret-25 \\\\\\\"store_log\\\\\\\") [ret-24] ret-26)\\\\n                                                        (seq\\\\n                                                         (new $array-inline-14\\\\n                                                          (seq\\\\n                                                           (seq\\\\n                                                            (ap ret-25 $array-inline-14)\\\\n                                                            (ap #array-inline-13-0 $array-inline-14)\\\\n                                                           )\\\\n                                                           (canon %init_peer_id% $array-inline-14  #array-inline-14-0)\\\\n                                                          )\\\\n                                                         )\\\\n                                                         (call %init_peer_id% (\\\\\\\"run-console\\\\\\\" \\\\\\\"print\\\\\\\") [#array-inline-14-0])\\\\n                                                        )\\\\n                                                       )\\\\n                                                      )\\\\n                                                      (seq\\\\n                                                       (seq\\\\n                                                        (seq\\\\n                                                         (new $array-inline-15\\\\n                                                          (seq\\\\n                                                           (seq\\\\n                                                            (seq\\\\n                                                             (ap \\\\\\\"Error removing service\\\\\\\" $array-inline-15)\\\\n                                                             (ap s-0.$.name $array-inline-15)\\\\n                                                            )\\\\n                                                            (ap :error: $array-inline-15)\\\\n                                                           )\\\\n                                                           (canon %init_peer_id% $array-inline-15  #array-inline-15-0)\\\\n                                                          )\\\\n                                                         )\\\\n                                                         (call %init_peer_id% (\\\\\\\"debug\\\\\\\" \\\\\\\"stringify\\\\\\\") [#array-inline-15-0] ret-27)\\\\n                                                        )\\\\n                                                        (call %init_peer_id% (\\\\\\\"srv\\\\\\\" \\\\\\\"resolve_alias\\\\\\\") [\\\\\\\"spell\\\\\\\"] ret-28)\\\\n                                                       )\\\\n                                                       (par\\\\n                                                        (call %init_peer_id% (ret-28 \\\\\\\"store_log\\\\\\\") [ret-27] ret-29)\\\\n                                                        (seq\\\\n                                                         (new $array-inline-16\\\\n                                                          (seq\\\\n                                                           (seq\\\\n                                                            (ap ret-28 $array-inline-16)\\\\n                                                            (ap #array-inline-15-0 $array-inline-16)\\\\n                                                           )\\\\n                                                           (canon %init_peer_id% $array-inline-16  #array-inline-16-0)\\\\n                                                          )\\\\n                                                         )\\\\n                                                         (call %init_peer_id% (\\\\\\\"run-console\\\\\\\" \\\\\\\"print\\\\\\\") [#array-inline-16-0])\\\\n                                                        )\\\\n                                                       )\\\\n                                                      )\\\\n                                                     )\\\\n                                                    )\\\\n                                                    (ap false $result)\\\\n                                                   )\\\\n                                                  )\\\\n                                                  (seq\\\\n                                                   (seq\\\\n                                                    (ap :error: -else-error-)\\\\n                                                    (xor\\\\n                                                     (match :error:.$.error_code 10001\\\\n                                                      (ap -if-error- -if-else-error-)\\\\n                                                     )\\\\n                                                     (ap -else-error- -if-else-error-)\\\\n                                                    )\\\\n                                                   )\\\\n                                                   (fail -if-else-error-)\\\\n                                                  )\\\\n                                                 )\\\\n                                                )\\\\n                                               )\\\\n                                              )\\\\n                                             )\\\\n                                            )\\\\n                                           )\\\\n                                          )\\\\n                                          (seq\\\\n                                           (seq\\\\n                                            (ap :error: -else-error-)\\\\n                                            (xor\\\\n                                             (match :error:.$.error_code 10001\\\\n                                              (ap -if-error- -if-else-error-)\\\\n                                             )\\\\n                                             (ap -else-error- -if-else-error-)\\\\n                                            )\\\\n                                           )\\\\n                                           (fail -if-else-error-)\\\\n                                          )\\\\n                                         )\\\\n                                        )\\\\n                                       )\\\\n                                      )\\\\n                                     )\\\\n                                    )\\\\n                                   )\\\\n                                   (new $result_test\\\\n                                    (seq\\\\n                                     (seq\\\\n                                      (fold $result result_fold_var\\\\n                                       (seq\\\\n                                        (seq\\\\n                                         (ap result_fold_var $result_test)\\\\n                                         (canon %init_peer_id% $result_test  #result_iter_canon)\\\\n                                        )\\\\n                                        (xor\\\\n                                         (match #result_iter_canon.length 1\\\\n                                          (null)\\\\n                                         )\\\\n                                         (next result_fold_var)\\\\n                                        )\\\\n                                       )\\\\n                                       (never)\\\\n                                      )\\\\n                                      (canon %init_peer_id% $result_test  #result_result_canon)\\\\n                                     )\\\\n                                     (ap #result_result_canon result_gate)\\\\n                                    )\\\\n                                   )\\\\n                                  )\\\\n                                 )\\\\n                                )\\\\n                                (xor\\\\n                                 (match result_gate.$.[0] true\\\\n                                  (ap false not)\\\\n                                 )\\\\n                                 (ap true not)\\\\n                                )\\\\n                               )\\\\n                               (new -if-else-error-\\\\n                                (new -else-error-\\\\n                                 (new -if-error-\\\\n                                  (xor\\\\n                                   (match not true\\\\n                                    (seq\\\\n                                     (seq\\\\n                                      (seq\\\\n                                       (seq\\\\n                                        (seq\\\\n                                         (seq\\\\n                                          (seq\\\\n                                           (seq\\\\n                                            (seq\\\\n                                             (seq\\\\n                                              (seq\\\\n                                               (seq\\\\n                                                (call %init_peer_id% (\\\\\\\"peer\\\\\\\" \\\\\\\"timestamp_sec\\\\\\\") [] ret-30)\\\\n                                                (new %Status_obj_map\\\\n                                                 (seq\\\\n                                                  (seq\\\\n                                                   (seq\\\\n                                                    (ap (\\\\\\\"message\\\\\\\" \\\\\\\"\\\\\\\") %Status_obj_map)\\\\n                                                    (ap (\\\\\\\"state\\\\\\\" \\\\\\\"INSTALLATION_IN_PROGRESS\\\\\\\") %Status_obj_map)\\\\n                                                   )\\\\n                                                   (ap (\\\\\\\"timestamp\\\\\\\" ret-30) %Status_obj_map)\\\\n                                                  )\\\\n                                                  (canon %init_peer_id% %Status_obj_map  Status_obj)\\\\n                                                 )\\\\n                                                )\\\\n                                               )\\\\n                                               (call %init_peer_id% (\\\\\\\"json\\\\\\\" \\\\\\\"stringify\\\\\\\") [Status_obj] ret-31)\\\\n                                              )\\\\n                                              (call %init_peer_id% (\\\\\\\"worker-spell\\\\\\\" \\\\\\\"list_push_string\\\\\\\") [\\\\\\\"__installation_spell_status__\\\\\\\" ret-31] ret-32)\\\\n                                             )\\\\n                                             (call %init_peer_id% (\\\\\\\"srv\\\\\\\" \\\\\\\"create\\\\\\\") [ret-15] ret-33)\\\\n                                            )\\\\n                                            (new $array-inline-17\\\\n                                             (seq\\\\n                                              (seq\\\\n                                               (seq\\\\n                                                (ap \\\\\\\"Created service\\\\\\\" $array-inline-17)\\\\n                                                (ap s-0.$.name $array-inline-17)\\\\n                                               )\\\\n                                               (ap ret-33 $array-inline-17)\\\\n                                              )\\\\n                                              (canon %init_peer_id% $array-inline-17  #array-inline-17-0)\\\\n                                             )\\\\n                                            )\\\\n                                           )\\\\n                                           (call %init_peer_id% (\\\\\\\"debug\\\\\\\" \\\\\\\"stringify\\\\\\\") [#array-inline-17-0] ret-34)\\\\n                                          )\\\\n                                          (call %init_peer_id% (\\\\\\\"srv\\\\\\\" \\\\\\\"resolve_alias\\\\\\\") [\\\\\\\"spell\\\\\\\"] ret-35)\\\\n                                         )\\\\n                                         (par\\\\n                                          (call %init_peer_id% (ret-35 \\\\\\\"store_log\\\\\\\") [ret-34] ret-36)\\\\n                                          (seq\\\\n                                           (new $array-inline-18\\\\n                                            (seq\\\\n                                             (seq\\\\n                                              (ap ret-35 $array-inline-18)\\\\n                                              (ap #array-inline-17-0 $array-inline-18)\\\\n                                             )\\\\n                                             (canon %init_peer_id% $array-inline-18  #array-inline-18-0)\\\\n                                            )\\\\n                                           )\\\\n                                           (call %init_peer_id% (\\\\\\\"run-console\\\\\\\" \\\\\\\"print\\\\\\\") [#array-inline-18-0])\\\\n                                          )\\\\n                                         )\\\\n                                        )\\\\n                                        (xor\\\\n                                         (call %init_peer_id% (\\\\\\\"srv\\\\\\\" \\\\\\\"add_alias\\\\\\\") [s-0.$.name ret-33])\\\\n                                         (seq\\\\n                                          (seq\\\\n                                           (seq\\\\n                                            (new $array-inline-19\\\\n                                             (seq\\\\n                                              (seq\\\\n                                               (seq\\\\n                                                (seq\\\\n                                                 (ap \\\\\\\"Error creating alias for deployed service\\\\\\\" $array-inline-19)\\\\n                                                 (ap s-0.$.name $array-inline-19)\\\\n                                                )\\\\n                                                (ap ret-33 $array-inline-19)\\\\n                                               )\\\\n                                               (ap :error: $array-inline-19)\\\\n                                              )\\\\n                                              (canon %init_peer_id% $array-inline-19  #array-inline-19-0)\\\\n                                             )\\\\n                                            )\\\\n                                            (call %init_peer_id% (\\\\\\\"debug\\\\\\\" \\\\\\\"stringify\\\\\\\") [#array-inline-19-0] ret-37)\\\\n                                           )\\\\n                                           (call %init_peer_id% (\\\\\\\"srv\\\\\\\" \\\\\\\"resolve_alias\\\\\\\") [\\\\\\\"spell\\\\\\\"] ret-38)\\\\n                                          )\\\\n                                          (par\\\\n                                           (call %init_peer_id% (ret-38 \\\\\\\"store_log\\\\\\\") [ret-37] ret-39)\\\\n                                           (seq\\\\n                                            (new $array-inline-20\\\\n                                             (seq\\\\n                                              (seq\\\\n                                               (ap ret-38 $array-inline-20)\\\\n                                               (ap #array-inline-19-0 $array-inline-20)\\\\n                                              )\\\\n                                              (canon %init_peer_id% $array-inline-20  #array-inline-20-0)\\\\n                                             )\\\\n                                            )\\\\n                                            (call %init_peer_id% (\\\\\\\"run-console\\\\\\\" \\\\\\\"print\\\\\\\") [#array-inline-20-0])\\\\n                                           )\\\\n                                          )\\\\n                                         )\\\\n                                        )\\\\n                                       )\\\\n                                       (call %init_peer_id% (\\\\\\\"worker-spell\\\\\\\" \\\\\\\"set_string\\\\\\\") [s-0.$.name ret-33] ret-40)\\\\n                                      )\\\\n                                      (call %init_peer_id% (\\\\\\\"op\\\\\\\" \\\\\\\"concat_strings\\\\\\\") [\\\\\\\"blueprint:\\\\\\\" s-0.$.name] ret-41)\\\\n                                     )\\\\n                                     (call %init_peer_id% (\\\\\\\"worker-spell\\\\\\\" \\\\\\\"set_string\\\\\\\") [ret-41 ret-15] ret-42)\\\\n                                    )\\\\n                                   )\\\\n                                   (seq\\\\n                                    (ap :error: -if-error-)\\\\n                                    (xor\\\\n                                     (match :error:.$.error_code 10001\\\\n                                      (seq\\\\n                                       (seq\\\\n                                        (seq\\\\n                                         (new $array-inline-21\\\\n                                          (seq\\\\n                                           (seq\\\\n                                            (ap s-0.$.name $array-inline-21)\\\\n                                            (ap \\\\\\\"service is already deployed, doing nothing\\\\\\\" $array-inline-21)\\\\n                                           )\\\\n                                           (canon %init_peer_id% $array-inline-21  #array-inline-21-0)\\\\n                                          )\\\\n                                         )\\\\n                                         (call %init_peer_id% (\\\\\\\"debug\\\\\\\" \\\\\\\"stringify\\\\\\\") [#array-inline-21-0] ret-43)\\\\n                                        )\\\\n                                        (call %init_peer_id% (\\\\\\\"srv\\\\\\\" \\\\\\\"resolve_alias\\\\\\\") [\\\\\\\"spell\\\\\\\"] ret-44)\\\\n                                       )\\\\n                                       (par\\\\n                                        (call %init_peer_id% (ret-44 \\\\\\\"store_log\\\\\\\") [ret-43] ret-45)\\\\n                                        (seq\\\\n                                         (new $array-inline-22\\\\n                                          (seq\\\\n                                           (seq\\\\n                                            (ap ret-44 $array-inline-22)\\\\n                                            (ap #array-inline-21-0 $array-inline-22)\\\\n                                           )\\\\n                                           (canon %init_peer_id% $array-inline-22  #array-inline-22-0)\\\\n                                          )\\\\n                                         )\\\\n                                         (call %init_peer_id% (\\\\\\\"run-console\\\\\\\" \\\\\\\"print\\\\\\\") [#array-inline-22-0])\\\\n                                        )\\\\n                                       )\\\\n                                      )\\\\n                                     )\\\\n                                     (seq\\\\n                                      (seq\\\\n                                       (ap :error: -else-error-)\\\\n                                       (xor\\\\n                                        (match :error:.$.error_code 10001\\\\n                                         (ap -if-error- -if-else-error-)\\\\n                                        )\\\\n                                        (ap -else-error- -if-else-error-)\\\\n                                       )\\\\n                                      )\\\\n                                      (fail -if-else-error-)\\\\n                                     )\\\\n                                    )\\\\n                                   )\\\\n                                  )\\\\n                                 )\\\\n                                )\\\\n                               )\\\\n                              )\\\\n                             )\\\\n                             (seq\\\\n                              (ap :error: -if-error-)\\\\n                              (xor\\\\n                               (match :error:.$.error_code 10001\\\\n                                (seq\\\\n                                 (seq\\\\n                                  (seq\\\\n                                   (new $array-inline-23\\\\n                                    (seq\\\\n                                     (seq\\\\n                                      (ap s-0.$.name $array-inline-23)\\\\n                                      (ap \\\\\\\"error retrieving some of the modules, see above\\\\\\\" $array-inline-23)\\\\n                                     )\\\\n                                     (canon %init_peer_id% $array-inline-23  #array-inline-23-0)\\\\n                                    )\\\\n                                   )\\\\n                                   (call %init_peer_id% (\\\\\\\"debug\\\\\\\" \\\\\\\"stringify\\\\\\\") [#array-inline-23-0] ret-46)\\\\n                                  )\\\\n                                  (call %init_peer_id% (\\\\\\\"srv\\\\\\\" \\\\\\\"resolve_alias\\\\\\\") [\\\\\\\"spell\\\\\\\"] ret-47)\\\\n                                 )\\\\n                                 (par\\\\n                                  (call %init_peer_id% (ret-47 \\\\\\\"store_log\\\\\\\") [ret-46] ret-48)\\\\n                                  (seq\\\\n                                   (new $array-inline-24\\\\n                                    (seq\\\\n                                     (seq\\\\n                                      (ap ret-47 $array-inline-24)\\\\n                                      (ap #array-inline-23-0 $array-inline-24)\\\\n                                     )\\\\n                                     (canon %init_peer_id% $array-inline-24  #array-inline-24-0)\\\\n                                    )\\\\n                                   )\\\\n                                   (call %init_peer_id% (\\\\\\\"run-console\\\\\\\" \\\\\\\"print\\\\\\\") [#array-inline-24-0])\\\\n                                  )\\\\n                                 )\\\\n                                )\\\\n                               )\\\\n                               (seq\\\\n                                (seq\\\\n                                 (ap :error: -else-error-)\\\\n                                 (xor\\\\n                                  (match :error:.$.error_code 10001\\\\n                                   (ap -if-error- -if-else-error-)\\\\n                                  )\\\\n                                  (ap -else-error- -if-else-error-)\\\\n                                 )\\\\n                                )\\\\n                                (fail -if-else-error-)\\\\n                               )\\\\n                              )\\\\n                             )\\\\n                            )\\\\n                           )\\\\n                          )\\\\n                         )\\\\n                        )\\\\n                        (seq\\\\n                         (seq\\\\n                          (seq\\\\n                           (new $array-inline-25\\\\n                            (seq\\\\n                             (seq\\\\n                              (seq\\\\n                               (ap s-0.$.name $array-inline-25)\\\\n                               (ap \\\\\\\"error deploying service\\\\\\\" $array-inline-25)\\\\n                              )\\\\n                              (ap :error: $array-inline-25)\\\\n                             )\\\\n                             (canon %init_peer_id% $array-inline-25  #array-inline-25-0)\\\\n                            )\\\\n                           )\\\\n                           (call %init_peer_id% (\\\\\\\"debug\\\\\\\" \\\\\\\"stringify\\\\\\\") [#array-inline-25-0] ret-49)\\\\n                          )\\\\n                          (call %init_peer_id% (\\\\\\\"srv\\\\\\\" \\\\\\\"resolve_alias\\\\\\\") [\\\\\\\"spell\\\\\\\"] ret-50)\\\\n                         )\\\\n                         (par\\\\n                          (call %init_peer_id% (ret-50 \\\\\\\"store_log\\\\\\\") [ret-49] ret-51)\\\\n                          (seq\\\\n                           (new $array-inline-26\\\\n                            (seq\\\\n                             (seq\\\\n                              (ap ret-50 $array-inline-26)\\\\n                              (ap #array-inline-25-0 $array-inline-26)\\\\n                             )\\\\n                             (canon %init_peer_id% $array-inline-26  #array-inline-26-0)\\\\n                            )\\\\n                           )\\\\n                           (call %init_peer_id% (\\\\\\\"run-console\\\\\\\" \\\\\\\"print\\\\\\\") [#array-inline-26-0])\\\\n                          )\\\\n                         )\\\\n                        )\\\\n                       )\\\\n                       (next s-0)\\\\n                      )\\\\n                     )\\\\n                    )\\\\n                    (fold ret-3.$.spells sp-0\\\\n                     (seq\\\\n                      (xor\\\\n                       (seq\\\\n                        (seq\\\\n                         (seq\\\\n                          (seq\\\\n                           (new $array-inline-27\\\\n                            (seq\\\\n                             (seq\\\\n                              (ap \\\\\\\"Deploying spell\\\\\\\" $array-inline-27)\\\\n                              (ap sp-0.$.name $array-inline-27)\\\\n                             )\\\\n                             (canon %init_peer_id% $array-inline-27  #array-inline-27-0)\\\\n                            )\\\\n                           )\\\\n                           (call %init_peer_id% (\\\\\\\"debug\\\\\\\" \\\\\\\"stringify\\\\\\\") [#array-inline-27-0] ret-52)\\\\n                          )\\\\n                          (call %init_peer_id% (\\\\\\\"srv\\\\\\\" \\\\\\\"resolve_alias\\\\\\\") [\\\\\\\"spell\\\\\\\"] ret-53)\\\\n                         )\\\\n                         (par\\\\n                          (call %init_peer_id% (ret-53 \\\\\\\"store_log\\\\\\\") [ret-52] ret-54)\\\\n                          (seq\\\\n                           (new $array-inline-28\\\\n                            (seq\\\\n                             (seq\\\\n                              (ap ret-53 $array-inline-28)\\\\n                              (ap #array-inline-27-0 $array-inline-28)\\\\n                             )\\\\n                             (canon %init_peer_id% $array-inline-28  #array-inline-28-0)\\\\n                            )\\\\n                           )\\\\n                           (call %init_peer_id% (\\\\\\\"run-console\\\\\\\" \\\\\\\"print\\\\\\\") [#array-inline-28-0])\\\\n                          )\\\\n                         )\\\\n                        )\\\\n                        (xor\\\\n                         (seq\\\\n                          (new $result-0\\\\n                           (seq\\\\n                            (xor\\\\n                             (seq\\\\n                              (seq\\\\n                               (call %init_peer_id% (\\\\\\\"worker-spell\\\\\\\" \\\\\\\"get_string\\\\\\\") [sp-0.$.name] ret-55)\\\\n                               (xor\\\\n                                (match ret-55.$.success false\\\\n                                 (ap ret-55.$.success and-1)\\\\n                                )\\\\n                                (ap ret-55.$.absent and-1)\\\\n                               )\\\\n                              )\\\\n                              (new -if-else-error-\\\\n                               (new -else-error-\\\\n                                (new -if-error-\\\\n                                 (xor\\\\n                                  (match and-1 true\\\\n                                   (ap false $result-0)\\\\n                                  )\\\\n                                  (seq\\\\n                                   (ap :error: -if-error-)\\\\n                                   (xor\\\\n                                    (match :error:.$.error_code 10001\\\\n                                     (seq\\\\n                                      (seq\\\\n                                       (seq\\\\n                                        (seq\\\\n                                         (seq\\\\n                                          (seq\\\\n                                           (seq\\\\n                                            (ap ret-55.$.value ret-55_flat)\\\\n                                            (call %init_peer_id% (\\\\\\\"srv\\\\\\\" \\\\\\\"info\\\\\\\") [ret-55_flat] ret-56)\\\\n                                           )\\\\n                                           (call %init_peer_id% (ret-55_flat \\\\\\\"script_cid\\\\\\\") [] ret-57)\\\\n                                          )\\\\n                                          (new $array-inline-29\\\\n                                           (seq\\\\n                                            (seq\\\\n                                             (seq\\\\n                                              (seq\\\\n                                               (seq\\\\n                                                (ap ret-55_flat $array-inline-29)\\\\n                                                (ap \\\\\\\"script cid was:\\\\\\\" $array-inline-29)\\\\n                                               )\\\\n                                               (ap ret-57.$.value $array-inline-29)\\\\n                                              )\\\\n                                              (ap \\\\\\\"new:\\\\\\\" $array-inline-29)\\\\n                                             )\\\\n                                             (ap sp-0.$.script $array-inline-29)\\\\n                                            )\\\\n                                            (canon %init_peer_id% $array-inline-29  #array-inline-29-0)\\\\n                                           )\\\\n                                          )\\\\n                                         )\\\\n                                         (call %init_peer_id% (\\\\\\\"debug\\\\\\\" \\\\\\\"stringify\\\\\\\") [#array-inline-29-0] ret-58)\\\\n                                        )\\\\n                                        (call %init_peer_id% (\\\\\\\"srv\\\\\\\" \\\\\\\"resolve_alias\\\\\\\") [\\\\\\\"spell\\\\\\\"] ret-59)\\\\n                                       )\\\\n                                       (par\\\\n                                        (call %init_peer_id% (ret-59 \\\\\\\"store_log\\\\\\\") [ret-58] ret-60)\\\\n                                        (seq\\\\n                                         (new $array-inline-30\\\\n                                          (seq\\\\n                                           (seq\\\\n                                            (ap ret-59 $array-inline-30)\\\\n                                            (ap #array-inline-29-0 $array-inline-30)\\\\n                                           )\\\\n                                           (canon %init_peer_id% $array-inline-30  #array-inline-30-0)\\\\n                                          )\\\\n                                         )\\\\n                                         (call %init_peer_id% (\\\\\\\"run-console\\\\\\\" \\\\\\\"print\\\\\\\") [#array-inline-30-0])\\\\n                                        )\\\\n                                       )\\\\n                                      )\\\\n                                      (new -if-else-error-\\\\n                                       (new -else-error-\\\\n                                        (new -if-error-\\\\n                                         (xor\\\\n                                          (match ret-57.$.value sp-0.$.script\\\\n                                           (ap true $result-0)\\\\n                                          )\\\\n                                          (seq\\\\n                                           (ap :error: -if-error-)\\\\n                                           (xor\\\\n                                            (match :error:.$.error_code 10001\\\\n                                             (seq\\\\n                                              (seq\\\\n                                               (seq\\\\n                                                (seq\\\\n                                                 (seq\\\\n                                                  (seq\\\\n                                                   (seq\\\\n                                                    (seq\\\\n                                                     (seq\\\\n                                                      (seq\\\\n                                                       (seq\\\\n                                                        (seq\\\\n                                                         (seq\\\\n                                                          (new $array-inline-31\\\\n                                                           (seq\\\\n                                                            (seq\\\\n                                                             (ap sp-0.$.name $array-inline-31)\\\\n                                                             (ap \\\\\\\"script changed, need to redeploy\\\\\\\" $array-inline-31)\\\\n                                                            )\\\\n                                                            (canon %init_peer_id% $array-inline-31  #array-inline-31-0)\\\\n                                                           )\\\\n                                                          )\\\\n                                                          (call %init_peer_id% (\\\\\\\"debug\\\\\\\" \\\\\\\"stringify\\\\\\\") [#array-inline-31-0] ret-61)\\\\n                                                         )\\\\n                                                         (call %init_peer_id% (\\\\\\\"srv\\\\\\\" \\\\\\\"resolve_alias\\\\\\\") [\\\\\\\"spell\\\\\\\"] ret-62)\\\\n                                                        )\\\\n                                                        (par\\\\n                                                         (call %init_peer_id% (ret-62 \\\\\\\"store_log\\\\\\\") [ret-61] ret-63)\\\\n                                                         (seq\\\\n                                                          (new $array-inline-32\\\\n                                                           (seq\\\\n                                                            (seq\\\\n                                                             (ap ret-62 $array-inline-32)\\\\n                                                             (ap #array-inline-31-0 $array-inline-32)\\\\n                                                            )\\\\n                                                            (canon %init_peer_id% $array-inline-32  #array-inline-32-0)\\\\n                                                           )\\\\n                                                          )\\\\n                                                          (call %init_peer_id% (\\\\\\\"run-console\\\\\\\" \\\\\\\"print\\\\\\\") [#array-inline-32-0])\\\\n                                                         )\\\\n                                                        )\\\\n                                                       )\\\\n                                                       (new $array-inline-33\\\\n                                                        (seq\\\\n                                                         (seq\\\\n                                                          (seq\\\\n                                                           (ap sp-0.$.name $array-inline-33)\\\\n                                                           (ap \\\\\\\"removing old spell\\\\\\\" $array-inline-33)\\\\n                                                          )\\\\n                                                          (ap ret-55_flat $array-inline-33)\\\\n                                                         )\\\\n                                                         (canon %init_peer_id% $array-inline-33  #array-inline-33-0)\\\\n                                                        )\\\\n                                                       )\\\\n                                                      )\\\\n                                                      (call %init_peer_id% (\\\\\\\"debug\\\\\\\" \\\\\\\"stringify\\\\\\\") [#array-inline-33-0] ret-64)\\\\n                                                     )\\\\n                                                     (call %init_peer_id% (\\\\\\\"srv\\\\\\\" \\\\\\\"resolve_alias\\\\\\\") [\\\\\\\"spell\\\\\\\"] ret-65)\\\\n                                                    )\\\\n                                                    (par\\\\n                                                     (call %init_peer_id% (ret-65 \\\\\\\"store_log\\\\\\\") [ret-64] ret-66)\\\\n                                                     (seq\\\\n                                                      (new $array-inline-34\\\\n                                                       (seq\\\\n                                                        (seq\\\\n                                                         (ap ret-65 $array-inline-34)\\\\n                                                         (ap #array-inline-33-0 $array-inline-34)\\\\n                                                        )\\\\n                                                        (canon %init_peer_id% $array-inline-34  #array-inline-34-0)\\\\n                                                       )\\\\n                                                      )\\\\n                                                      (call %init_peer_id% (\\\\\\\"run-console\\\\\\\" \\\\\\\"print\\\\\\\") [#array-inline-34-0])\\\\n                                                     )\\\\n                                                    )\\\\n                                                   )\\\\n                                                   (call %init_peer_id% (\\\\\\\"spell\\\\\\\" \\\\\\\"remove\\\\\\\") [ret-55_flat])\\\\n                                                  )\\\\n                                                  (new $array-inline-35\\\\n                                                   (seq\\\\n                                                    (seq\\\\n                                                     (seq\\\\n                                                      (ap sp-0.$.name $array-inline-35)\\\\n                                                      (ap \\\\\\\"old spell successfully removed\\\\\\\" $array-inline-35)\\\\n                                                     )\\\\n                                                     (ap ret-55_flat $array-inline-35)\\\\n                                                    )\\\\n                                                    (canon %init_peer_id% $array-inline-35  #array-inline-35-0)\\\\n                                                   )\\\\n                                                  )\\\\n                                                 )\\\\n                                                 (call %init_peer_id% (\\\\\\\"debug\\\\\\\" \\\\\\\"stringify\\\\\\\") [#array-inline-35-0] ret-67)\\\\n                                                )\\\\n                                                (call %init_peer_id% (\\\\\\\"srv\\\\\\\" \\\\\\\"resolve_alias\\\\\\\") [\\\\\\\"spell\\\\\\\"] ret-68)\\\\n                                               )\\\\n                                               (par\\\\n                                                (call %init_peer_id% (ret-68 \\\\\\\"store_log\\\\\\\") [ret-67] ret-69)\\\\n                                                (seq\\\\n                                                 (new $array-inline-36\\\\n                                                  (seq\\\\n                                                   (seq\\\\n                                                    (ap ret-68 $array-inline-36)\\\\n                                                    (ap #array-inline-35-0 $array-inline-36)\\\\n                                                   )\\\\n                                                   (canon %init_peer_id% $array-inline-36  #array-inline-36-0)\\\\n                                                  )\\\\n                                                 )\\\\n                                                 (call %init_peer_id% (\\\\\\\"run-console\\\\\\\" \\\\\\\"print\\\\\\\") [#array-inline-36-0])\\\\n                                                )\\\\n                                               )\\\\n                                              )\\\\n                                              (ap false $result-0)\\\\n                                             )\\\\n                                            )\\\\n                                            (seq\\\\n                                             (seq\\\\n                                              (ap :error: -else-error-)\\\\n                                              (xor\\\\n                                               (match :error:.$.error_code 10001\\\\n                                                (ap -if-error- -if-else-error-)\\\\n                                               )\\\\n                                               (ap -else-error- -if-else-error-)\\\\n                                              )\\\\n                                             )\\\\n                                             (fail -if-else-error-)\\\\n                                            )\\\\n                                           )\\\\n                                          )\\\\n                                         )\\\\n                                        )\\\\n                                       )\\\\n                                      )\\\\n                                     )\\\\n                                    )\\\\n                                    (seq\\\\n                                     (seq\\\\n                                      (ap :error: -else-error-)\\\\n                                      (xor\\\\n                                       (match :error:.$.error_code 10001\\\\n                                        (ap -if-error- -if-else-error-)\\\\n                                       )\\\\n                                       (ap -else-error- -if-else-error-)\\\\n                                      )\\\\n                                     )\\\\n                                     (fail -if-else-error-)\\\\n                                    )\\\\n                                   )\\\\n                                  )\\\\n                                 )\\\\n                                )\\\\n                               )\\\\n                              )\\\\n                             )\\\\n                             (seq\\\\n                              (seq\\\\n                               (seq\\\\n                                (seq\\\\n                                 (new $array-inline-37\\\\n                                  (seq\\\\n                                   (seq\\\\n                                    (seq\\\\n                                     (ap \\\\\\\"Error check spell deployed\\\\\\\" $array-inline-37)\\\\n                                     (ap sp-0.$.name $array-inline-37)\\\\n                                    )\\\\n                                    (ap :error: $array-inline-37)\\\\n                                   )\\\\n                                   (canon %init_peer_id% $array-inline-37  #array-inline-37-0)\\\\n                                  )\\\\n                                 )\\\\n                                 (call %init_peer_id% (\\\\\\\"debug\\\\\\\" \\\\\\\"stringify\\\\\\\") [#array-inline-37-0] ret-70)\\\\n                                )\\\\n                                (call %init_peer_id% (\\\\\\\"srv\\\\\\\" \\\\\\\"resolve_alias\\\\\\\") [\\\\\\\"spell\\\\\\\"] ret-71)\\\\n                               )\\\\n                               (par\\\\n                                (call %init_peer_id% (ret-71 \\\\\\\"store_log\\\\\\\") [ret-70] ret-72)\\\\n                                (seq\\\\n                                 (new $array-inline-38\\\\n                                  (seq\\\\n                                   (seq\\\\n                                    (ap ret-71 $array-inline-38)\\\\n                                    (ap #array-inline-37-0 $array-inline-38)\\\\n                                   )\\\\n                                   (canon %init_peer_id% $array-inline-38  #array-inline-38-0)\\\\n                                  )\\\\n                                 )\\\\n                                 (call %init_peer_id% (\\\\\\\"run-console\\\\\\\" \\\\\\\"print\\\\\\\") [#array-inline-38-0])\\\\n                                )\\\\n                               )\\\\n                              )\\\\n                              (ap false $result-0)\\\\n                             )\\\\n                            )\\\\n                            (new $result-0_test\\\\n                             (seq\\\\n                              (seq\\\\n                               (fold $result-0 result-0_fold_var\\\\n                                (seq\\\\n                                 (seq\\\\n                                  (ap result-0_fold_var $result-0_test)\\\\n                                  (canon %init_peer_id% $result-0_test  #result-0_iter_canon)\\\\n                                 )\\\\n                                 (xor\\\\n                                  (match #result-0_iter_canon.length 1\\\\n                                   (null)\\\\n                                  )\\\\n                                  (next result-0_fold_var)\\\\n                                 )\\\\n                                )\\\\n                                (never)\\\\n                               )\\\\n                               (canon %init_peer_id% $result-0_test  #result-0_result_canon)\\\\n                              )\\\\n                              (ap #result-0_result_canon result-0_gate)\\\\n                             )\\\\n                            )\\\\n                           )\\\\n                          )\\\\n                          (new -if-else-error-\\\\n                           (new -else-error-\\\\n                            (new -if-error-\\\\n                             (xor\\\\n                              (match result-0_gate.$.[0] true\\\\n                               (seq\\\\n                                (seq\\\\n                                 (seq\\\\n                                  (seq\\\\n                                   (seq\\\\n                                    (seq\\\\n                                     (seq\\\\n                                      (seq\\\\n                                       (seq\\\\n                                        (new $array-inline-39\\\\n                                         (seq\\\\n                                          (seq\\\\n                                           (ap sp-0.$.name $array-inline-39)\\\\n                                           (ap \\\\\\\"spell is already deployed, checking config and init_args\\\\\\\" $array-inline-39)\\\\n                                          )\\\\n                                          (canon %init_peer_id% $array-inline-39  #array-inline-39-0)\\\\n                                         )\\\\n                                        )\\\\n                                        (call %init_peer_id% (\\\\\\\"debug\\\\\\\" \\\\\\\"stringify\\\\\\\") [#array-inline-39-0] ret-73)\\\\n                                       )\\\\n                                       (call %init_peer_id% (\\\\\\\"srv\\\\\\\" \\\\\\\"resolve_alias\\\\\\\") [\\\\\\\"spell\\\\\\\"] ret-74)\\\\n                                      )\\\\n                                      (par\\\\n                                       (call %init_peer_id% (ret-74 \\\\\\\"store_log\\\\\\\") [ret-73] ret-75)\\\\n                                       (seq\\\\n                                        (new $array-inline-40\\\\n                                         (seq\\\\n                                          (seq\\\\n                                           (ap ret-74 $array-inline-40)\\\\n                                           (ap #array-inline-39-0 $array-inline-40)\\\\n                                          )\\\\n                                          (canon %init_peer_id% $array-inline-40  #array-inline-40-0)\\\\n                                         )\\\\n                                        )\\\\n                                        (call %init_peer_id% (\\\\\\\"run-console\\\\\\\" \\\\\\\"print\\\\\\\") [#array-inline-40-0])\\\\n                                       )\\\\n                                      )\\\\n                                     )\\\\n                                     (call %init_peer_id% (\\\\\\\"op\\\\\\\" \\\\\\\"concat_strings\\\\\\\") [\\\\\\\"trigger_config:\\\\\\\" sp-0.$.name] ret-76)\\\\n                                    )\\\\n                                    (call %init_peer_id% (\\\\\\\"worker-spell\\\\\\\" \\\\\\\"get_string\\\\\\\") [ret-76] ret-77)\\\\n                                   )\\\\n                                   (new -if-error-\\\\n                                    (xor\\\\n                                     (mismatch ret-77.$.value sp-0.$.config\\\\n                                      (seq\\\\n                                       (seq\\\\n                                        (seq\\\\n                                         (seq\\\\n                                          (seq\\\\n                                           (new $array-inline-41\\\\n                                            (seq\\\\n                                             (seq\\\\n                                              (ap sp-0.$.name $array-inline-41)\\\\n                                              (ap \\\\\\\"config mismath, updating config\\\\\\\" $array-inline-41)\\\\n                                             )\\\\n                                             (canon %init_peer_id% $array-inline-41  #array-inline-41-0)\\\\n                                            )\\\\n                                           )\\\\n                                           (call %init_peer_id% (\\\\\\\"debug\\\\\\\" \\\\\\\"stringify\\\\\\\") [#array-inline-41-0] ret-78)\\\\n                                          )\\\\n                                          (call %init_peer_id% (\\\\\\\"srv\\\\\\\" \\\\\\\"resolve_alias\\\\\\\") [\\\\\\\"spell\\\\\\\"] ret-79)\\\\n                                         )\\\\n                                         (par\\\\n                                          (call %init_peer_id% (ret-79 \\\\\\\"store_log\\\\\\\") [ret-78] ret-80)\\\\n                                          (seq\\\\n                                           (new $array-inline-42\\\\n                                            (seq\\\\n                                             (seq\\\\n                                              (ap ret-79 $array-inline-42)\\\\n                                              (ap #array-inline-41-0 $array-inline-42)\\\\n                                             )\\\\n                                             (canon %init_peer_id% $array-inline-42  #array-inline-42-0)\\\\n                                            )\\\\n                                           )\\\\n                                           (call %init_peer_id% (\\\\\\\"run-console\\\\\\\" \\\\\\\"print\\\\\\\") [#array-inline-42-0])\\\\n                                          )\\\\n                                         )\\\\n                                        )\\\\n                                        (call %init_peer_id% (\\\\\\\"aqua-ipfs\\\\\\\" \\\\\\\"cat_from\\\\\\\") [sp-0.$.config -ipfs-arg-] ret-81)\\\\n                                       )\\\\n                                       (new -if-else-error-\\\\n                                        (new -else-error-\\\\n                                         (new -if-error-\\\\n                                          (xor\\\\n                                           (match ret-81.$.success true\\\\n                                            (seq\\\\n                                             (seq\\\\n                                              (seq\\\\n                                               (seq\\\\n                                                (seq\\\\n                                                 (seq\\\\n                                                  (seq\\\\n                                                   (seq\\\\n                                                    (call %init_peer_id% (\\\\\\\"json\\\\\\\" \\\\\\\"parse\\\\\\\") [ret-81.$.contents] ret-82)\\\\n                                                    (call %init_peer_id% (\\\\\\\"srv\\\\\\\" \\\\\\\"resolve_alias\\\\\\\") [sp-0.$.name] ret-83)\\\\n                                                   )\\\\n                                                   (call %init_peer_id% (\\\\\\\"spell\\\\\\\" \\\\\\\"update_trigger_config\\\\\\\") [ret-83 ret-82])\\\\n                                                  )\\\\n                                                  (call %init_peer_id% (\\\\\\\"op\\\\\\\" \\\\\\\"concat_strings\\\\\\\") [\\\\\\\"trigger_config:\\\\\\\" sp-0.$.name] ret-84)\\\\n                                                 )\\\\n                                                 (call %init_peer_id% (\\\\\\\"worker-spell\\\\\\\" \\\\\\\"set_string\\\\\\\") [ret-84 sp-0.$.config] ret-85)\\\\n                                                )\\\\n                                                (new $array-inline-43\\\\n                                                 (seq\\\\n                                                  (seq\\\\n                                                   (ap sp-0.$.name $array-inline-43)\\\\n                                                   (ap \\\\\\\"config successfully updated\\\\\\\" $array-inline-43)\\\\n                                                  )\\\\n                                                  (canon %init_peer_id% $array-inline-43  #array-inline-43-0)\\\\n                                                 )\\\\n                                                )\\\\n                                               )\\\\n                                               (call %init_peer_id% (\\\\\\\"debug\\\\\\\" \\\\\\\"stringify\\\\\\\") [#array-inline-43-0] ret-86)\\\\n                                              )\\\\n                                              (call %init_peer_id% (\\\\\\\"srv\\\\\\\" \\\\\\\"resolve_alias\\\\\\\") [\\\\\\\"spell\\\\\\\"] ret-87)\\\\n                                             )\\\\n                                             (par\\\\n                                              (call %init_peer_id% (ret-87 \\\\\\\"store_log\\\\\\\") [ret-86] ret-88)\\\\n                                              (seq\\\\n                                               (new $array-inline-44\\\\n                                                (seq\\\\n                                                 (seq\\\\n                                                  (ap ret-87 $array-inline-44)\\\\n                                                  (ap #array-inline-43-0 $array-inline-44)\\\\n                                                 )\\\\n                                                 (canon %init_peer_id% $array-inline-44  #array-inline-44-0)\\\\n                                                )\\\\n                                               )\\\\n                                               (call %init_peer_id% (\\\\\\\"run-console\\\\\\\" \\\\\\\"print\\\\\\\") [#array-inline-44-0])\\\\n                                              )\\\\n                                             )\\\\n                                            )\\\\n                                           )\\\\n                                           (seq\\\\n                                            (ap :error: -if-error-)\\\\n                                            (xor\\\\n                                             (match :error:.$.error_code 10001\\\\n                                              (seq\\\\n                                               (seq\\\\n                                                (seq\\\\n                                                 (new $array-inline-45\\\\n                                                  (seq\\\\n                                                   (seq\\\\n                                                    (seq\\\\n                                                     (seq\\\\n                                                      (ap sp-0.$.name $array-inline-45)\\\\n                                                      (ap \\\\\\\"error retrieving config\\\\\\\" $array-inline-45)\\\\n                                                     )\\\\n                                                     (ap sp-0.$.config $array-inline-45)\\\\n                                                    )\\\\n                                                    (ap ret-81.$.error $array-inline-45)\\\\n                                                   )\\\\n                                                   (canon %init_peer_id% $array-inline-45  #array-inline-45-0)\\\\n                                                  )\\\\n                                                 )\\\\n                                                 (call %init_peer_id% (\\\\\\\"debug\\\\\\\" \\\\\\\"stringify\\\\\\\") [#array-inline-45-0] ret-89)\\\\n                                                )\\\\n                                                (call %init_peer_id% (\\\\\\\"srv\\\\\\\" \\\\\\\"resolve_alias\\\\\\\") [\\\\\\\"spell\\\\\\\"] ret-90)\\\\n                                               )\\\\n                                               (par\\\\n                                                (call %init_peer_id% (ret-90 \\\\\\\"store_log\\\\\\\") [ret-89] ret-91)\\\\n                                                (seq\\\\n                                                 (new $array-inline-46\\\\n                                                  (seq\\\\n                                                   (seq\\\\n                                                    (ap ret-90 $array-inline-46)\\\\n                                                    (ap #array-inline-45-0 $array-inline-46)\\\\n                                                   )\\\\n                                                   (canon %init_peer_id% $array-inline-46  #array-inline-46-0)\\\\n                                                  )\\\\n                                                 )\\\\n                                                 (call %init_peer_id% (\\\\\\\"run-console\\\\\\\" \\\\\\\"print\\\\\\\") [#array-inline-46-0])\\\\n                                                )\\\\n                                               )\\\\n                                              )\\\\n                                             )\\\\n                                             (seq\\\\n                                              (seq\\\\n                                               (ap :error: -else-error-)\\\\n                                               (xor\\\\n                                                (match :error:.$.error_code 10001\\\\n                                                 (ap -if-error- -if-else-error-)\\\\n                                                )\\\\n                                                (ap -else-error- -if-else-error-)\\\\n                                               )\\\\n                                              )\\\\n                                              (fail -if-else-error-)\\\\n                                             )\\\\n                                            )\\\\n                                           )\\\\n                                          )\\\\n                                         )\\\\n                                        )\\\\n                                       )\\\\n                                      )\\\\n                                     )\\\\n                                     (seq\\\\n                                      (ap :error: -if-error-)\\\\n                                      (xor\\\\n                                       (match :error:.$.error_code 10002\\\\n                                        (null)\\\\n                                       )\\\\n                                       (fail -if-error-)\\\\n                                      )\\\\n                                     )\\\\n                                    )\\\\n                                   )\\\\n                                  )\\\\n                                  (call %init_peer_id% (\\\\\\\"op\\\\\\\" \\\\\\\"concat_strings\\\\\\\") [\\\\\\\"init_args:\\\\\\\" sp-0.$.name] ret-92)\\\\n                                 )\\\\n                                 (call %init_peer_id% (\\\\\\\"worker-spell\\\\\\\" \\\\\\\"get_string\\\\\\\") [ret-92] ret-93)\\\\n                                )\\\\n                                (new -if-error-\\\\n                                 (xor\\\\n                                  (mismatch ret-93.$.value sp-0.$.init_args\\\\n                                   (seq\\\\n                                    (seq\\\\n                                     (seq\\\\n                                      (seq\\\\n                                       (seq\\\\n                                        (seq\\\\n                                         (seq\\\\n                                          (seq\\\\n                                           (seq\\\\n                                            (seq\\\\n                                             (seq\\\\n                                              (new $array-inline-47\\\\n                                               (seq\\\\n                                                (seq\\\\n                                                 (ap sp-0.$.name $array-inline-47)\\\\n                                                 (ap \\\\\\\"init_args changed, updating\\\\\\\" $array-inline-47)\\\\n                                                )\\\\n                                                (canon %init_peer_id% $array-inline-47  #array-inline-47-0)\\\\n                                               )\\\\n                                              )\\\\n                                              (call %init_peer_id% (\\\\\\\"debug\\\\\\\" \\\\\\\"stringify\\\\\\\") [#array-inline-47-0] ret-94)\\\\n                                             )\\\\n                                             (call %init_peer_id% (\\\\\\\"srv\\\\\\\" \\\\\\\"resolve_alias\\\\\\\") [\\\\\\\"spell\\\\\\\"] ret-95)\\\\n                                            )\\\\n                                            (par\\\\n                                             (call %init_peer_id% (ret-95 \\\\\\\"store_log\\\\\\\") [ret-94] ret-96)\\\\n                                             (seq\\\\n                                              (new $array-inline-48\\\\n                                               (seq\\\\n                                                (seq\\\\n                                                 (ap ret-95 $array-inline-48)\\\\n                                                 (ap #array-inline-47-0 $array-inline-48)\\\\n                                                )\\\\n                                                (canon %init_peer_id% $array-inline-48  #array-inline-48-0)\\\\n                                               )\\\\n                                              )\\\\n                                              (call %init_peer_id% (\\\\\\\"run-console\\\\\\\" \\\\\\\"print\\\\\\\") [#array-inline-48-0])\\\\n                                             )\\\\n                                            )\\\\n                                           )\\\\n                                           (call %init_peer_id% (\\\\\\\"aqua-ipfs\\\\\\\" \\\\\\\"cat_from\\\\\\\") [sp-0.$.init_args -ipfs-arg-] ret-97)\\\\n                                          )\\\\n                                          (new -if-else-error-\\\\n                                           (new -else-error-\\\\n                                            (new -if-error-\\\\n                                             (xor\\\\n                                              (match ret-97.$.success true\\\\n                                               (call %init_peer_id% (sp-0.$.name \\\\\\\"set_json_fields\\\\\\\") [ret-97.$.contents] ret-98)\\\\n                                              )\\\\n                                              (seq\\\\n                                               (ap :error: -if-error-)\\\\n                                               (xor\\\\n                                                (match :error:.$.error_code 10001\\\\n                                                 (seq\\\\n                                                  (seq\\\\n                                                   (seq\\\\n                                                    (new $array-inline-49\\\\n                                                     (seq\\\\n                                                      (seq\\\\n                                                       (seq\\\\n                                                        (seq\\\\n                                                         (ap sp-0.$.name $array-inline-49)\\\\n                                                         (ap \\\\\\\"error retrieving init_args\\\\\\\" $array-inline-49)\\\\n                                                        )\\\\n                                                        (ap sp-0.$.init_args $array-inline-49)\\\\n                                                       )\\\\n                                                       (ap ret-97.$.error $array-inline-49)\\\\n                                                      )\\\\n                                                      (canon %init_peer_id% $array-inline-49  #array-inline-49-0)\\\\n                                                     )\\\\n                                                    )\\\\n                                                    (call %init_peer_id% (\\\\\\\"debug\\\\\\\" \\\\\\\"stringify\\\\\\\") [#array-inline-49-0] ret-99)\\\\n                                                   )\\\\n                                                   (call %init_peer_id% (\\\\\\\"srv\\\\\\\" \\\\\\\"resolve_alias\\\\\\\") [\\\\\\\"spell\\\\\\\"] ret-100)\\\\n                                                  )\\\\n                                                  (par\\\\n                                                   (call %init_peer_id% (ret-100 \\\\\\\"store_log\\\\\\\") [ret-99] ret-101)\\\\n                                                   (seq\\\\n                                                    (new $array-inline-50\\\\n                                                     (seq\\\\n                                                      (seq\\\\n                                                       (ap ret-100 $array-inline-50)\\\\n                                                       (ap #array-inline-49-0 $array-inline-50)\\\\n                                                      )\\\\n                                                      (canon %init_peer_id% $array-inline-50  #array-inline-50-0)\\\\n                                                     )\\\\n                                                    )\\\\n                                                    (call %init_peer_id% (\\\\\\\"run-console\\\\\\\" \\\\\\\"print\\\\\\\") [#array-inline-50-0])\\\\n                                                   )\\\\n                                                  )\\\\n                                                 )\\\\n                                                )\\\\n                                                (seq\\\\n                                                 (seq\\\\n                                                  (ap :error: -else-error-)\\\\n                                                  (xor\\\\n                                                   (match :error:.$.error_code 10001\\\\n                                                    (ap -if-error- -if-else-error-)\\\\n                                                   )\\\\n                                                   (ap -else-error- -if-else-error-)\\\\n                                                  )\\\\n                                                 )\\\\n                                                 (fail -if-else-error-)\\\\n                                                )\\\\n                                               )\\\\n                                              )\\\\n                                             )\\\\n                                            )\\\\n                                           )\\\\n                                          )\\\\n                                         )\\\\n                                         (call %init_peer_id% (\\\\\\\"op\\\\\\\" \\\\\\\"concat_strings\\\\\\\") [\\\\\\\"init_args:\\\\\\\" sp-0.$.name] ret-102)\\\\n                                        )\\\\n                                        (call %init_peer_id% (\\\\\\\"worker-spell\\\\\\\" \\\\\\\"set_string\\\\\\\") [ret-102 sp-0.$.init_args] ret-103)\\\\n                                       )\\\\n                                       (new $array-inline-51\\\\n                                        (seq\\\\n                                         (seq\\\\n                                          (ap sp-0.$.name $array-inline-51)\\\\n                                          (ap \\\\\\\"init_args successfully updated\\\\\\\" $array-inline-51)\\\\n                                         )\\\\n                                         (canon %init_peer_id% $array-inline-51  #array-inline-51-0)\\\\n                                        )\\\\n                                       )\\\\n                                      )\\\\n                                      (call %init_peer_id% (\\\\\\\"debug\\\\\\\" \\\\\\\"stringify\\\\\\\") [#array-inline-51-0] ret-104)\\\\n                                     )\\\\n                                     (call %init_peer_id% (\\\\\\\"srv\\\\\\\" \\\\\\\"resolve_alias\\\\\\\") [\\\\\\\"spell\\\\\\\"] ret-105)\\\\n                                    )\\\\n                                    (par\\\\n                                     (call %init_peer_id% (ret-105 \\\\\\\"store_log\\\\\\\") [ret-104] ret-106)\\\\n                                     (seq\\\\n                                      (new $array-inline-52\\\\n                                       (seq\\\\n                                        (seq\\\\n                                         (ap ret-105 $array-inline-52)\\\\n                                         (ap #array-inline-51-0 $array-inline-52)\\\\n                                        )\\\\n                                        (canon %init_peer_id% $array-inline-52  #array-inline-52-0)\\\\n                                       )\\\\n                                      )\\\\n                                      (call %init_peer_id% (\\\\\\\"run-console\\\\\\\" \\\\\\\"print\\\\\\\") [#array-inline-52-0])\\\\n                                     )\\\\n                                    )\\\\n                                   )\\\\n                                  )\\\\n                                  (seq\\\\n                                   (ap :error: -if-error-)\\\\n                                   (xor\\\\n                                    (match :error:.$.error_code 10002\\\\n                                     (null)\\\\n                                    )\\\\n                                    (fail -if-error-)\\\\n                                   )\\\\n                                  )\\\\n                                 )\\\\n                                )\\\\n                               )\\\\n                              )\\\\n                              (seq\\\\n                               (ap :error: -if-error-)\\\\n                               (xor\\\\n                                (match :error:.$.error_code 10001\\\\n                                 (seq\\\\n                                  (seq\\\\n                                   (seq\\\\n                                    (seq\\\\n                                     (seq\\\\n                                      (seq\\\\n                                       (seq\\\\n                                        (seq\\\\n                                         (seq\\\\n                                          (call %init_peer_id% (\\\\\\\"peer\\\\\\\" \\\\\\\"timestamp_sec\\\\\\\") [] ret-107)\\\\n                                          (new %Status_obj-0_map\\\\n                                           (seq\\\\n                                            (seq\\\\n                                             (seq\\\\n                                              (ap (\\\\\\\"message\\\\\\\" \\\\\\\"\\\\\\\") %Status_obj-0_map)\\\\n                                              (ap (\\\\\\\"state\\\\\\\" \\\\\\\"INSTALLATION_IN_PROGRESS\\\\\\\") %Status_obj-0_map)\\\\n                                             )\\\\n                                             (ap (\\\\\\\"timestamp\\\\\\\" ret-107) %Status_obj-0_map)\\\\n                                            )\\\\n                                            (canon %init_peer_id% %Status_obj-0_map  Status_obj-0)\\\\n                                           )\\\\n                                          )\\\\n                                         )\\\\n                                         (call %init_peer_id% (\\\\\\\"json\\\\\\\" \\\\\\\"stringify\\\\\\\") [Status_obj-0] ret-108)\\\\n                                        )\\\\n                                        (call %init_peer_id% (\\\\\\\"worker-spell\\\\\\\" \\\\\\\"list_push_string\\\\\\\") [\\\\\\\"__installation_spell_status__\\\\\\\" ret-108] ret-109)\\\\n                                       )\\\\n                                       (call %init_peer_id% (\\\\\\\"aqua-ipfs\\\\\\\" \\\\\\\"cat_from\\\\\\\") [sp-0.$.script -ipfs-arg-] ret-110)\\\\n                                      )\\\\n                                      (call %init_peer_id% (\\\\\\\"aqua-ipfs\\\\\\\" \\\\\\\"cat_from\\\\\\\") [sp-0.$.config -ipfs-arg-] ret-111)\\\\n                                     )\\\\n                                     (call %init_peer_id% (\\\\\\\"aqua-ipfs\\\\\\\" \\\\\\\"cat_from\\\\\\\") [sp-0.$.init_args -ipfs-arg-] ret-112)\\\\n                                    )\\\\n                                    (xor\\\\n                                     (match ret-110.$.success false\\\\n                                      (ap ret-110.$.success and-2)\\\\n                                     )\\\\n                                     (ap ret-111.$.success and-2)\\\\n                                    )\\\\n                                   )\\\\n                                   (xor\\\\n                                    (match and-2 false\\\\n                                     (ap and-2 and-3)\\\\n                                    )\\\\n                                    (ap ret-112.$.success and-3)\\\\n                                   )\\\\n                                  )\\\\n                                  (new -if-else-error-\\\\n                                   (new -else-error-\\\\n                                    (new -if-error-\\\\n                                     (xor\\\\n                                      (match and-3 true\\\\n                                       (seq\\\\n                                        (seq\\\\n                                         (call %init_peer_id% (\\\\\\\"json\\\\\\\" \\\\\\\"parse\\\\\\\") [ret-111.$.contents] ret-113)\\\\n                                         (call %init_peer_id% (\\\\\\\"json\\\\\\\" \\\\\\\"parse\\\\\\\") [ret-112.$.contents] ret-114)\\\\n                                        )\\\\n                                        (xor\\\\n                                         (seq\\\\n                                          (seq\\\\n                                           (seq\\\\n                                            (seq\\\\n                                             (seq\\\\n                                              (seq\\\\n                                               (seq\\\\n                                                (seq\\\\n                                                 (seq\\\\n                                                  (call %init_peer_id% (\\\\\\\"spell\\\\\\\" \\\\\\\"install\\\\\\\") [ret-110.$.contents ret-114 ret-113 sp-0.$.name] ret-115)\\\\n                                                  (new $array-inline-53\\\\n                                                   (seq\\\\n                                                    (seq\\\\n                                                     (seq\\\\n                                                      (ap \\\\\\\"Installed spell\\\\\\\" $array-inline-53)\\\\n                                                      (ap sp-0.$.name $array-inline-53)\\\\n                                                     )\\\\n                                                     (ap ret-115 $array-inline-53)\\\\n                                                    )\\\\n                                                    (canon %init_peer_id% $array-inline-53  #array-inline-53-0)\\\\n                                                   )\\\\n                                                  )\\\\n                                                 )\\\\n                                                 (call %init_peer_id% (\\\\\\\"debug\\\\\\\" \\\\\\\"stringify\\\\\\\") [#array-inline-53-0] ret-116)\\\\n                                                )\\\\n                                                (call %init_peer_id% (\\\\\\\"srv\\\\\\\" \\\\\\\"resolve_alias\\\\\\\") [\\\\\\\"spell\\\\\\\"] ret-117)\\\\n                                               )\\\\n                                               (par\\\\n                                                (call %init_peer_id% (ret-117 \\\\\\\"store_log\\\\\\\") [ret-116] ret-118)\\\\n                                                (seq\\\\n                                                 (new $array-inline-54\\\\n                                                  (seq\\\\n                                                   (seq\\\\n                                                    (ap ret-117 $array-inline-54)\\\\n                                                    (ap #array-inline-53-0 $array-inline-54)\\\\n                                                   )\\\\n                                                   (canon %init_peer_id% $array-inline-54  #array-inline-54-0)\\\\n                                                  )\\\\n                                                 )\\\\n                                                 (call %init_peer_id% (\\\\\\\"run-console\\\\\\\" \\\\\\\"print\\\\\\\") [#array-inline-54-0])\\\\n                                                )\\\\n                                               )\\\\n                                              )\\\\n                                              (call %init_peer_id% (\\\\\\\"worker-spell\\\\\\\" \\\\\\\"set_string\\\\\\\") [sp-0.$.name ret-115] ret-119)\\\\n                                             )\\\\n                                             (call %init_peer_id% (\\\\\\\"op\\\\\\\" \\\\\\\"concat_strings\\\\\\\") [\\\\\\\"trigger_config:\\\\\\\" sp-0.$.name] ret-120)\\\\n                                            )\\\\n                                            (call %init_peer_id% (\\\\\\\"worker-spell\\\\\\\" \\\\\\\"set_string\\\\\\\") [ret-120 sp-0.$.config] ret-121)\\\\n                                           )\\\\n                                           (call %init_peer_id% (\\\\\\\"op\\\\\\\" \\\\\\\"concat_strings\\\\\\\") [\\\\\\\"init_args:\\\\\\\" sp-0.$.name] ret-122)\\\\n                                          )\\\\n                                          (call %init_peer_id% (\\\\\\\"worker-spell\\\\\\\" \\\\\\\"set_string\\\\\\\") [ret-122 sp-0.$.init_args] ret-123)\\\\n                                         )\\\\n                                         (seq\\\\n                                          (seq\\\\n                                           (seq\\\\n                                            (new $array-inline-55\\\\n                                             (seq\\\\n                                              (seq\\\\n                                               (seq\\\\n                                                (ap \\\\\\\"Error installing the spell\\\\\\\" $array-inline-55)\\\\n                                                (ap sp-0.$.name $array-inline-55)\\\\n                                               )\\\\n                                               (ap :error: $array-inline-55)\\\\n                                              )\\\\n                                              (canon %init_peer_id% $array-inline-55  #array-inline-55-0)\\\\n                                             )\\\\n                                            )\\\\n                                            (call %init_peer_id% (\\\\\\\"debug\\\\\\\" \\\\\\\"stringify\\\\\\\") [#array-inline-55-0] ret-124)\\\\n                                           )\\\\n                                           (call %init_peer_id% (\\\\\\\"srv\\\\\\\" \\\\\\\"resolve_alias\\\\\\\") [\\\\\\\"spell\\\\\\\"] ret-125)\\\\n                                          )\\\\n                                          (par\\\\n                                           (call %init_peer_id% (ret-125 \\\\\\\"store_log\\\\\\\") [ret-124] ret-126)\\\\n                                           (seq\\\\n                                            (new $array-inline-56\\\\n                                             (seq\\\\n                                              (seq\\\\n                                               (ap ret-125 $array-inline-56)\\\\n                                               (ap #array-inline-55-0 $array-inline-56)\\\\n                                              )\\\\n                                              (canon %init_peer_id% $array-inline-56  #array-inline-56-0)\\\\n                                             )\\\\n                                            )\\\\n                                            (call %init_peer_id% (\\\\\\\"run-console\\\\\\\" \\\\\\\"print\\\\\\\") [#array-inline-56-0])\\\\n                                           )\\\\n                                          )\\\\n                                         )\\\\n                                        )\\\\n                                       )\\\\n                                      )\\\\n                                      (seq\\\\n                                       (ap :error: -if-error-)\\\\n                                       (xor\\\\n                                        (match :error:.$.error_code 10001\\\\n                                         (seq\\\\n                                          (seq\\\\n                                           (seq\\\\n                                            (new $array-inline-57\\\\n                                             (seq\\\\n                                              (seq\\\\n                                               (seq\\\\n                                                (seq\\\\n                                                 (seq\\\\n                                                  (seq\\\\n                                                   (seq\\\\n                                                    (seq\\\\n                                                     (new $array-inline-58\\\\n                                                      (seq\\\\n                                                       (seq\\\\n                                                        (seq\\\\n                                                         (ap \\\\\\\"script\\\\\\\" $array-inline-58)\\\\n                                                         (ap sp-0.$.script $array-inline-58)\\\\n                                                        )\\\\n                                                        (ap ret-110 $array-inline-58)\\\\n                                                       )\\\\n                                                       (canon %init_peer_id% $array-inline-58  #array-inline-58-0)\\\\n                                                      )\\\\n                                                     )\\\\n                                                     (new $array-inline-59\\\\n                                                      (seq\\\\n                                                       (seq\\\\n                                                        (seq\\\\n                                                         (ap \\\\\\\"cfg_json\\\\\\\" $array-inline-59)\\\\n                                                         (ap sp-0.$.config $array-inline-59)\\\\n                                                        )\\\\n                                                        (ap ret-111 $array-inline-59)\\\\n                                                       )\\\\n                                                       (canon %init_peer_id% $array-inline-59  #array-inline-59-0)\\\\n                                                      )\\\\n                                                     )\\\\n                                                    )\\\\n                                                    (new $array-inline-60\\\\n                                                     (seq\\\\n                                                      (seq\\\\n                                                       (seq\\\\n                                                        (ap \\\\\\\"init_args_str\\\\\\\" $array-inline-60)\\\\n                                                        (ap sp-0.$.init_args $array-inline-60)\\\\n                                                       )\\\\n                                                       (ap ret-112 $array-inline-60)\\\\n                                                      )\\\\n                                                      (canon %init_peer_id% $array-inline-60  #array-inline-60-0)\\\\n                                                     )\\\\n                                                    )\\\\n                                                   )\\\\n                                                   (ap sp-0.$.name $array-inline-57)\\\\n                                                  )\\\\n                                                  (ap \\\\\\\"error retrieving from IPFS\\\\\\\" $array-inline-57)\\\\n                                                 )\\\\n                                                 (ap #array-inline-58-0 $array-inline-57)\\\\n                                                )\\\\n                                                (ap #array-inline-59-0 $array-inline-57)\\\\n                                               )\\\\n                                               (ap #array-inline-60-0 $array-inline-57)\\\\n                                              )\\\\n                                              (canon %init_peer_id% $array-inline-57  #array-inline-57-0)\\\\n                                             )\\\\n                                            )\\\\n                                            (call %init_peer_id% (\\\\\\\"debug\\\\\\\" \\\\\\\"stringify\\\\\\\") [#array-inline-57-0] ret-127)\\\\n                                           )\\\\n                                           (call %init_peer_id% (\\\\\\\"srv\\\\\\\" \\\\\\\"resolve_alias\\\\\\\") [\\\\\\\"spell\\\\\\\"] ret-128)\\\\n                                          )\\\\n                                          (par\\\\n                                           (call %init_peer_id% (ret-128 \\\\\\\"store_log\\\\\\\") [ret-127] ret-129)\\\\n                                           (seq\\\\n                                            (new $array-inline-61\\\\n                                             (seq\\\\n                                              (seq\\\\n                                               (ap ret-128 $array-inline-61)\\\\n                                               (ap #array-inline-57-0 $array-inline-61)\\\\n                                              )\\\\n                                              (canon %init_peer_id% $array-inline-61  #array-inline-61-0)\\\\n                                             )\\\\n                                            )\\\\n                                            (call %init_peer_id% (\\\\\\\"run-console\\\\\\\" \\\\\\\"print\\\\\\\") [#array-inline-61-0])\\\\n                                           )\\\\n                                          )\\\\n                                         )\\\\n                                        )\\\\n                                        (seq\\\\n                                         (seq\\\\n                                          (ap :error: -else-error-)\\\\n                                          (xor\\\\n                                           (match :error:.$.error_code 10001\\\\n                                            (ap -if-error- -if-else-error-)\\\\n                                           )\\\\n                                           (ap -else-error- -if-else-error-)\\\\n                                          )\\\\n                                         )\\\\n                                         (fail -if-else-error-)\\\\n                                        )\\\\n                                       )\\\\n                                      )\\\\n                                     )\\\\n                                    )\\\\n                                   )\\\\n                                  )\\\\n                                 )\\\\n                                )\\\\n                                (seq\\\\n                                 (seq\\\\n                                  (ap :error: -else-error-)\\\\n                                  (xor\\\\n                                   (match :error:.$.error_code 10001\\\\n                                    (ap -if-error- -if-else-error-)\\\\n                                   )\\\\n                                   (ap -else-error- -if-else-error-)\\\\n                                  )\\\\n                                 )\\\\n                                 (fail -if-else-error-)\\\\n                                )\\\\n                               )\\\\n                              )\\\\n                             )\\\\n                            )\\\\n                           )\\\\n                          )\\\\n                         )\\\\n                         (seq\\\\n                          (seq\\\\n                           (seq\\\\n                            (new $array-inline-62\\\\n                             (seq\\\\n                              (seq\\\\n                               (seq\\\\n                                (ap \\\\\\\"Error deploy spell\\\\\\\" $array-inline-62)\\\\n                                (ap sp-0.$.name $array-inline-62)\\\\n                               )\\\\n                               (ap :error: $array-inline-62)\\\\n                              )\\\\n                              (canon %init_peer_id% $array-inline-62  #array-inline-62-0)\\\\n                             )\\\\n                            )\\\\n                            (call %init_peer_id% (\\\\\\\"debug\\\\\\\" \\\\\\\"stringify\\\\\\\") [#array-inline-62-0] ret-130)\\\\n                           )\\\\n                           (call %init_peer_id% (\\\\\\\"srv\\\\\\\" \\\\\\\"resolve_alias\\\\\\\") [\\\\\\\"spell\\\\\\\"] ret-131)\\\\n                          )\\\\n                          (par\\\\n                           (call %init_peer_id% (ret-131 \\\\\\\"store_log\\\\\\\") [ret-130] ret-132)\\\\n                           (seq\\\\n                            (new $array-inline-63\\\\n                             (seq\\\\n                              (seq\\\\n                               (ap ret-131 $array-inline-63)\\\\n                               (ap #array-inline-62-0 $array-inline-63)\\\\n                              )\\\\n                              (canon %init_peer_id% $array-inline-63  #array-inline-63-0)\\\\n                             )\\\\n                            )\\\\n                            (call %init_peer_id% (\\\\\\\"run-console\\\\\\\" \\\\\\\"print\\\\\\\") [#array-inline-63-0])\\\\n                           )\\\\n                          )\\\\n                         )\\\\n                        )\\\\n                       )\\\\n                       (seq\\\\n                        (seq\\\\n                         (seq\\\\n                          (new $array-inline-64\\\\n                           (seq\\\\n                            (seq\\\\n                             (seq\\\\n                              (ap \\\\\\\"Error deploying spell\\\\\\\" $array-inline-64)\\\\n                              (ap sp-0.$.name $array-inline-64)\\\\n                             )\\\\n                             (ap :error: $array-inline-64)\\\\n                            )\\\\n                            (canon %init_peer_id% $array-inline-64  #array-inline-64-0)\\\\n                           )\\\\n                          )\\\\n                          (call %init_peer_id% (\\\\\\\"debug\\\\\\\" \\\\\\\"stringify\\\\\\\") [#array-inline-64-0] ret-133)\\\\n                         )\\\\n                         (call %init_peer_id% (\\\\\\\"srv\\\\\\\" \\\\\\\"resolve_alias\\\\\\\") [\\\\\\\"spell\\\\\\\"] ret-134)\\\\n                        )\\\\n                        (par\\\\n                         (call %init_peer_id% (ret-134 \\\\\\\"store_log\\\\\\\") [ret-133] ret-135)\\\\n                         (seq\\\\n                          (new $array-inline-65\\\\n                           (seq\\\\n                            (seq\\\\n                             (ap ret-134 $array-inline-65)\\\\n                             (ap #array-inline-64-0 $array-inline-65)\\\\n                            )\\\\n                            (canon %init_peer_id% $array-inline-65  #array-inline-65-0)\\\\n                           )\\\\n                          )\\\\n                          (call %init_peer_id% (\\\\\\\"run-console\\\\\\\" \\\\\\\"print\\\\\\\") [#array-inline-65-0])\\\\n                         )\\\\n                        )\\\\n                       )\\\\n                      )\\\\n                      (next sp-0)\\\\n                     )\\\\n                    )\\\\n                   )\\\\n                   (call %init_peer_id% (\\\\\\\"debug\\\\\\\" \\\\\\\"stringify\\\\\\\") [\\\\\\\"Installation finished\\\\\\\"] ret-136)\\\\n                  )\\\\n                  (call %init_peer_id% (\\\\\\\"srv\\\\\\\" \\\\\\\"resolve_alias\\\\\\\") [\\\\\\\"spell\\\\\\\"] ret-137)\\\\n                 )\\\\n                 (par\\\\n                  (call %init_peer_id% (ret-137 \\\\\\\"store_log\\\\\\\") [ret-136] ret-138)\\\\n                  (seq\\\\n                   (new $array-inline-66\\\\n                    (seq\\\\n                     (seq\\\\n                      (ap ret-137 $array-inline-66)\\\\n                      (ap \\\\\\\"Installation finished\\\\\\\" $array-inline-66)\\\\n                     )\\\\n                     (canon %init_peer_id% $array-inline-66  #array-inline-66-0)\\\\n                    )\\\\n                   )\\\\n                   (call %init_peer_id% (\\\\\\\"run-console\\\\\\\" \\\\\\\"print\\\\\\\") [#array-inline-66-0])\\\\n                  )\\\\n                 )\\\\n                )\\\\n                (new $status-2\\\\n                 (seq\\\\n                  (seq\\\\n                   (seq\\\\n                    (call %init_peer_id% (\\\\\\\"worker-spell\\\\\\\" \\\\\\\"list_get_strings\\\\\\\") [\\\\\\\"__installation_spell_status__\\\\\\\"] ret-139)\\\\n                    (xor\\\\n                     (match ret-139.$.success true\\\\n                      (ap false not-0)\\\\n                     )\\\\n                     (ap true not-0)\\\\n                    )\\\\n                   )\\\\n                   (new -if-else-error-\\\\n                    (new -else-error-\\\\n                     (new -if-error-\\\\n                      (xor\\\\n                       (match not-0 true\\\\n                        (seq\\\\n                         (new %Status_obj-1_map\\\\n                          (seq\\\\n                           (seq\\\\n                            (seq\\\\n                             (ap (\\\\\\\"message\\\\\\\" ret-139.$.error) %Status_obj-1_map)\\\\n                             (ap (\\\\\\\"state\\\\\\\" \\\\\\\"STATUS_LOAD_ERROR\\\\\\\") %Status_obj-1_map)\\\\n                            )\\\\n                            (ap (\\\\\\\"timestamp\\\\\\\" 0) %Status_obj-1_map)\\\\n                           )\\\\n                           (canon %init_peer_id% %Status_obj-1_map  Status_obj-1)\\\\n                          )\\\\n                         )\\\\n                         (ap Status_obj-1 $status-2)\\\\n                        )\\\\n                       )\\\\n                       (seq\\\\n                        (ap :error: -if-error-)\\\\n                        (xor\\\\n                         (match :error:.$.error_code 10001\\\\n                          (seq\\\\n                           (seq\\\\n                            (seq\\\\n                             (ap ret-139.$.value ret-139_flat)\\\\n                             (ap ret-139_flat ret-139_flat_to_functor)\\\\n                            )\\\\n                            (ap ret-139_flat_to_functor.length ret-139_flat_length)\\\\n                           )\\\\n                           (new -if-else-error-\\\\n                            (new -else-error-\\\\n                             (new -if-error-\\\\n                              (xor\\\\n                               (match ret-139_flat_length 0\\\\n                                (seq\\\\n                                 (new %Status_obj-2_map\\\\n                                  (seq\\\\n                                   (seq\\\\n                                    (seq\\\\n                                     (ap (\\\\\\\"message\\\\\\\" \\\\\\\"Installation has not started yet\\\\\\\") %Status_obj-2_map)\\\\n                                     (ap (\\\\\\\"state\\\\\\\" \\\\\\\"NOT_STARTED\\\\\\\") %Status_obj-2_map)\\\\n                                    )\\\\n                                    (ap (\\\\\\\"timestamp\\\\\\\" 0) %Status_obj-2_map)\\\\n                                   )\\\\n                                   (canon %init_peer_id% %Status_obj-2_map  Status_obj-2)\\\\n                                  )\\\\n                                 )\\\\n                                 (ap Status_obj-2 $status-2)\\\\n                                )\\\\n                               )\\\\n                               (seq\\\\n                                (ap :error: -if-error-)\\\\n                                (xor\\\\n                                 (match :error:.$.error_code 10001\\\\n                                  (seq\\\\n                                   (seq\\\\n                                    (seq\\\\n                                     (seq\\\\n                                      (seq\\\\n                                       (ap ret-139.$.value ret-139_flat-0)\\\\n                                       (ap ret-139_flat-0 ret-139_flat-0_to_functor)\\\\n                                      )\\\\n                                      (ap ret-139_flat-0_to_functor.length ret-139_flat-0_length)\\\\n                                     )\\\\n                                     (call %init_peer_id% (\\\\\\\"math\\\\\\\" \\\\\\\"sub\\\\\\\") [ret-139_flat-0_length 1] sub)\\\\n                                    )\\\\n                                    (call %init_peer_id% (\\\\\\\"json\\\\\\\" \\\\\\\"parse\\\\\\\") [ret-139.$.value.[sub]] ret-140)\\\\n                                   )\\\\n                                   (ap ret-140 $status-2)\\\\n                                  )\\\\n                                 )\\\\n                                 (seq\\\\n                                  (seq\\\\n                                   (ap :error: -else-error-)\\\\n                                   (xor\\\\n                                    (match :error:.$.error_code 10001\\\\n                                     (ap -if-error- -if-else-error-)\\\\n                                    )\\\\n                                    (ap -else-error- -if-else-error-)\\\\n                                   )\\\\n                                  )\\\\n                                  (fail -if-else-error-)\\\\n                                 )\\\\n                                )\\\\n                               )\\\\n                              )\\\\n                             )\\\\n                            )\\\\n                           )\\\\n                          )\\\\n                         )\\\\n                         (seq\\\\n                          (seq\\\\n                           (ap :error: -else-error-)\\\\n                           (xor\\\\n                            (match :error:.$.error_code 10001\\\\n                             (ap -if-error- -if-else-error-)\\\\n                            )\\\\n                            (ap -else-error- -if-else-error-)\\\\n                           )\\\\n                          )\\\\n                          (fail -if-else-error-)\\\\n                         )\\\\n                        )\\\\n                       )\\\\n                      )\\\\n                     )\\\\n                    )\\\\n                   )\\\\n                  )\\\\n                  (new $status-2_test\\\\n                   (seq\\\\n                    (seq\\\\n                     (fold $status-2 status-2_fold_var\\\\n                      (seq\\\\n                       (seq\\\\n                        (ap status-2_fold_var $status-2_test)\\\\n                        (canon %init_peer_id% $status-2_test  #status-2_iter_canon)\\\\n                       )\\\\n                       (xor\\\\n                        (match #status-2_iter_canon.length 1\\\\n                         (null)\\\\n                        )\\\\n                        (next status-2_fold_var)\\\\n                       )\\\\n                      )\\\\n                      (never)\\\\n                     )\\\\n                     (canon %init_peer_id% $status-2_test  #status-2_result_canon)\\\\n                    )\\\\n                    (ap #status-2_result_canon status-2_gate)\\\\n                   )\\\\n                  )\\\\n                 )\\\\n                )\\\\n               )\\\\n               (new -if-error-\\\\n                (xor\\\\n                 (match status-2_gate.$.[0].state \\\\\\\"INSTALLATION_IN_PROGRESS\\\\\\\"\\\\n                  (seq\\\\n                   (seq\\\\n                    (seq\\\\n                     (call %init_peer_id% (\\\\\\\"peer\\\\\\\" \\\\\\\"timestamp_sec\\\\\\\") [] ret-141)\\\\n                     (new %Status_obj-3_map\\\\n                      (seq\\\\n                       (seq\\\\n                        (seq\\\\n                         (ap (\\\\\\\"message\\\\\\\" \\\\\\\"\\\\\\\") %Status_obj-3_map)\\\\n                         (ap (\\\\\\\"state\\\\\\\" \\\\\\\"INSTALLATION_SUCCESSFUL\\\\\\\") %Status_obj-3_map)\\\\n                        )\\\\n                        (ap (\\\\\\\"timestamp\\\\\\\" ret-141) %Status_obj-3_map)\\\\n                       )\\\\n                       (canon %init_peer_id% %Status_obj-3_map  Status_obj-3)\\\\n                      )\\\\n                     )\\\\n                    )\\\\n                    (call %init_peer_id% (\\\\\\\"json\\\\\\\" \\\\\\\"stringify\\\\\\\") [Status_obj-3] ret-142)\\\\n                   )\\\\n                   (call %init_peer_id% (\\\\\\\"worker-spell\\\\\\\" \\\\\\\"list_push_string\\\\\\\") [\\\\\\\"__installation_spell_status__\\\\\\\" ret-142] ret-143)\\\\n                  )\\\\n                 )\\\\n                 (seq\\\\n                  (ap :error: -if-error-)\\\\n                  (xor\\\\n                   (match :error:.$.error_code 10001\\\\n                    (null)\\\\n                   )\\\\n                   (fail -if-error-)\\\\n                  )\\\\n                 )\\\\n                )\\\\n               )\\\\n              )\\\\n             )\\\\n             (seq\\\\n              (ap :error: -if-error-)\\\\n              (xor\\\\n               (match :error:.$.error_code 10001\\\\n                (seq\\\\n                 (seq\\\\n                  (seq\\\\n                   (seq\\\\n                    (seq\\\\n                     (seq\\\\n                      (seq\\\\n                       (seq\\\\n                        (new $array-inline-67\\\\n                         (seq\\\\n                          (seq\\\\n                           (seq\\\\n                            (seq\\\\n                             (ap \\\\\\\"Error downloading worker definition from IPFS\\\\\\\" $array-inline-67)\\\\n                             (ap -ipfs-arg- $array-inline-67)\\\\n                            )\\\\n                            (ap -worker_def_cid-arg- $array-inline-67)\\\\n                           )\\\\n                           (ap ret-2 $array-inline-67)\\\\n                          )\\\\n                          (canon %init_peer_id% $array-inline-67  #array-inline-67-0)\\\\n                         )\\\\n                        )\\\\n                        (call %init_peer_id% (\\\\\\\"debug\\\\\\\" \\\\\\\"stringify\\\\\\\") [#array-inline-67-0] ret-144)\\\\n                       )\\\\n                       (call %init_peer_id% (\\\\\\\"srv\\\\\\\" \\\\\\\"resolve_alias\\\\\\\") [\\\\\\\"spell\\\\\\\"] ret-145)\\\\n                      )\\\\n                      (par\\\\n                       (call %init_peer_id% (ret-145 \\\\\\\"store_log\\\\\\\") [ret-144] ret-146)\\\\n                       (seq\\\\n                        (new $array-inline-68\\\\n                         (seq\\\\n                          (seq\\\\n                           (ap ret-145 $array-inline-68)\\\\n                           (ap #array-inline-67-0 $array-inline-68)\\\\n                          )\\\\n                          (canon %init_peer_id% $array-inline-68  #array-inline-68-0)\\\\n                         )\\\\n                        )\\\\n                        (call %init_peer_id% (\\\\\\\"run-console\\\\\\\" \\\\\\\"print\\\\\\\") [#array-inline-68-0])\\\\n                       )\\\\n                      )\\\\n                     )\\\\n                     (call %init_peer_id% (\\\\\\\"debug\\\\\\\" \\\\\\\"stringify\\\\\\\") [#array-inline-67-0] ret-147)\\\\n                    )\\\\n                    (call %init_peer_id% (\\\\\\\"peer\\\\\\\" \\\\\\\"timestamp_sec\\\\\\\") [] ret-148)\\\\n                   )\\\\n                   (new %Status_obj-4_map\\\\n                    (seq\\\\n                     (seq\\\\n                      (seq\\\\n                       (ap (\\\\\\\"message\\\\\\\" ret-147) %Status_obj-4_map)\\\\n                       (ap (\\\\\\\"state\\\\\\\" \\\\\\\"INSTALLATION_FAILED\\\\\\\") %Status_obj-4_map)\\\\n                      )\\\\n                      (ap (\\\\\\\"timestamp\\\\\\\" ret-148) %Status_obj-4_map)\\\\n                     )\\\\n                     (canon %init_peer_id% %Status_obj-4_map  Status_obj-4)\\\\n                    )\\\\n                   )\\\\n                  )\\\\n                  (call %init_peer_id% (\\\\\\\"json\\\\\\\" \\\\\\\"stringify\\\\\\\") [Status_obj-4] ret-149)\\\\n                 )\\\\n                 (call %init_peer_id% (\\\\\\\"worker-spell\\\\\\\" \\\\\\\"list_push_string\\\\\\\") [\\\\\\\"__installation_spell_status__\\\\\\\" ret-149] ret-150)\\\\n                )\\\\n               )\\\\n               (seq\\\\n                (seq\\\\n                 (ap :error: -else-error-)\\\\n                 (xor\\\\n                  (match :error:.$.error_code 10001\\\\n                   (ap -if-error- -if-else-error-)\\\\n                  )\\\\n                  (ap -else-error- -if-else-error-)\\\\n                 )\\\\n                )\\\\n                (fail -if-else-error-)\\\\n               )\\\\n              )\\\\n             )\\\\n            )\\\\n           )\\\\n          )\\\\n         )\\\\n        )\\\\n        (seq\\\\n         (seq\\\\n          (seq\\\\n           (seq\\\\n            (seq\\\\n             (seq\\\\n              (seq\\\\n               (seq\\\\n                (new $array-inline-69\\\\n                 (seq\\\\n                  (seq\\\\n                   (ap \\\\\\\"Error installing worker\\\\\\\" $array-inline-69)\\\\n                   (ap :error: $array-inline-69)\\\\n                  )\\\\n                  (canon %init_peer_id% $array-inline-69  #array-inline-69-0)\\\\n                 )\\\\n                )\\\\n                (call %init_peer_id% (\\\\\\\"debug\\\\\\\" \\\\\\\"stringify\\\\\\\") [#array-inline-69-0] ret-151)\\\\n               )\\\\n               (call %init_peer_id% (\\\\\\\"srv\\\\\\\" \\\\\\\"resolve_alias\\\\\\\") [\\\\\\\"spell\\\\\\\"] ret-152)\\\\n              )\\\\n              (par\\\\n               (call %init_peer_id% (ret-152 \\\\\\\"store_log\\\\\\\") [ret-151] ret-153)\\\\n               (seq\\\\n                (new $array-inline-70\\\\n                 (seq\\\\n                  (seq\\\\n                   (ap ret-152 $array-inline-70)\\\\n                   (ap #array-inline-69-0 $array-inline-70)\\\\n                  )\\\\n                  (canon %init_peer_id% $array-inline-70  #array-inline-70-0)\\\\n                 )\\\\n                )\\\\n                (call %init_peer_id% (\\\\\\\"run-console\\\\\\\" \\\\\\\"print\\\\\\\") [#array-inline-70-0])\\\\n               )\\\\n              )\\\\n             )\\\\n             (call %init_peer_id% (\\\\\\\"debug\\\\\\\" \\\\\\\"stringify\\\\\\\") [#array-inline-69-0] ret-154)\\\\n            )\\\\n            (call %init_peer_id% (\\\\\\\"peer\\\\\\\" \\\\\\\"timestamp_sec\\\\\\\") [] ret-155)\\\\n           )\\\\n           (new %Status_obj-5_map\\\\n            (seq\\\\n             (seq\\\\n              (seq\\\\n               (ap (\\\\\\\"message\\\\\\\" ret-154) %Status_obj-5_map)\\\\n               (ap (\\\\\\\"state\\\\\\\" \\\\\\\"INSTALLATION_FAILED\\\\\\\") %Status_obj-5_map)\\\\n              )\\\\n              (ap (\\\\\\\"timestamp\\\\\\\" ret-155) %Status_obj-5_map)\\\\n             )\\\\n             (canon %init_peer_id% %Status_obj-5_map  Status_obj-5)\\\\n            )\\\\n           )\\\\n          )\\\\n          (call %init_peer_id% (\\\\\\\"json\\\\\\\" \\\\\\\"stringify\\\\\\\") [Status_obj-5] ret-156)\\\\n         )\\\\n         (call %init_peer_id% (\\\\\\\"worker-spell\\\\\\\" \\\\\\\"list_push_string\\\\\\\") [\\\\\\\"__installation_spell_status__\\\\\\\" ret-156] ret-157)\\\\n        )\\\\n       )\\\\n      )\\\\n      (new $status-6\\\\n       (seq\\\\n        (seq\\\\n         (seq\\\\n          (call %init_peer_id% (\\\\\\\"worker-spell\\\\\\\" \\\\\\\"list_get_strings\\\\\\\") [\\\\\\\"__installation_spell_status__\\\\\\\"] ret-158)\\\\n          (xor\\\\n           (match ret-158.$.success true\\\\n            (ap false not-1)\\\\n           )\\\\n           (ap true not-1)\\\\n          )\\\\n         )\\\\n         (new -if-else-error-\\\\n          (new -else-error-\\\\n           (new -if-error-\\\\n            (xor\\\\n             (match not-1 true\\\\n              (seq\\\\n               (new %Status_obj-6_map\\\\n                (seq\\\\n                 (seq\\\\n                  (seq\\\\n                   (ap (\\\\\\\"message\\\\\\\" ret-158.$.error) %Status_obj-6_map)\\\\n                   (ap (\\\\\\\"state\\\\\\\" \\\\\\\"STATUS_LOAD_ERROR\\\\\\\") %Status_obj-6_map)\\\\n                  )\\\\n                  (ap (\\\\\\\"timestamp\\\\\\\" 0) %Status_obj-6_map)\\\\n                 )\\\\n                 (canon %init_peer_id% %Status_obj-6_map  Status_obj-6)\\\\n                )\\\\n               )\\\\n               (ap Status_obj-6 $status-6)\\\\n              )\\\\n             )\\\\n             (seq\\\\n              (ap :error: -if-error-)\\\\n              (xor\\\\n               (match :error:.$.error_code 10001\\\\n                (seq\\\\n                 (seq\\\\n                  (seq\\\\n                   (ap ret-158.$.value ret-158_flat)\\\\n                   (ap ret-158_flat ret-158_flat_to_functor)\\\\n                  )\\\\n                  (ap ret-158_flat_to_functor.length ret-158_flat_length)\\\\n                 )\\\\n                 (new -if-else-error-\\\\n                  (new -else-error-\\\\n                   (new -if-error-\\\\n                    (xor\\\\n                     (match ret-158_flat_length 0\\\\n                      (seq\\\\n                       (new %Status_obj-7_map\\\\n                        (seq\\\\n                         (seq\\\\n                          (seq\\\\n                           (ap (\\\\\\\"message\\\\\\\" \\\\\\\"Installation has not started yet\\\\\\\") %Status_obj-7_map)\\\\n                           (ap (\\\\\\\"state\\\\\\\" \\\\\\\"NOT_STARTED\\\\\\\") %Status_obj-7_map)\\\\n                          )\\\\n                          (ap (\\\\\\\"timestamp\\\\\\\" 0) %Status_obj-7_map)\\\\n                         )\\\\n                         (canon %init_peer_id% %Status_obj-7_map  Status_obj-7)\\\\n                        )\\\\n                       )\\\\n                       (ap Status_obj-7 $status-6)\\\\n                      )\\\\n                     )\\\\n                     (seq\\\\n                      (ap :error: -if-error-)\\\\n                      (xor\\\\n                       (match :error:.$.error_code 10001\\\\n                        (seq\\\\n                         (seq\\\\n                          (seq\\\\n                           (seq\\\\n                            (seq\\\\n                             (ap ret-158.$.value ret-158_flat-0)\\\\n                             (ap ret-158_flat-0 ret-158_flat-0_to_functor)\\\\n                            )\\\\n                            (ap ret-158_flat-0_to_functor.length ret-158_flat-0_length)\\\\n                           )\\\\n                           (call %init_peer_id% (\\\\\\\"math\\\\\\\" \\\\\\\"sub\\\\\\\") [ret-158_flat-0_length 1] sub-0)\\\\n                          )\\\\n                          (call %init_peer_id% (\\\\\\\"json\\\\\\\" \\\\\\\"parse\\\\\\\") [ret-158.$.value.[sub-0]] ret-159)\\\\n                         )\\\\n                         (ap ret-159 $status-6)\\\\n                        )\\\\n                       )\\\\n                       (seq\\\\n                        (seq\\\\n                         (ap :error: -else-error-)\\\\n                         (xor\\\\n                          (match :error:.$.error_code 10001\\\\n                           (ap -if-error- -if-else-error-)\\\\n                          )\\\\n                          (ap -else-error- -if-else-error-)\\\\n                         )\\\\n                        )\\\\n                        (fail -if-else-error-)\\\\n                       )\\\\n                      )\\\\n                     )\\\\n                    )\\\\n                   )\\\\n                  )\\\\n                 )\\\\n                )\\\\n               )\\\\n               (seq\\\\n                (seq\\\\n                 (ap :error: -else-error-)\\\\n                 (xor\\\\n                  (match :error:.$.error_code 10001\\\\n                   (ap -if-error- -if-else-error-)\\\\n                  )\\\\n                  (ap -else-error- -if-else-error-)\\\\n                 )\\\\n                )\\\\n                (fail -if-else-error-)\\\\n               )\\\\n              )\\\\n             )\\\\n            )\\\\n           )\\\\n          )\\\\n         )\\\\n        )\\\\n        (new $status-6_test\\\\n         (seq\\\\n          (seq\\\\n           (fold $status-6 status-6_fold_var\\\\n            (seq\\\\n             (seq\\\\n              (ap status-6_fold_var $status-6_test)\\\\n              (canon %init_peer_id% $status-6_test  #status-6_iter_canon)\\\\n             )\\\\n             (xor\\\\n              (match #status-6_iter_canon.length 1\\\\n               (null)\\\\n              )\\\\n              (next status-6_fold_var)\\\\n             )\\\\n            )\\\\n            (never)\\\\n           )\\\\n           (canon %init_peer_id% $status-6_test  #status-6_result_canon)\\\\n          )\\\\n          (ap #status-6_result_canon status-6_gate)\\\\n         )\\\\n        )\\\\n       )\\\\n      )\\\\n     )\\\\n     (new $array-inline-71\\\\n      (seq\\\\n       (seq\\\\n        (ap \\\\\\\"Worker installation finished with status\\\\\\\" $array-inline-71)\\\\n        (ap status-6_gate.$.[0] $array-inline-71)\\\\n       )\\\\n       (canon %init_peer_id% $array-inline-71  #array-inline-71-0)\\\\n      )\\\\n     )\\\\n    )\\\\n    (call %init_peer_id% (\\\\\\\"debug\\\\\\\" \\\\\\\"stringify\\\\\\\") [#array-inline-71-0] ret-160)\\\\n   )\\\\n   (call %init_peer_id% (\\\\\\\"srv\\\\\\\" \\\\\\\"resolve_alias\\\\\\\") [\\\\\\\"spell\\\\\\\"] ret-161)\\\\n  )\\\\n  (par\\\\n   (call %init_peer_id% (ret-161 \\\\\\\"store_log\\\\\\\") [ret-160] ret-162)\\\\n   (seq\\\\n    (new $array-inline-72\\\\n     (seq\\\\n      (seq\\\\n       (ap ret-161 $array-inline-72)\\\\n       (ap #array-inline-71-0 $array-inline-72)\\\\n      )\\\\n      (canon %init_peer_id% $array-inline-72  #array-inline-72-0)\\\\n     )\\\\n    )\\\\n    (call %init_peer_id% (\\\\\\\"run-console\\\\\\\" \\\\\\\"print\\\\\\\") [#array-inline-72-0])\\\\n   )\\\\n  )\\\\n )\\\\n (call %init_peer_id% (\\\\\\\"errorHandlingSrv\\\\\\\" \\\\\\\"error\\\\\\\") [:error: 0])\\\\n)\\\\n\\\"}' does not contain element with field name = 'tx_info'\",\"peer_id\":\"12D3KooWCfoZ3bqxvmHen15Zp5jTt9v6BYHezu1MS74PfS4mCt4G\"}]"]}
{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "store_log", "args": ["[\"unknown_txs_before_diff:\",\"all:\",[\"{\\\"deal_id\\\":\\\"0xffa0611a099ab68ad7c3c67b4ca5bbbee7a58b99\\\",\\\"tx_hash\\\":\\\"0x55bfec4a4400ca0b09e075e2b517041cd78b10021c51726cb73bcba52213fa05\\\"}\"],\"known:\",[\"{\\\"deal_id\\\":\\\"0xffa0611a099ab68ad7c3c67b4ca5bbbee7a58b99\\\",\\\"tx_hash\\\":\\\"0x55bfec4a4400ca0b09e075e2b517041cd78b10021c51726cb73bcba52213fa05\\\"}\"]]"]}
{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "get_string", "args": ["last_seen_block"]}
{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "get_u32", "args": ["counter"]}
{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "set_string", "args": ["sync_info","{\"blocks_diff\":0,\"run_updated\":2}"]}
{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "get_mailbox", "args": []}
{ "service_id": "235ac800-afcc-4dfc-944d-e1674e8adbb9", "function": "store_log", "args": ["[\"mailbox\",{\"error\":\"\",\"messages\":[],\"success\":true}]"]}
